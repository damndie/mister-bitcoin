var EV=Object.create;var P0=Object.defineProperty,kV=Object.defineProperties,LV=Object.getOwnPropertyDescriptor,NV=Object.getOwnPropertyDescriptors,OV=Object.getOwnPropertyNames,Up=Object.getOwnPropertySymbols,IS=Object.getPrototypeOf,F0=Object.prototype.hasOwnProperty,AS=Object.prototype.propertyIsEnumerable,RV=Reflect.get;var R0=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),PV=e=>{throw TypeError(e)};var TS=(e,t,i)=>t in e?P0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,S=(e,t)=>{for(var i in t||={})F0.call(t,i)&&TS(e,i,t[i]);if(Up)for(var i of Up(t))AS.call(t,i)&&TS(e,i,t[i]);return e},k=(e,t)=>kV(e,NV(t));var mt=(e,t)=>{var i={};for(var n in e)F0.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&Up)for(var n of Up(e))t.indexOf(n)<0&&AS.call(e,n)&&(i[n]=e[n]);return i};var FV=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var VV=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OV(t))!F0.call(e,s)&&s!==i&&P0(e,s,{get:()=>t[s],enumerable:!(n=LV(t,s))||n.enumerable});return e};var BV=(e,t,i)=>(i=e!=null?EV(IS(e)):{},VV(t||!e||!e.__esModule?P0(i,"default",{value:e,enumerable:!0}):i,e));var oo=(e,t,i)=>RV(IS(e),i,t);var L=(e,t,i)=>new Promise((n,s)=>{var r=l=>{try{a(i.next(l))}catch(c){s(c)}},o=l=>{try{a(i.throw(l))}catch(c){s(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(r,o);a((i=i.apply(e,t)).next())}),jV=function(e,t){this[0]=e,this[1]=t};var $p=e=>{var t=e[R0("asyncIterator")],i=!1,n,s={};return t==null?(t=e[R0("iterator")](),n=r=>s[r]=o=>t[r](o)):(t=t.call(e),n=r=>s[r]=o=>{if(i){if(i=!1,r==="throw")throw o;return o}return i=!0,{done:!1,value:new jV(new Promise(a=>{var l=t[r](o);l instanceof Object||PV("Object expected"),a(l)}),1)}}),s[R0("iterator")]=()=>s,n("next"),"throw"in t?n("throw"):s.throw=r=>{throw r},"return"in t&&n("return"),s};var wN=FV((fme,CN)=>{"use strict";CN.exports=L8;function su(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function L8(e){if(e=e||{},e.circles)return N8(e);let t=new Map;if(t.set(Date,o=>new Date(o)),t.set(Map,(o,a)=>new Map(n(Array.from(o),a))),t.set(Set,(o,a)=>new Set(n(Array.from(o),a))),e.constructorHandlers)for(let o of e.constructorHandlers)t.set(o[0],o[1]);let i=null;return e.proto?r:s;function n(o,a){let l=Object.keys(o),c=new Array(l.length);for(let u=0;u<l.length;u++){let d=l[u],h=o[d];typeof h!="object"||h===null?c[d]=h:h.constructor!==Object&&(i=t.get(h.constructor))?c[d]=i(h,a):ArrayBuffer.isView(h)?c[d]=su(h):c[d]=a(h)}return c}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,s);if(o.constructor!==Object&&(i=t.get(o.constructor)))return i(o,s);let a={};for(let l in o){if(Object.hasOwnProperty.call(o,l)===!1)continue;let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(i=t.get(c.constructor))?a[l]=i(c,s):ArrayBuffer.isView(c)?a[l]=su(c):a[l]=s(c)}return a}function r(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,r);if(o.constructor!==Object&&(i=t.get(o.constructor)))return i(o,r);let a={};for(let l in o){let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(i=t.get(c.constructor))?a[l]=i(c,r):ArrayBuffer.isView(c)?a[l]=su(c):a[l]=r(c)}return a}}function N8(e){let t=[],i=[],n=new Map;if(n.set(Date,l=>new Date(l)),n.set(Map,(l,c)=>new Map(r(Array.from(l),c))),n.set(Set,(l,c)=>new Set(r(Array.from(l),c))),e.constructorHandlers)for(let l of e.constructorHandlers)n.set(l[0],l[1]);let s=null;return e.proto?a:o;function r(l,c){let u=Object.keys(l),d=new Array(u.length);for(let h=0;h<u.length;h++){let p=u[h],f=l[p];if(typeof f!="object"||f===null)d[p]=f;else if(f.constructor!==Object&&(s=n.get(f.constructor)))d[p]=s(f,c);else if(ArrayBuffer.isView(f))d[p]=su(f);else{let g=t.indexOf(f);g!==-1?d[p]=i[g]:d[p]=c(f)}}return d}function o(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return r(l,o);if(l.constructor!==Object&&(s=n.get(l.constructor)))return s(l,o);let c={};t.push(l),i.push(c);for(let u in l){if(Object.hasOwnProperty.call(l,u)===!1)continue;let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(s=n.get(d.constructor)))c[u]=s(d,o);else if(ArrayBuffer.isView(d))c[u]=su(d);else{let h=t.indexOf(d);h!==-1?c[u]=i[h]:c[u]=o(d)}}return t.pop(),i.pop(),c}function a(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return r(l,a);if(l.constructor!==Object&&(s=n.get(l.constructor)))return s(l,a);let c={};t.push(l),i.push(c);for(let u in l){let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(s=n.get(d.constructor)))c[u]=s(d,a);else if(ArrayBuffer.isView(d))c[u]=su(d);else{let h=t.indexOf(d);h!==-1?c[u]=i[h]:c[u]=a(d)}}return t.pop(),i.pop(),c}}});function ES(e,t){return Object.is(e,t)}var $t=null,Wp=!1,Yp=1,br=Symbol("SIGNAL");function $e(e){let t=$t;return $t=e,t}function kS(){return $t}var Ju={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function j0(e){if(Wp)throw new Error("");if($t===null)return;$t.consumerOnSignalRead(e);let t=$t.nextProducerIndex++;if(Qp($t),t<$t.producerNode.length&&$t.producerNode[t]!==e&&Ku($t)){let i=$t.producerNode[t];qp(i,$t.producerIndexOfThis[t])}$t.producerNode[t]!==e&&($t.producerNode[t]=e,$t.producerIndexOfThis[t]=Ku($t)?RS(e,$t,t):0),$t.producerLastReadVersion[t]=e.version}function zV(){Yp++}function LS(e){if(!(Ku(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Yp)){if(!e.producerMustRecompute(e)&&!G0(e)){e.dirty=!1,e.lastCleanEpoch=Yp;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Yp}}function NS(e){if(e.liveConsumerNode===void 0)return;let t=Wp;Wp=!0;try{for(let i of e.liveConsumerNode)i.dirty||GV(i)}finally{Wp=t}}function OS(){return $t?.consumerAllowSignalWrites!==!1}function GV(e){e.dirty=!0,NS(e),e.consumerMarkedDirty?.(e)}function Xp(e){return e&&(e.nextProducerIndex=0),$e(e)}function z0(e,t){if($e(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ku(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)qp(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function G0(e){Qp(e);for(let t=0;t<e.producerNode.length;t++){let i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(LS(i),n!==i.version))return!0}return!1}function H0(e){if(Qp(e),Ku(e))for(let t=0;t<e.producerNode.length;t++)qp(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function RS(e,t,i){if(PS(e),e.liveConsumerNode.length===0&&FS(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=RS(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function qp(e,t){if(PS(e),e.liveConsumerNode.length===1&&FS(e))for(let n=0;n<e.producerNode.length;n++)qp(e.producerNode[n],e.producerIndexOfThis[n]);let i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];Qp(s),s.producerIndexOfThis[n]=t}}function Ku(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Qp(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function PS(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function FS(e){return e.producerNode!==void 0}function VS(e){let t=Object.create(HV);t.computation=e;let i=()=>{if(LS(t),j0(t),t.value===Zp)throw t.error;return t.value};return i[br]=t,i}var V0=Symbol("UNSET"),B0=Symbol("COMPUTING"),Zp=Symbol("ERRORED"),HV=k(S({},Ju),{value:V0,dirty:!0,error:null,equal:ES,producerMustRecompute(e){return e.value===V0||e.value===B0},producerRecomputeValue(e){if(e.value===B0)throw new Error("Detected cycle in computations.");let t=e.value;e.value=B0;let i=Xp(e),n;try{n=e.computation()}catch(s){n=Zp,e.error=s}finally{z0(e,i)}if(t!==V0&&t!==Zp&&n!==Zp&&e.equal(t,n)){e.value=t;return}e.value=n,e.version++}});function UV(){throw new Error}var BS=UV;function jS(){BS()}function zS(e){BS=e}var $V=null;function GS(e){let t=Object.create(US);t.value=e;let i=()=>(j0(t),t.value);return i[br]=t,i}function U0(e,t){OS()||jS(),e.equal(e.value,t)||(e.value=t,WV(e))}function HS(e,t){OS()||jS(),U0(e,t(e.value))}var US=k(S({},Ju),{equal:ES,value:void 0});function WV(e){e.version++,zV(),NS(e),$V?.()}function fe(e){return typeof e=="function"}function Ul(e){let i=e(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Kp=Ul(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,s)=>`${s+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function va(e,t){if(e){let i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Et=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let r of i)r.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(fe(n))try{n()}catch(r){t=r instanceof Kp?r.errors:[r]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let r of s)try{$S(r)}catch(o){t=t??[],o instanceof Kp?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Kp(t)}}add(t){var i;if(t&&t!==this)if(this.closed)$S(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}}_hasParent(t){let{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){let{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&va(i,t)}remove(t){let{_finalizers:i}=this;i&&va(i,t),t instanceof e&&t._removeParent(this)}};Et.EMPTY=(()=>{let e=new Et;return e.closed=!0,e})();var $0=Et.EMPTY;function Jp(e){return e instanceof Et||e&&"closed"in e&&fe(e.remove)&&fe(e.add)&&fe(e.unsubscribe)}function $S(e){fe(e)?e():e.unsubscribe()}var gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $l={setTimeout(e,t,...i){let{delegate:n}=$l;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){let{delegate:t}=$l;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ef(e){$l.setTimeout(()=>{let{onUnhandledError:t}=gs;if(t)t(e);else throw e})}function ed(){}var WS=W0("C",void 0,void 0);function YS(e){return W0("E",void 0,e)}function ZS(e){return W0("N",e,void 0)}function W0(e,t,i){return{kind:e,value:t,error:i}}var xa=null;function Wl(e){if(gs.useDeprecatedSynchronousErrorHandling){let t=!xa;if(t&&(xa={errorThrown:!1,error:null}),e(),t){let{errorThrown:i,error:n}=xa;if(xa=null,i)throw n}}else e()}function XS(e){gs.useDeprecatedSynchronousErrorHandling&&xa&&(xa.errorThrown=!0,xa.error=e)}var ba=class extends Et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Jp(t)&&t.add(this)):this.destination=XV}static create(t,i,n){return new Yl(t,i,n)}next(t){this.isStopped?Z0(ZS(t),this):this._next(t)}error(t){this.isStopped?Z0(YS(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Z0(WS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YV=Function.prototype.bind;function Y0(e,t){return YV.call(e,t)}var X0=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(n){tf(n)}}error(t){let{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(n){tf(n)}else tf(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){tf(i)}}},Yl=class extends ba{constructor(t,i,n){super();let s;if(fe(t)||!t)s={next:t??void 0,error:i??void 0,complete:n??void 0};else{let r;this&&gs.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&Y0(t.next,r),error:t.error&&Y0(t.error,r),complete:t.complete&&Y0(t.complete,r)}):s=t}this.destination=new X0(s)}};function tf(e){gs.useDeprecatedSynchronousErrorHandling?XS(e):ef(e)}function ZV(e){throw e}function Z0(e,t){let{onStoppedNotification:i}=gs;i&&$l.setTimeout(()=>i(e,t))}var XV={closed:!0,next:ed,error:ZV,complete:ed};var Zl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fi(e){return e}function q0(...e){return Q0(e)}function Q0(e){return e.length===0?fi:e.length===1?e[0]:function(i){return e.reduce((n,s)=>s(n),i)}}var ke=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new e;return n.source=this,n.operator=i,n}subscribe(i,n,s){let r=QV(i)?i:new Yl(i,n,s);return Wl(()=>{let{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=qS(n),new n((s,r)=>{let o=new Yl({next:a=>{try{i(a)}catch(l){r(l),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[Zl](){return this}pipe(...i){return Q0(i)(this)}toPromise(i){return i=qS(i),new i((n,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>n(r))})}}return e.create=t=>new e(t),e})();function qS(e){var t;return(t=e??gs.Promise)!==null&&t!==void 0?t:Promise}function qV(e){return e&&fe(e.next)&&fe(e.error)&&fe(e.complete)}function QV(e){return e&&e instanceof ba||qV(e)&&Jp(e)}function K0(e){return fe(e?.lift)}function Le(e){return t=>{if(K0(t))return t.lift(function(i){try{return e(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(e,t,i,n,s){return new J0(e,t,i,n,s)}var J0=class extends ba{constructor(t,i,n,s,r,o){super(t),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(l){t.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Xl(){return Le((e,t)=>{let i=null;e._refCount++;let n=Se(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){i=null;return}let s=e._connection,r=i;i=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(i=e.connect())})}var ql=class extends ke{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,K0(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Et;let i=this.getSubject();t.add(this.source.subscribe(Se(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Et.EMPTY)}return t}refCount(){return Xl()(this)}};var QS=Ul(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var zt=(()=>{class e extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new nf(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new QS}next(i){Wl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){Wl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){Wl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:s,observers:r}=this;return n||s?$0:(this.currentObservers=null,r.push(i),new Et(()=>{this.currentObservers=null,va(r,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:s,isStopped:r}=this;n?i.error(s):r&&i.complete()}asObservable(){let i=new ke;return i.source=this,i}}return e.create=(t,i)=>new nf(t,i),e})(),nf=class extends zt{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,t)}error(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,t)}complete(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)}_subscribe(t){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&n!==void 0?n:$0}};var kt=class extends zt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){let{hasError:t,thrownError:i,_value:n}=this;if(t)throw i;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var ev={now(){return(ev.delegate||Date).now()},delegate:void 0};var sf=class extends Et{constructor(t,i){super()}schedule(t,i=0){return this}};var td={setInterval(e,t,...i){let{delegate:n}=td;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){let{delegate:t}=td;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var rf=class extends sf{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){var n;if(this.closed)return this;this.state=t;let s=this.id,r=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(r,s,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(r,this.id,i),this}requestAsyncId(t,i,n=0){return td.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&td.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let n=!1,s;try{this.work(t)}catch(r){n=!0,s=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:t,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,va(n,this),t!=null&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}};var Ql=class e{constructor(t,i=e.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,n){return new this.schedulerActionCtor(this,t).schedule(n,i)}};Ql.now=ev.now;var of=class extends Ql{constructor(t,i=Ql.now){super(t,i),this.actions=[],this._active=!1}flush(t){let{actions:i}=this;if(this._active){i.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}}};var tv=new of(rf),KS=tv;var bn=new ke(e=>e.complete());function af(e){return e&&fe(e.schedule)}function JS(e){return e[e.length-1]}function lf(e){return fe(JS(e))?e.pop():void 0}function ao(e){return af(JS(e))?e.pop():void 0}function tM(e,t,i,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}function iM(e,t,i,n){function s(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function eM(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _a(e){return this instanceof _a?(this.v=e,this):new _a(e)}function nM(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(e,t||[]),s,r=[];return s={},a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(f){return Promise.resolve(f).then(p,d)}}function a(p,f){n[p]&&(s[p]=function(g){return new Promise(function(y,x){r.push([p,g,y,x])>1||l(p,g)})},f&&(s[p]=f(s[p])))}function l(p,f){try{c(n[p](f))}catch(g){h(r[0][3],g)}}function c(p){p.value instanceof _a?Promise.resolve(p.value.v).then(u,d):h(r[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function h(p,f){p(f),r.shift(),r.length&&l(r[0][0],r[0][1])}}function sM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof eM=="function"?eM(e):e[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=e[r]&&function(o){return new Promise(function(a,l){o=e[r](o),s(a,l,o.done,o.value)})}}function s(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}var Kl=e=>e&&typeof e.length=="number"&&typeof e!="function";function cf(e){return fe(e?.then)}function uf(e){return fe(e[Zl])}function df(e){return Symbol.asyncIterator&&fe(e?.[Symbol.asyncIterator])}function hf(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pf=KV();function ff(e){return fe(e?.[pf])}function gf(e){return nM(this,arguments,function*(){let i=e.getReader();try{for(;;){let{value:n,done:s}=yield _a(i.read());if(s)return yield _a(void 0);yield yield _a(n)}}finally{i.releaseLock()}})}function mf(e){return fe(e?.getReader)}function wt(e){if(e instanceof ke)return e;if(e!=null){if(uf(e))return JV(e);if(Kl(e))return eB(e);if(cf(e))return tB(e);if(df(e))return rM(e);if(ff(e))return iB(e);if(mf(e))return nB(e)}throw hf(e)}function JV(e){return new ke(t=>{let i=e[Zl]();if(fe(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eB(e){return new ke(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function tB(e){return new ke(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,ef)})}function iB(e){return new ke(t=>{for(let i of e)if(t.next(i),t.closed)return;t.complete()})}function rM(e){return new ke(t=>{sB(e,t).catch(i=>t.error(i))})}function nB(e){return rM(gf(e))}function sB(e,t){var i,n,s,r;return iM(this,void 0,void 0,function*(){try{for(i=sM(e);n=yield i.next(),!n.done;){let o=n.value;if(t.next(o),t.closed)return}}catch(o){s={error:o}}finally{try{n&&!n.done&&(r=i.return)&&(yield r.call(i))}finally{if(s)throw s.error}}t.complete()})}function Qi(e,t,i,n=0,s=!1){let r=t.schedule(function(){i(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(r),!s)return r}function yf(e,t=0){return Le((i,n)=>{i.subscribe(Se(n,s=>Qi(n,e,()=>n.next(s),t),()=>Qi(n,e,()=>n.complete(),t),s=>Qi(n,e,()=>n.error(s),t)))})}function vf(e,t=0){return Le((i,n)=>{n.add(e.schedule(()=>i.subscribe(n),t))})}function oM(e,t){return wt(e).pipe(vf(t),yf(t))}function aM(e,t){return wt(e).pipe(vf(t),yf(t))}function lM(e,t){return new ke(i=>{let n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}function cM(e,t){return new ke(i=>{let n;return Qi(i,t,()=>{n=e[pf](),Qi(i,t,()=>{let s,r;try{({value:s,done:r}=n.next())}catch(o){i.error(o);return}r?i.complete():i.next(s)},0,!0)}),()=>fe(n?.return)&&n.return()})}function xf(e,t){if(!e)throw new Error("Iterable cannot be null");return new ke(i=>{Qi(i,t,()=>{let n=e[Symbol.asyncIterator]();Qi(i,t,()=>{n.next().then(s=>{s.done?i.complete():i.next(s.value)})},0,!0)})})}function uM(e,t){return xf(gf(e),t)}function dM(e,t){if(e!=null){if(uf(e))return oM(e,t);if(Kl(e))return lM(e,t);if(cf(e))return aM(e,t);if(df(e))return xf(e,t);if(ff(e))return cM(e,t);if(mf(e))return uM(e,t)}throw hf(e)}function Qe(e,t){return t?dM(e,t):wt(e)}function he(...e){let t=ao(e);return Qe(e,t)}function _r(e,t){let i=fe(e)?e:()=>e,n=s=>s.error(i());return new ke(t?s=>t.schedule(n,0,s):n)}function iv(e){return!!e&&(e instanceof ke||fe(e.lift)&&fe(e.subscribe))}var Cr=Ul(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function hM(e){return e instanceof Date&&!isNaN(e)}function me(e,t){return Le((i,n)=>{let s=0;i.subscribe(Se(n,r=>{n.next(e.call(t,r,s++))}))})}var{isArray:rB}=Array;function oB(e,t){return rB(t)?e(...t):e(t)}function Jl(e){return me(t=>oB(e,t))}var{isArray:aB}=Array,{getPrototypeOf:lB,prototype:cB,keys:uB}=Object;function bf(e){if(e.length===1){let t=e[0];if(aB(t))return{args:t,keys:null};if(dB(t)){let i=uB(t);return{args:i.map(n=>t[n]),keys:i}}}return{args:e,keys:null}}function dB(e){return e&&typeof e=="object"&&lB(e)===cB}function _f(e,t){return e.reduce((i,n,s)=>(i[n]=t[s],i),{})}function id(...e){let t=ao(e),i=lf(e),{args:n,keys:s}=bf(e);if(n.length===0)return Qe([],t);let r=new ke(hB(n,t,s?o=>_f(s,o):fi));return i?r.pipe(Jl(i)):r}function hB(e,t,i=fi){return n=>{pM(t,()=>{let{length:s}=e,r=new Array(s),o=s,a=s;for(let l=0;l<s;l++)pM(t,()=>{let c=Qe(e[l],t),u=!1;c.subscribe(Se(n,d=>{r[l]=d,u||(u=!0,a--),a||n.next(i(r.slice()))},()=>{--o||n.complete()}))},n)},n)}}function pM(e,t,i){e?Qi(i,e,t):t()}function fM(e,t,i,n,s,r,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},p=g=>c<n?f(g):l.push(g),f=g=>{r&&t.next(g),c++;let y=!1;wt(i(g,u++)).subscribe(Se(t,x=>{s?.(x),r?p(x):t.next(x)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<n;){let x=l.shift();o?Qi(t,o,()=>f(x)):f(x)}h()}catch(x){t.error(x)}}))};return e.subscribe(Se(t,p,()=>{d=!0,h()})),()=>{a?.()}}function Lt(e,t,i=1/0){return fe(t)?Lt((n,s)=>me((r,o)=>t(n,r,s,o))(wt(e(n,s))),i):(typeof t=="number"&&(i=t),Le((n,s)=>fM(n,s,e,i)))}function lo(e=1/0){return Lt(fi,e)}function gM(){return lo(1)}function ec(...e){return gM()(Qe(e,ao(e)))}function Cf(e){return new ke(t=>{wt(e()).subscribe(t)})}function nv(...e){let t=lf(e),{args:i,keys:n}=bf(e),s=new ke(r=>{let{length:o}=i;if(!o){r.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;wt(i[u]).subscribe(Se(r,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||r.next(n?_f(n,a):a),r.complete())}))}});return t?s.pipe(Jl(t)):s}var pB=["addListener","removeListener"],fB=["addEventListener","removeEventListener"],gB=["on","off"];function nd(e,t,i,n){if(fe(i)&&(n=i,i=void 0),n)return nd(e,t,i).pipe(Jl(n));let[s,r]=vB(e)?fB.map(o=>a=>e[o](t,a,i)):mB(e)?pB.map(mM(e,t)):yB(e)?gB.map(mM(e,t)):[];if(!s&&Kl(e))return Lt(o=>nd(o,t,i))(wt(e));if(!s)throw new TypeError("Invalid event target");return new ke(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return s(a),()=>r(a)})}function mM(e,t){return i=>n=>e[i](t,n)}function mB(e){return fe(e.addListener)&&fe(e.removeListener)}function yB(e){return fe(e.on)&&fe(e.off)}function vB(e){return fe(e.addEventListener)&&fe(e.removeEventListener)}function yM(e=0,t,i=KS){let n=-1;return t!=null&&(af(t)?i=t:n=t),new ke(s=>{let r=hM(e)?+e-i.now():e;r<0&&(r=0);let o=0;return i.schedule(function(){s.closed||(s.next(o++),0<=n?this.schedule(void 0,n):s.complete())},r)})}function gi(e,t){return Le((i,n)=>{let s=0;i.subscribe(Se(n,r=>e.call(t,r,s++)&&n.next(r)))})}function Pi(e){return Le((t,i)=>{let n=null,s=!1,r;n=t.subscribe(Se(i,void 0,void 0,o=>{r=wt(e(o,Pi(e)(t))),n?(n.unsubscribe(),n=null,r.subscribe(i)):s=!0})),s&&(n.unsubscribe(),n=null,r.subscribe(i))})}function vM(e,t,i,n,s){return(r,o)=>{let a=i,l=t,c=0;r.subscribe(Se(o,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),n&&o.next(l)},s&&(()=>{a&&o.next(l),o.complete()})))}}function wr(e,t){return fe(t)?Lt(e,t,1):Lt(e,1)}function tc(e,t=tv){return Le((i,n)=>{let s=null,r=null,o=null,a=()=>{if(s){s.unsubscribe(),s=null;let c=r;r=null,n.next(c)}};function l(){let c=o+e,u=t.now();if(u<c){s=this.schedule(void 0,c-u),n.add(s);return}a()}i.subscribe(Se(n,c=>{r=c,o=t.now(),s||(s=t.schedule(l,e),n.add(s))},()=>{a(),n.complete()},void 0,()=>{r=s=null}))})}function co(e){return Le((t,i)=>{let n=!1;t.subscribe(Se(i,s=>{n=!0,i.next(s)},()=>{n||i.next(e),i.complete()}))})}function ii(e){return e<=0?()=>bn:Le((t,i)=>{let n=0;t.subscribe(Se(i,s=>{++n<=e&&(i.next(s),e<=n&&i.complete())}))})}function sv(e){return me(()=>e)}function rv(e,t=fi){return e=e??xB,Le((i,n)=>{let s,r=!0;i.subscribe(Se(n,o=>{let a=t(o);(r||!e(s,a))&&(r=!1,s=a,n.next(o))}))})}function xB(e,t){return e===t}function wf(e=bB){return Le((t,i)=>{let n=!1;t.subscribe(Se(i,s=>{n=!0,i.next(s)},()=>n?i.complete():i.error(e())))})}function bB(){return new Cr}function Ca(e){return Le((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}function zs(e,t){let i=arguments.length>=2;return n=>n.pipe(e?gi((s,r)=>e(s,r,n)):fi,ii(1),i?co(t):wf(()=>new Cr))}function ic(e){return e<=0?()=>bn:Le((t,i)=>{let n=[];t.subscribe(Se(i,s=>{n.push(s),e<n.length&&n.shift()},()=>{for(let s of n)i.next(s);i.complete()},void 0,()=>{n=null}))})}function ov(e,t){let i=arguments.length>=2;return n=>n.pipe(e?gi((s,r)=>e(s,r,n)):fi,ic(1),i?co(t):wf(()=>new Cr))}function nc(e=1/0){let t;e&&typeof e=="object"?t=e:t={count:e};let{count:i=1/0,delay:n,resetOnSuccess:s=!1}=t;return i<=0?fi:Le((r,o)=>{let a=0,l,c=()=>{let u=!1;l=r.subscribe(Se(o,d=>{s&&(a=0),o.next(d)},void 0,d=>{if(a++<i){let h=()=>{l?(l.unsubscribe(),l=null,c()):u=!0};if(n!=null){let p=typeof n=="number"?yM(n):wt(n(d,a)),f=Se(o,()=>{f.unsubscribe(),h()},()=>{o.complete()});p.subscribe(f)}else h()}else o.error(d)})),u&&(l.unsubscribe(),l=null,c())};c()})}function av(e,t){return Le(vM(e,t,arguments.length>=2,!0))}function lv(...e){let t=ao(e);return Le((i,n)=>{(t?ec(e,i,t):ec(e,i)).subscribe(n)})}function Ki(e,t){return Le((i,n)=>{let s=null,r=0,o=!1,a=()=>o&&!s&&n.complete();i.subscribe(Se(n,l=>{s?.unsubscribe();let c=0,u=r++;wt(e(l,u)).subscribe(s=Se(n,d=>n.next(t?t(l,d,u,c++):d),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function sd(e){return Le((t,i)=>{wt(e).subscribe(Se(i,()=>i.complete(),ed)),!i.closed&&t.subscribe(i)})}function Dt(e,t,i){let n=fe(e)||t||i?{next:e,error:t,complete:i}:e;return n?Le((s,r)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;s.subscribe(Se(r,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),r.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),r.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),r.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):fi}var oT="https://g.co/ng/security#xss",J=class extends Error{constructor(t,i){super(lg(t,i)),this.code=t}};function lg(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function md(e){return{toString:e}.toString()}var Df="__parameters__";function _B(e){return function(...i){if(e){let n=e(...i);for(let s in n)this[s]=n[s]}}}function aT(e,t,i){return md(()=>{let n=_B(t);function s(...r){if(this instanceof s)return n.apply(this,r),this;let o=new s(...r);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Df)?l[Df]:Object.defineProperty(l,Df,{value:[]})[Df];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}var Cn=globalThis;function pt(e){for(let t in e)if(e[t]===pt)return t;throw Error("Could not find renamed property on target object.")}function CB(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Vi(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Vi).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i===-1?t:t.substring(0,i)}function Cv(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var wB=pt({__forward_ref__:pt});function Ra(e){return e.__forward_ref__=Ra,e.toString=function(){return Vi(this())},e}function Fi(e){return lT(e)?e():e}function lT(e){return typeof e=="function"&&e.hasOwnProperty(wB)&&e.__forward_ref__===Ra}function q(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ye(e){return{providers:e.providers||[],imports:e.imports||[]}}function cg(e){return xM(e,uT)||xM(e,dT)}function cT(e){return cg(e)!==null}function xM(e,t){return e.hasOwnProperty(t)?e[t]:null}function DB(e){let t=e&&(e[uT]||e[dT]);return t||null}function bM(e){return e&&(e.hasOwnProperty(_M)||e.hasOwnProperty(SB))?e[_M]:null}var uT=pt({\u0275prov:pt}),_M=pt({\u0275inj:pt}),dT=pt({ngInjectableDef:pt}),SB=pt({ngInjectorDef:pt}),te=class{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=q({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hT(e){return e&&!!e.\u0275providers}var MB=pt({\u0275cmp:pt}),TB=pt({\u0275dir:pt}),IB=pt({\u0275pipe:pt}),AB=pt({\u0275mod:pt}),Pf=pt({\u0275fac:pt}),od=pt({__NG_ELEMENT_ID__:pt}),CM=pt({__NG_ENV_ID__:pt});function yd(e){return typeof e=="string"?e:e==null?"":String(e)}function EB(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():yd(e)}function kB(e,t){let i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new J(-200,e)}function wx(e,t){throw new J(-201,!1)}var Re=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Re||{}),wv;function pT(){return wv}function Ji(e){let t=wv;return wv=e,t}function fT(e,t,i){let n=cg(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&Re.Optional)return null;if(t!==void 0)return t;wx(e,"Injector")}var LB={},ld=LB,Dv="__NG_DI_FLAG__",Ff="ngTempTokenPath",NB="ngTokenPath",OB=/\n/gm,RB="\u0275",wM="__source",ac;function PB(){return ac}function uo(e){let t=ac;return ac=e,t}function FB(e,t=Re.Default){if(ac===void 0)throw new J(-203,!1);return ac===null?fT(e,void 0,t):ac.get(e,t&Re.Optional?null:void 0,t)}function ee(e,t=Re.Default){return(pT()||FB)(Fi(e),t)}function F(e,t=Re.Default){return ee(e,ug(t))}function ug(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sv(e){let t=[];for(let i=0;i<e.length;i++){let n=Fi(e[i]);if(Array.isArray(n)){if(n.length===0)throw new J(900,!1);let s,r=Re.Default;for(let o=0;o<n.length;o++){let a=n[o],l=VB(a);typeof l=="number"?l===-1?s=a.token:r|=l:s=a}t.push(ee(s,r))}else t.push(ee(n))}return t}function gT(e,t){return e[Dv]=t,e.prototype[Dv]=t,e}function VB(e){return e[Dv]}function BB(e,t,i,n){let s=e[Ff];throw t[wM]&&s.unshift(t[wM]),e.message=jB(`
`+e.message,s,i,n),e[NB]=s,e[Ff]=null,e}function jB(e,t,i,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==RB?e.slice(2):e;let s=Vi(t);if(Array.isArray(t))s=t.map(Vi).join(" -> ");else if(typeof t=="object"){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+(typeof a=="string"?JSON.stringify(a):Vi(a)))}s=`{${r.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${e.replace(OB,`
  `)}`}var vd=gT(aT("Optional"),8);var dg=gT(aT("SkipSelf"),4);function Sa(e,t){let i=e.hasOwnProperty(Pf);return i?e[Pf]:null}function zB(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],r=t[n];if(i&&(s=i(s),r=i(r)),r!==s)return!1}return!0}function GB(e){return e.flat(Number.POSITIVE_INFINITY)}function Dx(e,t){e.forEach(i=>Array.isArray(i)?Dx(i,t):t(i))}function mT(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Vf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function HB(e,t){let i=[];for(let n=0;n<e;n++)i.push(t);return i}function UB(e,t,i,n){let s=e.length;if(s==t)e.push(i,n);else if(s===1)e.push(n,e[0]),e[0]=i;else{for(s--,e.push(e[s-1],e[s]);s>t;){let r=s-2;e[s]=e[r],s--}e[t]=i,e[t+1]=n}}function hg(e,t,i){let n=xd(e,t);return n>=0?e[n|1]=i:(n=~n,UB(e,n,t,i)),n}function cv(e,t){let i=xd(e,t);if(i>=0)return e[i|1]}function xd(e,t){return $B(e,t,1)}function $B(e,t,i){let n=0,s=e.length>>i;for(;s!==n;){let r=n+(s-n>>1),o=e[r<<i];if(t===o)return r<<i;o>t?s=r:n=r+1}return~(s<<i)}var cc={},en=[],uc=new te(""),yT=new te("",-1),vT=new te(""),Bf=class{get(t,i=ld){if(i===ld){let n=new Error(`NullInjectorError: No provider for ${Vi(t)}!`);throw n.name="NullInjectorError",n}return i}},xT=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xT||{}),Us=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Us||{}),fo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fo||{});function WB(e,t,i){let n=e.length;for(;;){let s=e.indexOf(t,i);if(s===-1)return s;if(s===0||e.charCodeAt(s-1)<=32){let r=t.length;if(s+r===n||e.charCodeAt(s+r)<=32)return s}i=s+1}}function Mv(e,t,i){let n=0;for(;n<i.length;){let s=i[n];if(typeof s=="number"){if(s!==0)break;n++;let r=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,r)}else{let r=s,o=i[++n];YB(r)?e.setProperty(t,r,o):e.setAttribute(t,r,o),n++}}return n}function bT(e){return e===3||e===4||e===6}function YB(e){return e.charCodeAt(0)===64}function cd(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){let s=t[n];typeof s=="number"?i=s:i===0||(i===-1||i===2?DM(e,i,s,null,t[++n]):DM(e,i,s,null,null))}}return e}function DM(e,t,i,n,s){let r=0,o=e.length;if(t===-1)o=-1;else for(;r<e.length;){let a=e[r++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=r-1;break}}}for(;r<e.length;){let a=e[r];if(typeof a=="number")break;if(a===i){if(n===null){s!==null&&(e[r+1]=s);return}else if(n===e[r+1]){e[r+2]=s;return}}r++,n!==null&&r++,s!==null&&r++}o!==-1&&(e.splice(o,0,t),r=o+1),e.splice(r++,0,i),n!==null&&e.splice(r++,0,n),s!==null&&e.splice(r++,0,s)}var _T="ng-template";function ZB(e,t,i,n){let s=0;if(n){for(;s<t.length&&typeof t[s]=="string";s+=2)if(t[s]==="class"&&WB(t[s+1].toLowerCase(),i,0)!==-1)return!0}else if(Sx(e))return!1;if(s=t.indexOf(1,s),s>-1){let r;for(;++s<t.length&&typeof(r=t[s])=="string";)if(r.toLowerCase()===i)return!0}return!1}function Sx(e){return e.type===4&&e.value!==_T}function XB(e,t,i){let n=e.type===4&&!i?_T:e.value;return t===n}function qB(e,t,i){let n=4,s=e.attrs,r=s!==null?JB(s):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!ms(n)&&!ms(l))return!1;if(o&&ms(l))continue;o=!1,n=l|n&1;continue}if(!o)if(n&4){if(n=2|n&1,l!==""&&!XB(e,l,i)||l===""&&t.length===1){if(ms(n))return!1;o=!0}}else if(n&8){if(s===null||!ZB(e,s,l,i)){if(ms(n))return!1;o=!0}}else{let c=t[++a],u=QB(l,s,Sx(e),i);if(u===-1){if(ms(n))return!1;o=!0;continue}if(c!==""){let d;if(u>r?d="":d=s[u+1].toLowerCase(),n&2&&c!==d){if(ms(n))return!1;o=!0}}}}return ms(n)||o}function ms(e){return(e&1)===0}function QB(e,t,i,n){if(t===null)return-1;let s=0;if(n||!i){let r=!1;for(;s<t.length;){let o=t[s];if(o===e)return s;if(o===3||o===6)r=!0;else if(o===1||o===2){let a=t[++s];for(;typeof a=="string";)a=t[++s];continue}else{if(o===4)break;if(o===0){s+=4;continue}}s+=r?1:2}return-1}else return ej(t,e)}function CT(e,t,i=!1){for(let n=0;n<t.length;n++)if(qB(e,t[n],i))return!0;return!1}function KB(e){let t=e.attrs;if(t!=null){let i=t.indexOf(5);if(!(i&1))return t[i+1]}return null}function JB(e){for(let t=0;t<e.length;t++){let i=e[t];if(bT(i))return t}return e.length}function ej(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let n=e[i];if(typeof n=="number")return-1;if(n===t)return i;i++}return-1}function tj(e,t){e:for(let i=0;i<t.length;i++){let n=t[i];if(e.length===n.length){for(let s=0;s<e.length;s++)if(e[s]!==n[s])continue e;return!0}}return!1}function SM(e,t){return e?":not("+t.trim()+")":t}function ij(e){let t=e[0],i=1,n=2,s="",r=!1;for(;i<e.length;){let o=e[i];if(typeof o=="string")if(n&2){let a=e[++i];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?s+="."+o:n&4&&(s+=" "+o);else s!==""&&!ms(o)&&(t+=SM(r,s),s=""),n=o,r=r||!ms(n);i++}return s!==""&&(t+=SM(r,s)),t}function nj(e){return e.map(ij).join(",")}function sj(e){let t=[],i=[],n=1,s=2;for(;n<e.length;){let r=e[n];if(typeof r=="string")s===2?r!==""&&t.push(r,e[++n]):s===8&&i.push(r);else{if(!ms(s))break;s=r}n++}return{attrs:t,classes:i}}function ve(e){return md(()=>{let t=TT(e),i=k(S({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Us.Emulated,styles:e.styles||en,_:null,schemas:e.schemas||null,tView:null,id:""});IT(i);let n=e.dependencies;return i.directiveDefs=TM(n,!1),i.pipeDefs=TM(n,!0),i.id=aj(i),i})}function rj(e){return go(e)||wT(e)}function oj(e){return e!==null}function Ze(e){return md(()=>({type:e.type,bootstrap:e.bootstrap||en,declarations:e.declarations||en,imports:e.imports||en,exports:e.exports||en,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function MM(e,t){if(e==null)return cc;let i={};for(let n in e)if(e.hasOwnProperty(n)){let s=e[n],r,o,a=fo.None;Array.isArray(s)?(a=s[0],r=s[1],o=s[2]??r):(r=s,o=s),t?(i[r]=a!==fo.None?[n,a]:n,t[r]=o):i[r]=n}return i}function Tt(e){return md(()=>{let t=TT(e);return IT(t),t})}function Mx(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function go(e){return e[MB]||null}function wT(e){return e[TB]||null}function DT(e){return e[IB]||null}function ST(e){let t=go(e)||wT(e)||DT(e);return t!==null?t.standalone:!1}function MT(e,t){let i=e[AB]||null;if(!i&&t===!0)throw new Error(`Type ${Vi(e)} does not have '\u0275mod' property.`);return i}function TT(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||cc,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||en,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MM(e.inputs,t),outputs:MM(e.outputs),debugInfo:null}}function IT(e){e.features?.forEach(t=>t(e))}function TM(e,t){if(!e)return null;let i=t?DT:rj;return()=>(typeof e=="function"?e():e).map(n=>i(n)).filter(oj)}function aj(e){let t=0,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let s of i)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function pg(e){return{\u0275providers:e}}function lj(...e){return{\u0275providers:AT(!0,e),\u0275fromNgModule:!0}}function AT(e,...t){let i=[],n=new Set,s,r=o=>{i.push(o)};return Dx(t,o=>{let a=o;Tv(a,r,[],n)&&(s||=[],s.push(a))}),s!==void 0&&ET(s,r),i}function ET(e,t){for(let i=0;i<e.length;i++){let{ngModule:n,providers:s}=e[i];Tx(s,r=>{t(r,n)})}}function Tv(e,t,i,n){if(e=Fi(e),!e)return!1;let s=null,r=bM(e),o=!r&&go(e);if(!r&&!o){let l=e.ngModule;if(r=bM(l),r)s=l;else return!1}else{if(o&&!o.standalone)return!1;s=e}let a=n.has(s);if(o){if(a)return!1;if(n.add(s),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Tv(c,t,i,n)}}else if(r){if(r.imports!=null&&!a){n.add(s);let c;try{Dx(r.imports,u=>{Tv(u,t,i,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&ET(c,t)}if(!a){let c=Sa(s)||(()=>new s);t({provide:s,useFactory:c,deps:en},s),t({provide:vT,useValue:s,multi:!0},s),t({provide:uc,useValue:()=>ee(s),multi:!0},s)}let l=r.providers;if(l!=null&&!a){let c=e;Tx(l,u=>{t(u,c)})}}else return!1;return s!==e&&e.providers!==void 0}function Tx(e,t){for(let i of e)hT(i)&&(i=i.\u0275providers),Array.isArray(i)?Tx(i,t):t(i)}var cj=pt({provide:String,useValue:pt});function kT(e){return e!==null&&typeof e=="object"&&cj in e}function uj(e){return!!(e&&e.useExisting)}function dj(e){return!!(e&&e.useFactory)}function dc(e){return typeof e=="function"}function hj(e){return!!e.useClass}var fg=new te(""),kf={},pj={},uv;function Ix(){return uv===void 0&&(uv=new Bf),uv}var Bi=class{},ud=class extends Bi{get destroyed(){return this._destroyed}constructor(t,i,n,s){super(),this.parent=i,this.source=n,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Av(t,o=>this.processProvider(o)),this.records.set(yT,sc(void 0,this)),s.has("environment")&&this.records.set(Bi,sc(void 0,this));let r=this.records.get(fg);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(vT,en,Re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=$e(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$e(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let i=uo(this),n=Ji(void 0),s;try{return t()}finally{uo(i),Ji(n)}}get(t,i=ld,n=Re.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(CM))return t[CM](this);n=ug(n);let s,r=uo(this),o=Ji(void 0);try{if(!(n&Re.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=vj(t)&&cg(t);c&&this.injectableDefInScope(c)?l=sc(Iv(t),kf):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&Re.Self?Ix():this.parent;return i=n&Re.Optional&&i===ld?null:i,a.get(t,i)}catch(a){if(a.name==="NullInjectorError"){if((a[Ff]=a[Ff]||[]).unshift(Vi(t)),r)throw a;return BB(a,t,"R3InjectorError",this.source)}else throw a}finally{Ji(o),uo(r)}}resolveInjectorInitializers(){let t=$e(null),i=uo(this),n=Ji(void 0),s;try{let r=this.get(uc,en,Re.Self);for(let o of r)o()}finally{uo(i),Ji(n),$e(t)}}toString(){let t=[],i=this.records;for(let n of i.keys())t.push(Vi(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(t){t=Fi(t);let i=dc(t)?t:Fi(t&&t.provide),n=gj(t);if(!dc(t)&&t.multi===!0){let s=this.records.get(i);s||(s=sc(void 0,kf,!0),s.factory=()=>Sv(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,n)}hydrate(t,i){let n=$e(null);try{return i.value===kf&&(i.value=pj,i.value=i.factory()),typeof i.value=="object"&&i.value&&yj(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{$e(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let i=Fi(t.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){let i=this._onDestroyHooks.indexOf(t);i!==-1&&this._onDestroyHooks.splice(i,1)}};function Iv(e){let t=cg(e),i=t!==null?t.factory:Sa(e);if(i!==null)return i;if(e instanceof te)throw new J(204,!1);if(e instanceof Function)return fj(e);throw new J(204,!1)}function fj(e){if(e.length>0)throw new J(204,!1);let i=DB(e);return i!==null?()=>i.factory(e):()=>new e}function gj(e){if(kT(e))return sc(void 0,e.useValue);{let t=LT(e);return sc(t,kf)}}function LT(e,t,i){let n;if(dc(e)){let s=Fi(e);return Sa(s)||Iv(s)}else if(kT(e))n=()=>Fi(e.useValue);else if(dj(e))n=()=>e.useFactory(...Sv(e.deps||[]));else if(uj(e))n=()=>ee(Fi(e.useExisting));else{let s=Fi(e&&(e.useClass||e.provide));if(mj(e))n=()=>new s(...Sv(e.deps));else return Sa(s)||Iv(s)}return n}function sc(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function mj(e){return!!e.deps}function yj(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function vj(e){return typeof e=="function"||typeof e=="object"&&e instanceof te}function Av(e,t){for(let i of e)Array.isArray(i)?Av(i,t):i&&hT(i)?Av(i.\u0275providers,t):t(i)}function wn(e,t){e instanceof ud&&e.assertNotDestroyed();let i,n=uo(e),s=Ji(void 0);try{return t()}finally{uo(n),Ji(s)}}function NT(){return pT()!==void 0||PB()!=null}function Ax(e){if(!NT())throw new J(-203,!1)}function xj(e){let t=Cn.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function bj(e){return typeof e=="function"}var Tr=0,Ie=1,Ce=2,ki=3,vs=4,sn=5,dd=6,jf=7,xs=8,hc=9,$s=10,Mt=11,hd=12,IM=13,xc=14,Bn=15,Ma=16,rc=17,Dr=18,gg=19,OT=20,ho=21,dv=22,Vn=23,nn=25,RT=1;var Ta=7,zf=8,pc=9,_n=10,Gf=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Gf||{});function po(e){return Array.isArray(e)&&typeof e[RT]=="object"}function Ir(e){return Array.isArray(e)&&e[RT]===!0}function Ex(e){return(e.flags&4)!==0}function mg(e){return e.componentOffset>-1}function yg(e){return(e.flags&1)===1}function mo(e){return!!e.template}function Ev(e){return(e[Ce]&512)!==0}var kv=class{constructor(t,i,n){this.previousValue=t,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function PT(e,t,i,n){t!==null?t.applyValueToInputSignal(t,n):e[i]=n}function at(){return FT}function FT(e){return e.type.prototype.ngOnChanges&&(e.setInput=Cj),_j}at.ngInherit=!0;function _j(){let e=BT(this),t=e?.current;if(t){let i=e.previous;if(i===cc)e.previous=t;else for(let n in t)i[n]=t[n];e.current=null,this.ngOnChanges(t)}}function Cj(e,t,i,n,s){let r=this.declaredInputs[n],o=BT(e)||wj(e,{previous:cc,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[r];a[r]=new kv(c&&c.currentValue,i,l===cc),PT(e,t,s,i)}var VT="__ngSimpleChanges__";function BT(e){return e[VT]||null}function wj(e,t){return e[VT]=t}var AM=null;var Gs=function(e,t,i){AM?.(e,t,i)},jT="svg",Dj="math";function Ws(e){for(;Array.isArray(e);)e=e[Tr];return e}function zT(e,t){return Ws(t[e])}function jn(e,t){return Ws(t[e.index])}function GT(e,t){return e.data[t]}function HT(e,t){return e[t]}function bo(e,t){let i=t[e];return po(i)?i:i[Tr]}function Sj(e){return(e[Ce]&4)===4}function kx(e){return(e[Ce]&128)===128}function Mj(e){return Ir(e[ki])}function fc(e,t){return t==null?null:e[t]}function UT(e){e[rc]=0}function $T(e){e[Ce]&1024||(e[Ce]|=1024,kx(e)&&vg(e))}function Tj(e,t){for(;e>0;)t=t[xc],e--;return t}function pd(e){return!!(e[Ce]&9216||e[Vn]?.dirty)}function Lv(e){e[$s].changeDetectionScheduler?.notify(7),e[Ce]&64&&(e[Ce]|=1024),pd(e)&&vg(e)}function vg(e){e[$s].changeDetectionScheduler?.notify(0);let t=Ia(e);for(;t!==null&&!(t[Ce]&8192||(t[Ce]|=8192,!kx(t)));)t=Ia(t)}function WT(e,t){if((e[Ce]&256)===256)throw new J(911,!1);e[ho]===null&&(e[ho]=[]),e[ho].push(t)}function Ij(e,t){if(e[ho]===null)return;let i=e[ho].indexOf(t);i!==-1&&e[ho].splice(i,1)}function Ia(e){let t=e[ki];return Ir(t)?t[ki]:t}var Ne={lFrame:iI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var YT=!1;function Aj(){return Ne.lFrame.elementDepthCount}function Ej(){Ne.lFrame.elementDepthCount++}function kj(){Ne.lFrame.elementDepthCount--}function ZT(){return Ne.bindingsEnabled}function XT(){return Ne.skipHydrationRootTNode!==null}function Lj(e){return Ne.skipHydrationRootTNode===e}function Nj(){Ne.skipHydrationRootTNode=null}function Oe(){return Ne.lFrame.lView}function Nt(){return Ne.lFrame.tView}function lt(e){return Ne.lFrame.contextLView=e,e[xs]}function ct(e){return Ne.lFrame.contextLView=null,e}function mi(){let e=qT();for(;e!==null&&e.type===64;)e=e.parent;return e}function qT(){return Ne.lFrame.currentTNode}function Oj(){let e=Ne.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Pa(e,t){let i=Ne.lFrame;i.currentTNode=e,i.isParent=t}function Lx(){return Ne.lFrame.isParent}function Nx(){Ne.lFrame.isParent=!1}function Rj(){return Ne.lFrame.contextLView}function QT(){return YT}function EM(e){YT=e}function xg(){let e=Ne.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Pj(e){return Ne.lFrame.bindingIndex=e}function bg(){return Ne.lFrame.bindingIndex++}function KT(e){let t=Ne.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function Fj(){return Ne.lFrame.inI18n}function Vj(e,t){let i=Ne.lFrame;i.bindingIndex=i.bindingRootIndex=e,Nv(t)}function Bj(){return Ne.lFrame.currentDirectiveIndex}function Nv(e){Ne.lFrame.currentDirectiveIndex=e}function jj(e){let t=Ne.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function JT(){return Ne.lFrame.currentQueryIndex}function Ox(e){Ne.lFrame.currentQueryIndex=e}function zj(e){let t=e[Ie];return t.type===2?t.declTNode:t.type===1?e[sn]:null}function eI(e,t,i){if(i&Re.SkipSelf){let s=t,r=e;for(;s=s.parent,s===null&&!(i&Re.Host);)if(s=zj(r),s===null||(r=r[xc],s.type&10))break;if(s===null)return!1;t=s,e=r}let n=Ne.lFrame=tI();return n.currentTNode=t,n.lView=e,!0}function Rx(e){let t=tI(),i=e[Ie];Ne.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function tI(){let e=Ne.lFrame,t=e===null?null:e.child;return t===null?iI(e):t}function iI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function nI(){let e=Ne.lFrame;return Ne.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var sI=nI;function Px(){let e=nI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gj(e){return(Ne.lFrame.contextLView=Tj(e,Ne.lFrame.contextLView))[xs]}function Fa(){return Ne.lFrame.selectedIndex}function Aa(e){Ne.lFrame.selectedIndex=e}function _g(){let e=Ne.lFrame;return GT(e.tView,e.selectedIndex)}function ce(){Ne.lFrame.currentNamespace=jT}function Hj(){return Ne.lFrame.currentNamespace}var rI=!0;function Cg(){return rI}function wg(e){rI=e}function Uj(e,t,i){let{ngOnChanges:n,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(n){let o=FT(t);(i.preOrderHooks??=[]).push(e,o),(i.preOrderCheckHooks??=[]).push(e,o)}s&&(i.preOrderHooks??=[]).push(0-e,s),r&&((i.preOrderHooks??=[]).push(e,r),(i.preOrderCheckHooks??=[]).push(e,r))}function Dg(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){let r=e.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=r;o&&(e.contentHooks??=[]).push(-i,o),a&&((e.contentHooks??=[]).push(i,a),(e.contentCheckHooks??=[]).push(i,a)),l&&(e.viewHooks??=[]).push(-i,l),c&&((e.viewHooks??=[]).push(i,c),(e.viewCheckHooks??=[]).push(i,c)),u!=null&&(e.destroyHooks??=[]).push(i,u)}}function Lf(e,t,i){oI(e,t,3,i)}function Nf(e,t,i,n){(e[Ce]&3)===i&&oI(e,t,i,n)}function hv(e,t){let i=e[Ce];(i&3)===t&&(i&=16383,i+=1,e[Ce]=i)}function oI(e,t,i,n){let s=n!==void 0?e[rc]&65535:0,r=n??-1,o=t.length-1,a=0;for(let l=s;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(e[rc]+=65536),(a<r||r==-1)&&($j(e,i,t,l),e[rc]=(e[rc]&4294901760)+l+2),l++}function kM(e,t){Gs(4,e,t);let i=$e(null);try{t.call(e)}finally{$e(i),Gs(5,e,t)}}function $j(e,t,i,n){let s=i[n]<0,r=i[n+1],o=s?-i[n]:i[n],a=e[o];s?e[Ce]>>14<e[rc]>>16&&(e[Ce]&3)===t&&(e[Ce]+=16384,kM(a,r)):kM(a,r)}var lc=-1,Ea=class{constructor(t,i,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function Wj(e){return e instanceof Ea}function Yj(e){return(e.flags&8)!==0}function Zj(e){return(e.flags&16)!==0}var pv={},Ov=class{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,n){n=ug(n);let s=this.injector.get(t,pv,n);return s!==pv||i===pv?s:this.parentInjector.get(t,i,n)}};function aI(e){return e!==lc}function Hf(e){return e&32767}function Xj(e){return e>>16}function Uf(e,t){let i=Xj(e),n=t;for(;i>0;)n=n[xc],i--;return n}var Rv=!0;function $f(e){let t=Rv;return Rv=e,t}var qj=256,lI=qj-1,cI=5,Qj=0,Hs={};function Kj(e,t,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(od)&&(n=i[od]),n==null&&(n=i[od]=Qj++);let s=n&lI,r=1<<s;t.data[e+(s>>cI)]|=r}function Wf(e,t){let i=uI(e,t);if(i!==-1)return i;let n=t[Ie];n.firstCreatePass&&(e.injectorIndex=t.length,fv(n.data,e),fv(t,null),fv(n.blueprint,null));let s=Fx(e,t),r=e.injectorIndex;if(aI(s)){let o=Hf(s),a=Uf(s,t),l=a[Ie].data;for(let c=0;c<8;c++)t[r+c]=a[o+c]|l[o+c]}return t[r+8]=s,r}function fv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function uI(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Fx(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let i=0,n=null,s=t;for(;s!==null;){if(n=gI(s),n===null)return lc;if(i++,s=s[xc],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return lc}function Pv(e,t,i){Kj(e,t,i)}function Jj(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let i=e.attrs;if(i){let n=i.length,s=0;for(;s<n;){let r=i[s];if(bT(r))break;if(r===0)s=s+2;else if(typeof r=="number")for(s++;s<n&&typeof i[s]=="string";)s++;else{if(r===t)return i[s+1];s=s+2}}}return null}function dI(e,t,i){if(i&Re.Optional||e!==void 0)return e;wx(t,"NodeInjector")}function hI(e,t,i,n){if(i&Re.Optional&&n===void 0&&(n=null),!(i&(Re.Self|Re.Host))){let s=e[hc],r=Ji(void 0);try{return s?s.get(t,n,i&Re.Optional):fT(t,n,i&Re.Optional)}finally{Ji(r)}}return dI(n,t,i)}function pI(e,t,i,n=Re.Default,s){if(e!==null){if(t[Ce]&2048&&!(n&Re.Self)){let o=nz(e,t,i,n,Hs);if(o!==Hs)return o}let r=fI(e,t,i,n,Hs);if(r!==Hs)return r}return hI(t,i,n,s)}function fI(e,t,i,n,s){let r=tz(i);if(typeof r=="function"){if(!eI(t,e,n))return n&Re.Host?dI(s,i,n):hI(t,i,n,s);try{let o;if(o=r(n),o==null&&!(n&Re.Optional))wx(i);else return o}finally{sI()}}else if(typeof r=="number"){let o=null,a=uI(e,t),l=lc,c=n&Re.Host?t[Bn][sn]:null;for((a===-1||n&Re.SkipSelf)&&(l=a===-1?Fx(e,t):t[a+8],l===lc||!NM(n,!1)?a=-1:(o=t[Ie],a=Hf(l),t=Uf(l,t)));a!==-1;){let u=t[Ie];if(LM(r,a,u.data)){let d=ez(a,t,i,o,n,c);if(d!==Hs)return d}l=t[a+8],l!==lc&&NM(n,t[Ie].data[a+8]===c)&&LM(r,a,t)?(o=u,a=Hf(l),t=Uf(l,t)):a=-1}}return s}function ez(e,t,i,n,s,r){let o=t[Ie],a=o.data[e+8],l=n==null?mg(a)&&Rv:n!=o&&(a.type&3)!==0,c=s&Re.Host&&r===a,u=Of(a,o,i,l,c);return u!==null?ka(t,o,u,a):Hs}function Of(e,t,i,n,s){let r=e.providerIndexes,o=t.data,a=r&1048575,l=e.directiveStart,c=e.directiveEnd,u=r>>20,d=n?a:a+u,h=s?a+u:c;for(let p=d;p<h;p++){let f=o[p];if(p<l&&i===f||p>=l&&f.type===i)return p}if(s){let p=o[l];if(p&&mo(p)&&p.type===i)return l}return null}function ka(e,t,i,n){let s=e[i],r=t.data;if(Wj(s)){let o=s;o.resolving&&kB(EB(r[i]));let a=$f(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Ji(o.injectImpl):null,u=eI(e,n,Re.Default);try{s=e[i]=o.factory(void 0,r,e,n),t.firstCreatePass&&i>=n.directiveStart&&Uj(i,r[i],t)}finally{c!==null&&Ji(c),$f(a),o.resolving=!1,sI()}}return s}function tz(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(od)?e[od]:void 0;return typeof t=="number"?t>=0?t&lI:iz:t}function LM(e,t,i){let n=1<<e;return!!(i[t+(e>>cI)]&n)}function NM(e,t){return!(e&Re.Self)&&!(e&Re.Host&&t)}var Da=class{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,n){return pI(this._tNode,this._lView,t,ug(n),i)}};function iz(){return new Da(mi(),Oe())}function Ar(e){return md(()=>{let t=e.prototype.constructor,i=t[Pf]||Fv(t),n=Object.prototype,s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==n;){let r=s[Pf]||Fv(s);if(r&&r!==i)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Fv(e){return lT(e)?()=>{let t=Fv(Fi(e));return t&&t()}:Sa(e)}function nz(e,t,i,n,s){let r=e,o=t;for(;r!==null&&o!==null&&o[Ce]&2048&&!(o[Ce]&512);){let a=fI(r,o,i,n|Re.Self,Hs);if(a!==Hs)return a;let l=r.parent;if(!l){let c=o[OT];if(c){let u=c.get(i,Hs,n);if(u!==Hs)return u}l=gI(o),o=o[xc]}r=l}return s}function gI(e){let t=e[Ie],i=t.type;return i===2?t.declTNode:i===1?e[sn]:null}function Vx(e){return Jj(mi(),e)}function OM(e,t=null,i=null,n){let s=mI(e,t,i,n);return s.resolveInjectorInitializers(),s}function mI(e,t=null,i=null,n,s=new Set){let r=[i||en,lj(e)];return n=n||(typeof e=="object"?void 0:Vi(e)),new ud(r,t||Ix(),n||null,s)}var wa=class wa{static create(t,i){if(Array.isArray(t))return OM({name:""},i,t,"");{let n=t.name??"";return OM({name:n},t.parent,t.providers,n)}}};wa.THROW_IF_NOT_FOUND=ld,wa.NULL=new Bf,wa.\u0275prov=q({token:wa,providedIn:"any",factory:()=>ee(yT)}),wa.__NG_ELEMENT_ID__=-1;var ni=wa;var sz=new te("");sz.__NG_ELEMENT_ID__=e=>{let t=mi();if(t===null)throw new J(204,!1);if(t.type&2)return t.value;if(e&Re.Optional)return null;throw new J(204,!1)};var rz="ngOriginalError";function gv(e){return e[rz]}var Va=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=oz,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),Vv=class extends Va{constructor(t){super(),this._lView=t}onDestroy(t){return WT(this._lView,t),()=>Ij(this._lView,t)}};function oz(){return new Vv(Oe())}var _o=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();var Bv=class extends zt{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,NT()&&(this.destroyRef=F(Va,{optional:!0})??void 0,this.pendingTasks=F(_o,{optional:!0})??void 0)}emit(t){let i=$e(null);try{super.next(t)}finally{$e(i)}}subscribe(t,i,n){let s=t,r=i||(()=>null),o=n;if(t&&typeof t=="object"){let l=t;s=l.next?.bind(l),r=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(r=this.wrapInTimeout(r),s&&(s=this.wrapInTimeout(s)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:s,error:r,complete:o});return t instanceof Et&&t.add(a),a}wrapInTimeout(t){return i=>{let n=this.pendingTasks?.add();setTimeout(()=>{t(i),n!==void 0&&this.pendingTasks?.remove(n)})}}},K=Bv;function Yf(...e){}function yI(e){let t,i;function n(){e=Yf;try{i!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(i),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),n()}),typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(()=>{e(),n()})),()=>n()}function RM(e){return queueMicrotask(()=>e()),()=>{e=Yf}}var We=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new K(!1),this.onMicrotaskEmpty=new K(!1),this.onStable=new K(!1),this.onError=new K(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&i,s.shouldCoalesceRunChangeDetection=n,s.callbackScheduled=!1,cz(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new J(909,!1)}run(t,i,n){return this._inner.run(t,i,n)}runTask(t,i,n,s){let r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,az,Yf,Yf);try{return r.runTask(o,i,n)}finally{r.cancelTask(o)}}runGuarded(t,i,n){return this._inner.runGuarded(t,i,n)}runOutsideAngular(t){return this._outer.run(t)}},az={};function Bx(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function lz(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{yI(()=>{e.callbackScheduled=!1,jv(e),e.isCheckStableRunning=!0,Bx(e),e.isCheckStableRunning=!1})}),jv(e))}function cz(e){let t=()=>{lz(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,s,r,o,a)=>{if(uz(a))return i.invokeTask(s,r,o,a);try{return PM(e),i.invokeTask(s,r,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&r.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),FM(e)}},onInvoke:(i,n,s,r,o,a,l)=>{try{return PM(e),i.invoke(s,r,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!dz(a)&&t(),FM(e)}},onHasTask:(i,n,s,r)=>{i.hasTask(s,r),n===s&&(r.change=="microTask"?(e._hasPendingMicrotasks=r.microTask,jv(e),Bx(e)):r.change=="macroTask"&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(i,n,s,r)=>(i.handleError(s,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}function jv(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function PM(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function FM(e){e._nesting--,Bx(e)}var Zf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new K,this.onMicrotaskEmpty=new K,this.onStable=new K,this.onError=new K}run(t,i,n){return t.apply(i,n)}runGuarded(t,i,n){return t.apply(i,n)}runOutsideAngular(t){return t()}runTask(t,i,n,s){return t.apply(i,n)}};function uz(e){return vI(e,"__ignore_ng_zone__")}function dz(e){return vI(e,"__scheduler_tick__")}function vI(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function hz(e="zone.js",t){return e==="noop"?new Zf:e==="zone.js"?new We(t):e}var Sr=class{constructor(){this._console=console}handleError(t){let i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&gv(t);for(;i&&gv(i);)i=gv(i);return i||null}},pz=new te("",{providedIn:"root",factory:()=>{let e=F(We),t=F(Sr);return i=>e.runOutsideAngular(()=>t.handleError(i))}});function fz(){return bc(mi(),Oe())}function bc(e,t){return new vt(jn(e,t))}var vt=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=fz;let e=t;return e})();function gz(e){return e instanceof vt?e.nativeElement:e}function mz(){return this._results[Symbol.iterator]()}var zv=class e{get changes(){return this._changes??=new K}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=e.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=mz)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;let n=GB(t);(this._changesDetected=!zB(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function xI(e){return(e.flags&128)===128}var bI=new Map,yz=0;function vz(){return yz++}function xz(e){bI.set(e[gg],e)}function bz(e){bI.delete(e[gg])}var VM="__ngContext__";function yo(e,t){po(t)?(e[VM]=t[gg],xz(t)):e[VM]=t}function _I(e){return wI(e[hd])}function CI(e){return wI(e[vs])}function wI(e){for(;e!==null&&!Ir(e);)e=e[vs];return e}var Gv;function DI(e){Gv=e}function SI(){if(Gv!==void 0)return Gv;if(typeof document<"u")return document;throw new J(210,!1)}var Sg=new te("",{providedIn:"root",factory:()=>_z}),_z="ng",jx=new te(""),yi=new te("",{providedIn:"platform",factory:()=>"unknown"});var zx=new te("",{providedIn:"root",factory:()=>SI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Cz="h",wz="b";var Dz=()=>null;function Gx(e,t,i=!1){return Dz(e,t,i)}var MI=!1,Sz=new te("",{providedIn:"root",factory:()=>MI});var Sf;function Mz(){if(Sf===void 0&&(Sf=null,Cn.trustedTypes))try{Sf=Cn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Sf}function Mg(e){return Mz()?.createHTML(e)||e}var Mf;function TI(){if(Mf===void 0&&(Mf=null,Cn.trustedTypes))try{Mf=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Mf}function BM(e){return TI()?.createHTML(e)||e}function jM(e){return TI()?.createScriptURL(e)||e}var Xf=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oT})`}};function Ba(e){return e instanceof Xf?e.changingThisBreaksApplicationSecurity:e}function Tg(e,t){let i=Tz(e);if(i!=null&&i!==t){if(i==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${oT})`)}return i===t}function Tz(e){return e instanceof Xf&&e.getTypeName()||null}function Iz(e){let t=new Uv(e);return Az()?new Hv(t):t}var Hv=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let i=new window.DOMParser().parseFromString(Mg(t),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(t):(i.firstChild?.remove(),i)}catch{return null}}},Uv=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let i=this.inertDocument.createElement("template");return i.innerHTML=Mg(t),i}};function Az(){try{return!!new window.DOMParser().parseFromString(Mg(""),"text/html")}catch{return!1}}var Ez=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hx(e){return e=String(e),e.match(Ez)?e:"unsafe:"+e}function Er(e){let t={};for(let i of e.split(","))t[i]=!0;return t}function bd(...e){let t={};for(let i of e)for(let n in i)i.hasOwnProperty(n)&&(t[n]=!0);return t}var II=Er("area,br,col,hr,img,wbr"),AI=Er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),EI=Er("rp,rt"),kz=bd(EI,AI),Lz=bd(AI,Er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nz=bd(EI,Er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zM=bd(II,Lz,Nz,kz),kI=Er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oz=Er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rz=Er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Pz=bd(kI,Oz,Rz),Fz=Er("script,style,template"),$v=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let i=t.firstChild,n=!0,s=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){s.push(i),i=jz(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let r=Bz(i);if(r){i=r;break}i=s.pop()}}return this.buf.join("")}startElement(t){let i=GM(t).toLowerCase();if(!zM.hasOwnProperty(i))return this.sanitizedSomething=!0,!Fz.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=t.attributes;for(let s=0;s<n.length;s++){let r=n.item(s),o=r.name,a=o.toLowerCase();if(!Pz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;kI[a]&&(l=Hx(l)),this.buf.push(" ",o,'="',HM(l),'"')}return this.buf.push(">"),!0}endElement(t){let i=GM(t).toLowerCase();zM.hasOwnProperty(i)&&!II.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(t){this.buf.push(HM(t))}};function Vz(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Bz(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw LI(t);return t}function jz(e){let t=e.firstChild;if(t&&Vz(e,t))throw LI(t);return t}function GM(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function LI(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var zz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gz=/([^\#-~ |!])/g;function HM(e){return e.replace(/&/g,"&amp;").replace(zz,function(t){let i=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(Gz,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Tf;function NI(e,t){let i=null;try{Tf=Tf||Iz(e);let n=t?String(t):"";i=Tf.getInertBodyElement(n);let s=5,r=n;do{if(s===0)throw new Error("Failed to sanitize html because the input is unstable");s--,n=r,r=i.innerHTML,i=Tf.getInertBodyElement(n)}while(n!==r);let a=new $v().sanitizeChildren(UM(i)||i);return Mg(a)}finally{if(i){let n=UM(i)||i;for(;n.firstChild;)n.firstChild.remove()}}}function UM(e){return"content"in e&&Hz(e)?e.content:null}function Hz(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var _d=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_d||{});function OI(e){let t=Ux();return t?BM(t.sanitize(_d.HTML,e)||""):Tg(e,"HTML")?BM(Ba(e)):NI(SI(),yd(e))}function Cd(e){let t=Ux();return t?t.sanitize(_d.URL,e)||"":Tg(e,"URL")?Ba(e):Hx(yd(e))}function Uz(e){let t=Ux();if(t)return jM(t.sanitize(_d.RESOURCE_URL,e)||"");if(Tg(e,"ResourceURL"))return jM(Ba(e));throw new J(904,!1)}function $z(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Uz:Cd}function RI(e,t,i){return $z(t,i)(e)}function Ux(){let e=Oe();return e&&e[$s].sanitizer}var Wz=/^>|^->|<!--|-->|--!>|<!-$/g,Yz=/(<|>)/g,Zz="\u200B$1\u200B";function Xz(e){return e.replace(Wz,t=>t.replace(Yz,Zz))}function PI(e){return e.ownerDocument.defaultView}function FI(e){return e instanceof Function?e():e}function qz(e){return(e??F(ni)).get(yi)==="browser"}var Ys=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ys||{}),Qz;function $x(e,t){return Qz(e,t)}function oc(e,t,i,n,s){if(n!=null){let r,o=!1;Ir(n)?r=n:po(n)&&(o=!0,n=n[Tr]);let a=Ws(n);e===0&&i!==null?s==null?HI(t,i,a):qf(t,i,a,s||null,!0):e===1&&i!==null?qf(t,i,a,s||null,!0):e===2?d4(t,a,o):e===3&&t.destroyNode(a),r!=null&&p4(t,e,r,i,s)}}function Kz(e,t){return e.createText(t)}function Jz(e,t,i){e.setValue(t,i)}function e4(e,t){return e.createComment(Xz(t))}function VI(e,t,i){return e.createElement(t,i)}function t4(e,t){BI(e,t),t[Tr]=null,t[sn]=null}function i4(e,t,i,n,s,r){n[Tr]=s,n[sn]=t,Ag(e,n,i,1,s,r)}function BI(e,t){t[$s].changeDetectionScheduler?.notify(8),Ag(e,t,t[Mt],2,null,null)}function n4(e){let t=e[hd];if(!t)return mv(e[Ie],e);for(;t;){let i=null;if(po(t))i=t[hd];else{let n=t[_n];n&&(i=n)}if(!i){for(;t&&!t[vs]&&t!==e;)po(t)&&mv(t[Ie],t),t=t[ki];t===null&&(t=e),po(t)&&mv(t[Ie],t),i=t&&t[vs]}t=i}}function s4(e,t,i,n){let s=_n+n,r=i.length;n>0&&(i[s-1][vs]=t),n<r-_n?(t[vs]=i[s],mT(i,_n+n,t)):(i.push(t),t[vs]=null),t[ki]=i;let o=t[Ma];o!==null&&i!==o&&jI(o,t);let a=t[Dr];a!==null&&a.insertView(e),Lv(t),t[Ce]|=128}function jI(e,t){let i=e[pc],n=t[ki];if(po(n))e[Ce]|=Gf.HasTransplantedViews;else{let s=n[ki][Bn];t[Bn]!==s&&(e[Ce]|=Gf.HasTransplantedViews)}i===null?e[pc]=[t]:i.push(t)}function Wx(e,t){let i=e[pc],n=i.indexOf(t);i.splice(n,1)}function Wv(e,t){if(e.length<=_n)return;let i=_n+t,n=e[i];if(n){let s=n[Ma];s!==null&&s!==e&&Wx(s,n),t>0&&(e[i-1][vs]=n[vs]);let r=Vf(e,_n+t);t4(n[Ie],n);let o=r[Dr];o!==null&&o.detachView(r[Ie]),n[ki]=null,n[vs]=null,n[Ce]&=-129}return n}function zI(e,t){if(!(t[Ce]&256)){let i=t[Mt];i.destroyNode&&Ag(e,t,i,3,null,null),n4(t)}}function mv(e,t){if(t[Ce]&256)return;let i=$e(null);try{t[Ce]&=-129,t[Ce]|=256,t[Vn]&&H0(t[Vn]),o4(e,t),r4(e,t),t[Ie].type===1&&t[Mt].destroy();let n=t[Ma];if(n!==null&&Ir(t[ki])){n!==t[ki]&&Wx(n,t);let s=t[Dr];s!==null&&s.detachView(e)}bz(t)}finally{$e(i)}}function r4(e,t){let i=e.cleanup,n=t[jf];if(i!==null)for(let r=0;r<i.length-1;r+=2)if(typeof i[r]=="string"){let o=i[r+3];o>=0?n[o]():n[-o].unsubscribe(),r+=2}else{let o=n[i[r+1]];i[r].call(o)}n!==null&&(t[jf]=null);let s=t[ho];if(s!==null){t[ho]=null;for(let r=0;r<s.length;r++){let o=s[r];o()}}}function o4(e,t){let i;if(e!=null&&(i=e.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let s=t[i[n]];if(!(s instanceof Ea)){let r=i[n+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){let a=s[r[o]],l=r[o+1];Gs(4,a,l);try{l.call(a)}finally{Gs(5,a,l)}}else{Gs(4,s,r);try{r.call(s)}finally{Gs(5,s,r)}}}}}function GI(e,t,i){return a4(e,t.parent,i)}function a4(e,t,i){let n=t;for(;n!==null&&n.type&168;)t=n,n=t.parent;if(n===null)return i[Tr];{let{componentOffset:s}=n;if(s>-1){let{encapsulation:r}=e.data[n.directiveStart+s];if(r===Us.None||r===Us.Emulated)return null}return jn(n,i)}}function qf(e,t,i,n,s){e.insertBefore(t,i,n,s)}function HI(e,t,i){e.appendChild(t,i)}function $M(e,t,i,n,s){n!==null?qf(e,t,i,n,s):HI(e,t,i)}function UI(e,t){return e.parentNode(t)}function l4(e,t){return e.nextSibling(t)}function $I(e,t,i){return u4(e,t,i)}function c4(e,t,i){return e.type&40?jn(e,i):null}var u4=c4,WM;function Ig(e,t,i,n){let s=GI(e,n,t),r=t[Mt],o=n.parent||t[sn],a=$I(o,n,t);if(s!=null)if(Array.isArray(i))for(let l=0;l<i.length;l++)$M(r,s,i[l],a,!1);else $M(r,s,i,a,!1);WM!==void 0&&WM(r,n,t,i,s)}function rd(e,t){if(t!==null){let i=t.type;if(i&3)return jn(t,e);if(i&4)return Yv(-1,e[t.index]);if(i&8){let n=t.child;if(n!==null)return rd(e,n);{let s=e[t.index];return Ir(s)?Yv(-1,s):Ws(s)}}else{if(i&128)return rd(e,t.next);if(i&32)return $x(t,e)()||Ws(e[t.index]);{let n=WI(e,t);if(n!==null){if(Array.isArray(n))return n[0];let s=Ia(e[Bn]);return rd(s,n)}else return rd(e,t.next)}}}return null}function WI(e,t){if(t!==null){let n=e[Bn][sn],s=t.projection;return n.projection[s]}return null}function Yv(e,t){let i=_n+e+1;if(i<t.length){let n=t[i],s=n[Ie].firstChild;if(s!==null)return rd(n,s)}return t[Ta]}function d4(e,t,i){e.removeChild(null,t,i)}function Yx(e,t,i,n,s,r,o){for(;i!=null;){if(i.type===128){i=i.next;continue}let a=n[i.index],l=i.type;if(o&&t===0&&(a&&yo(Ws(a),n),i.flags|=2),(i.flags&32)!==32)if(l&8)Yx(e,t,i.child,n,s,r,!1),oc(t,e,s,a,r);else if(l&32){let c=$x(i,n),u;for(;u=c();)oc(t,e,s,u,r);oc(t,e,s,a,r)}else l&16?YI(e,t,n,i,s,r):oc(t,e,s,a,r);i=o?i.projectionNext:i.next}}function Ag(e,t,i,n,s,r){Yx(i,n,e.firstChild,t,s,r,!1)}function h4(e,t,i){let n=t[Mt],s=GI(e,i,t),r=i.parent||t[sn],o=$I(r,i,t);YI(n,0,t,i,s,o)}function YI(e,t,i,n,s,r){let o=i[Bn],l=o[sn].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];oc(t,e,s,u,r)}else{let c=l,u=o[ki];xI(n)&&(c.flags|=128),Yx(e,t,c,u,s,r,!0)}}function p4(e,t,i,n,s){let r=i[Ta],o=Ws(i);r!==o&&oc(t,e,n,r,s);for(let a=_n;a<i.length;a++){let l=i[a];Ag(l[Ie],l,e,t,n,r)}}function f4(e,t,i,n,s){if(t)s?e.addClass(i,n):e.removeClass(i,n);else{let r=n.indexOf("-")===-1?void 0:Ys.DashCase;s==null?e.removeStyle(i,n,r):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),r|=Ys.Important),e.setStyle(i,n,s,r))}}function g4(e,t,i){e.setAttribute(t,"style",i)}function ZI(e,t,i){i===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function XI(e,t,i){let{mergedAttrs:n,classes:s,styles:r}=i;n!==null&&Mv(e,t,n),s!==null&&ZI(e,t,s),r!==null&&g4(e,t,r)}var bs={};function R(e=1){qI(Nt(),Oe(),Fa()+e,!1)}function qI(e,t,i,n){if(!n)if((t[Ce]&3)===3){let r=e.preOrderCheckHooks;r!==null&&Lf(t,r,i)}else{let r=e.preOrderHooks;r!==null&&Nf(t,r,0,i)}Aa(i)}function W(e,t=Re.Default){let i=Oe();if(i===null)return ee(e,t);let n=mi();return pI(n,i,Fi(e),t)}function QI(){let e="invalid";throw new Error(e)}function KI(e,t,i,n,s,r){let o=$e(null);try{let a=null;s&fo.SignalBased&&(a=t[n][br]),a!==null&&a.transformFn!==void 0&&(r=a.transformFn(r)),s&fo.HasDecoratorInputTransform&&(r=e.inputTransforms[n].call(t,r)),e.setInput!==null?e.setInput(t,a,r,i,n):PT(t,a,n,r)}finally{$e(o)}}function m4(e,t){let i=e.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let s=i[n];if(s<0)Aa(~s);else{let r=s,o=i[++n],a=i[++n];Vj(o,r);let l=t[r];a(2,l)}}}finally{Aa(-1)}}function Eg(e,t,i,n,s,r,o,a,l,c,u){let d=t.blueprint.slice();return d[Tr]=s,d[Ce]=n|4|128|8|64,(c!==null||e&&e[Ce]&2048)&&(d[Ce]|=2048),UT(d),d[ki]=d[xc]=e,d[xs]=i,d[$s]=o||e&&e[$s],d[Mt]=a||e&&e[Mt],d[hc]=l||e&&e[hc]||null,d[sn]=r,d[gg]=vz(),d[dd]=u,d[OT]=c,d[Bn]=t.type==2?e[Bn]:d,d}function _c(e,t,i,n,s){let r=e.data[t];if(r===null)r=y4(e,t,i,n,s),Fj()&&(r.flags|=32);else if(r.type&64){r.type=i,r.value=n,r.attrs=s;let o=Oj();r.injectorIndex=o===null?-1:o.injectorIndex}return Pa(r,!0),r}function y4(e,t,i,n,s){let r=qT(),o=Lx(),a=o?r:r&&r.parent,l=e.data[t]=w4(e,a,i,t,n,s);return e.firstChild===null&&(e.firstChild=l),r!==null&&(o?r.child==null&&l.parent!==null&&(r.child=l):r.next===null&&(r.next=l,l.prev=r)),l}function JI(e,t,i,n){if(i===0)return-1;let s=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return s}function eA(e,t,i,n,s){let r=Fa(),o=n&2;try{Aa(-1),o&&t.length>nn&&qI(e,t,nn,!1),Gs(o?2:0,s),i(n,s)}finally{Aa(r),Gs(o?3:1,s)}}function Zx(e,t,i){if(Ex(t)){let n=$e(null);try{let s=t.directiveStart,r=t.directiveEnd;for(let o=s;o<r;o++){let a=e.data[o];if(a.contentQueries){let l=i[o];a.contentQueries(1,l,o)}}}finally{$e(n)}}}function Xx(e,t,i){ZT()&&(A4(e,t,i,jn(i,t)),(i.flags&64)===64&&nA(e,t,i))}function qx(e,t,i=jn){let n=t.localNames;if(n!==null){let s=t.index+1;for(let r=0;r<n.length;r+=2){let o=n[r+1],a=o===-1?i(t,e):e[o];e[s++]=a}}}function tA(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Qx(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Qx(e,t,i,n,s,r,o,a,l,c,u){let d=nn+n,h=d+s,p=v4(d,h),f=typeof c=="function"?c():c;return p[Ie]={type:e,blueprint:p,template:i,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}function v4(e,t){let i=[];for(let n=0;n<t;n++)i.push(n<e?null:bs);return i}function x4(e,t,i,n){let r=n.get(Sz,MI)||i===Us.ShadowDom,o=e.selectRootElement(t,r);return b4(o),o}function b4(e){_4(e)}var _4=()=>null;function C4(e,t,i,n){let s=oA(t);s.push(i),e.firstCreatePass&&aA(e).push(n,s.length-1)}function w4(e,t,i,n,s,r){let o=t?t.injectorIndex:-1,a=0;return XT()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function YM(e,t,i,n,s){for(let r in t){if(!t.hasOwnProperty(r))continue;let o=t[r];if(o===void 0)continue;n??={};let a,l=fo.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=r;if(s!==null){if(!s.hasOwnProperty(r))continue;c=s[r]}e===0?ZM(n,i,c,a,l):ZM(n,i,c,a)}return n}function ZM(e,t,i,n,s){let r;e.hasOwnProperty(i)?(r=e[i]).push(t,n):r=e[i]=[t,n],s!==void 0&&r.push(s)}function D4(e,t,i){let n=t.directiveStart,s=t.directiveEnd,r=e.data,o=t.attrs,a=[],l=null,c=null;for(let u=n;u<s;u++){let d=r[u],h=i?i.get(d):null,p=h?h.inputs:null,f=h?h.outputs:null;l=YM(0,d.inputs,u,l,p),c=YM(1,d.outputs,u,c,f);let g=l!==null&&o!==null&&!Sx(t)?j4(l,u,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function S4(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Kx(e,t,i,n,s,r,o,a){let l=jn(t,i),c=t.inputs,u;!a&&c!=null&&(u=c[n])?(eb(e,i,u,n,s),mg(t)&&M4(i,t.index)):t.type&3?(n=S4(n),s=o!=null?o(s,t.value||"",n):s,r.setProperty(l,n,s)):t.type&12}function M4(e,t){let i=bo(t,e);i[Ce]&16||(i[Ce]|=64)}function Jx(e,t,i,n){if(ZT()){let s=n===null?null:{"":-1},r=k4(e,i),o,a;r===null?o=a=null:[o,a]=r,o!==null&&iA(e,t,i,o,s,a),s&&L4(i,n,s)}i.mergedAttrs=cd(i.mergedAttrs,i.attrs)}function iA(e,t,i,n,s,r){for(let c=0;c<n.length;c++)Pv(Wf(i,t),e,n[c].type);O4(i,e.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=JI(e,t,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];i.mergedAttrs=cd(i.mergedAttrs,u.hostAttrs),R4(e,i,t,l,u),N4(l,u,s),u.contentQueries!==null&&(i.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(i.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}D4(e,i,r)}function T4(e,t,i,n,s){let r=s.hostBindings;if(r){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;I4(o)!=a&&o.push(a),o.push(i,n,r)}}function I4(e){let t=e.length;for(;t>0;){let i=e[--t];if(typeof i=="number"&&i<0)return i}return 0}function A4(e,t,i,n){let s=i.directiveStart,r=i.directiveEnd;mg(i)&&P4(t,i,e.data[s+i.componentOffset]),e.firstCreatePass||Wf(i,t),yo(n,t);let o=i.initialInputs;for(let a=s;a<r;a++){let l=e.data[a],c=ka(t,e,a,i);if(yo(c,t),o!==null&&B4(t,a-s,c,l,i,o),mo(l)){let u=bo(i.index,t);u[xs]=ka(t,e,a,i)}}}function nA(e,t,i){let n=i.directiveStart,s=i.directiveEnd,r=i.index,o=Bj();try{Aa(r);for(let a=n;a<s;a++){let l=e.data[a],c=t[a];Nv(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&E4(l,c)}}finally{Aa(-1),Nv(o)}}function E4(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function k4(e,t){let i=e.directiveRegistry,n=null,s=null;if(i)for(let r=0;r<i.length;r++){let o=i[r];if(CT(t,o.selectors,!1))if(n||(n=[]),mo(o))if(o.findHostDirectiveDefs!==null){let a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),n.unshift(...a,o);let l=a.length;Zv(e,t,l)}else n.unshift(o),Zv(e,t,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,n,s),n.push(o)}return n===null?null:[n,s]}function Zv(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function L4(e,t,i){if(t){let n=e.localNames=[];for(let s=0;s<t.length;s+=2){let r=i[t[s+1]];if(r==null)throw new J(-301,!1);n.push(t[s],r)}}}function N4(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;mo(t)&&(i[""]=e)}}function O4(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function R4(e,t,i,n,s){e.data[n]=s;let r=s.factory||(s.factory=Sa(s.type,!0)),o=new Ea(r,mo(s),W);e.blueprint[n]=o,i[n]=o,T4(e,t,n,JI(e,i,s.hostVars,bs),s)}function P4(e,t,i){let n=jn(t,e),s=tA(i),r=e[$s].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=kg(e,Eg(e,s,null,o,n,t,null,r.createRenderer(n,i),null,null,null));e[t.index]=a}function F4(e,t,i,n,s,r){let o=jn(e,t);V4(t[Mt],o,r,e.value,i,n,s)}function V4(e,t,i,n,s,r,o){if(r==null)e.removeAttribute(t,s,i);else{let a=o==null?yd(r):o(r,n||"",s);e.setAttribute(t,s,a,i)}}function B4(e,t,i,n,s,r){let o=r[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];KI(n,i,l,c,u,d)}}function j4(e,t,i){let n=null,s=0;for(;s<i.length;){let r=i[s];if(r===0){s+=4;continue}else if(r===5){s+=2;continue}if(typeof r=="number")break;if(e.hasOwnProperty(r)){n===null&&(n=[]);let o=e[r];for(let a=0;a<o.length;a+=3)if(o[a]===t){n.push(r,o[a+1],o[a+2],i[s+1]);break}}s+=2}return n}function sA(e,t,i,n){return[e,!0,0,t,null,n,null,i,null,null]}function rA(e,t){let i=e.contentQueries;if(i!==null){let n=$e(null);try{for(let s=0;s<i.length;s+=2){let r=i[s],o=i[s+1];if(o!==-1){let a=e.data[o];Ox(r),a.contentQueries(2,t[o],o)}}}finally{$e(n)}}}function kg(e,t){return e[hd]?e[IM][vs]=t:e[hd]=t,e[IM]=t,t}function Xv(e,t,i){Ox(0);let n=$e(null);try{t(e,i)}finally{$e(n)}}function oA(e){return e[jf]??=[]}function aA(e){return e.cleanup??=[]}function lA(e,t){let i=e[hc],n=i?i.get(Sr,null):null;n&&n.handleError(t)}function eb(e,t,i,n,s){for(let r=0;r<i.length;){let o=i[r++],a=i[r++],l=i[r++],c=t[o],u=e.data[o];KI(u,c,n,a,l,s)}}function z4(e,t,i){let n=zT(t,e);Jz(e[Mt],n,i)}function G4(e,t){let i=bo(t,e),n=i[Ie];H4(n,i);let s=i[Tr];s!==null&&i[dd]===null&&(i[dd]=Gx(s,i[hc])),tb(n,i,i[xs])}function H4(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}function tb(e,t,i){Rx(t);try{let n=e.viewQuery;n!==null&&Xv(1,n,i);let s=e.template;s!==null&&eA(e,t,s,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[Dr]?.finishViewCreation(e),e.staticContentQueries&&rA(e,t),e.staticViewQueries&&Xv(2,e.viewQuery,i);let r=e.components;r!==null&&U4(t,r)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Ce]&=-5,Px()}}function U4(e,t){for(let i=0;i<t.length;i++)G4(e,t[i])}function cA(e,t,i,n){let s=$e(null);try{let r=t.tView,a=e[Ce]&4096?4096:16,l=Eg(e,r,i,a,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=e[t.index];l[Ma]=c;let u=e[Dr];return u!==null&&(l[Dr]=u.createEmbeddedView(r)),tb(r,l,i),l}finally{$e(s)}}function qv(e,t){return!t||t.firstChild===null||xI(e)}function uA(e,t,i,n=!0){let s=t[Ie];if(s4(s,t,e,i),n){let o=Yv(i,e),a=t[Mt],l=UI(a,e[Ta]);l!==null&&i4(s,e[sn],a,t,l,o)}let r=t[dd];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function Qf(e,t,i,n,s=!1){for(;i!==null;){if(i.type===128){i=s?i.projectionNext:i.next;continue}let r=t[i.index];r!==null&&n.push(Ws(r)),Ir(r)&&$4(r,n);let o=i.type;if(o&8)Qf(e,t,i.child,n);else if(o&32){let a=$x(i,t),l;for(;l=a();)n.push(l)}else if(o&16){let a=WI(t,i);if(Array.isArray(a))n.push(...a);else{let l=Ia(t[Bn]);Qf(l[Ie],l,a,n,!0)}}i=s?i.projectionNext:i.next}return n}function $4(e,t){for(let i=_n;i<e.length;i++){let n=e[i],s=n[Ie].firstChild;s!==null&&Qf(n[Ie],n,s,t)}e[Ta]!==e[Tr]&&t.push(e[Ta])}var dA=[];function W4(e){return e[Vn]??Y4(e)}function Y4(e){let t=dA.pop()??Object.create(X4);return t.lView=e,t}function Z4(e){e.lView[Vn]!==e&&(e.lView=null,dA.push(e))}var X4=k(S({},Ju),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{vg(e.lView)},consumerOnSignalRead(){this.lView[Vn]=this}});function q4(e){let t=e[Vn]??Object.create(Q4);return t.lView=e,t}var Q4=k(S({},Ju),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ia(e.lView);for(;t&&!hA(t[Ie]);)t=Ia(t);t&&$T(t)},consumerOnSignalRead(){this.lView[Vn]=this}});function hA(e){return e.type!==2}var K4=100;function pA(e,t=!0,i=0){let n=e[$s],s=n.rendererFactory,r=!1;r||s.begin?.();try{J4(e,i)}catch(o){throw t&&lA(e,o),o}finally{r||(s.end?.(),n.inlineEffectRunner?.flush())}}function J4(e,t){let i=QT();try{EM(!0),Qv(e,t);let n=0;for(;pd(e);){if(n===K4)throw new J(103,!1);n++,Qv(e,1)}}finally{EM(i)}}function e3(e,t,i,n){let s=t[Ce];if((s&256)===256)return;let r=!1,o=!1;!r&&t[$s].inlineEffectRunner?.flush(),Rx(t);let a=!0,l=null,c=null;r||(hA(e)?(c=W4(t),l=Xp(c)):kS()===null?(a=!1,c=q4(t),l=Xp(c)):t[Vn]&&(H0(t[Vn]),t[Vn]=null));try{UT(t),Pj(e.bindingStartIndex),i!==null&&eA(e,t,i,2,n);let u=(s&3)===3;if(!r)if(u){let p=e.preOrderCheckHooks;p!==null&&Lf(t,p,null)}else{let p=e.preOrderHooks;p!==null&&Nf(t,p,0,null),hv(t,0)}if(o||t3(t),fA(t,0),e.contentQueries!==null&&rA(e,t),!r)if(u){let p=e.contentCheckHooks;p!==null&&Lf(t,p)}else{let p=e.contentHooks;p!==null&&Nf(t,p,1),hv(t,1)}m4(e,t);let d=e.components;d!==null&&mA(t,d,0);let h=e.viewQuery;if(h!==null&&Xv(2,h,n),!r)if(u){let p=e.viewCheckHooks;p!==null&&Lf(t,p)}else{let p=e.viewHooks;p!==null&&Nf(t,p,2),hv(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[dv]){for(let p of t[dv])p();t[dv]=null}r||(t[Ce]&=-73)}catch(u){throw r||vg(t),u}finally{c!==null&&(z0(c,l),a&&Z4(c)),Px()}}function fA(e,t){for(let i=_I(e);i!==null;i=CI(i))for(let n=_n;n<i.length;n++){let s=i[n];gA(s,t)}}function t3(e){for(let t=_I(e);t!==null;t=CI(t)){if(!(t[Ce]&Gf.HasTransplantedViews))continue;let i=t[pc];for(let n=0;n<i.length;n++){let s=i[n];$T(s)}}}function i3(e,t,i){let n=bo(t,e);gA(n,i)}function gA(e,t){kx(e)&&Qv(e,t)}function Qv(e,t){let n=e[Ie],s=e[Ce],r=e[Vn],o=!!(t===0&&s&16);if(o||=!!(s&64&&t===0),o||=!!(s&1024),o||=!!(r?.dirty&&G0(r)),o||=!1,r&&(r.dirty=!1),e[Ce]&=-9217,o)e3(n,e,n.template,e[xs]);else if(s&8192){fA(e,1);let a=n.components;a!==null&&mA(e,a,1)}}function mA(e,t,i){for(let n=0;n<t.length;n++)i3(e,t[n],i)}function ib(e,t){let i=QT()?64:1088;for(e[$s].changeDetectionScheduler?.notify(t);e;){e[Ce]|=i;let n=Ia(e);if(Ev(e)&&!n)return e;e=n}return null}var La=class{get rootNodes(){let t=this._lView,i=t[Ie];return Qf(i,t,i.firstChild,[])}constructor(t,i,n=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xs]}set context(t){this._lView[xs]=t}get destroyed(){return(this._lView[Ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ki];if(Ir(t)){let i=t[zf],n=i?i.indexOf(this):-1;n>-1&&(Wv(t,n),Vf(i,n))}this._attachedToViewContainer=!1}zI(this._lView[Ie],this._lView)}onDestroy(t){WT(this._lView,t)}markForCheck(){ib(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ce]&=-129}reattach(){Lv(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,pA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ev(this._lView),i=this._lView[Ma];i!==null&&!t&&Wx(i,this._lView),BI(this._lView[Ie],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=t;let i=Ev(this._lView),n=this._lView[Ma];n!==null&&!i&&jI(n,this._lView),Lv(this._lView)}},Na=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=r3;let e=t;return e})(),n3=Na,s3=class extends n3{constructor(t,i,n){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,n){let s=cA(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:n});return new La(s)}};function r3(){return Lg(mi(),Oe())}function Lg(e,t){return e.type&4?new s3(t,e,bc(e,t)):null}var loe=new RegExp(`^(\\d+)*(${wz}|${Cz})*(.*)`);var o3=()=>null;function Kv(e,t){return o3(e,t)}var gc=class{},yA=new te("",{providedIn:"root",factory:()=>!1});var vA=new te(""),Jv=class{},Kf=class{};function a3(e){let t=Error(`No component factory found for ${Vi(e)}.`);return t[l3]=e,t}var l3="ngComponent";var ex=class{resolveComponentFactory(t){throw a3(t)}},vb=class vb{};vb.NULL=new ex;var vo=vb,mc=class{},zn=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>c3();let e=t;return e})();function c3(){let e=Oe(),t=mi(),i=bo(t.index,e);return(po(i)?i:e)[Mt]}var u3=(()=>{let t=class t{};t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null});let e=t;return e})();var XM=new Set;function Cc(e){XM.has(e)||(XM.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var tn=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(tn||{}),d3={destroy(){}};function nb(e,t){!t&&Ax(nb);let i=t?.injector??F(ni);return qz(i)?(Cc("NgAfterNextRender"),p3(e,i,!0,t?.phase??tn.MixedReadWrite)):d3}function h3(e,t){if(e instanceof Function)switch(t){case tn.EarlyRead:return{earlyRead:e};case tn.Write:return{write:e};case tn.MixedReadWrite:return{mixedReadWrite:e};case tn.Read:return{read:e}}return e}function p3(e,t,i,n){let s=h3(e,n),r=t.get(sb),o=r.handler??=new ix,a=[],l=[],c=()=>{for(let p of l)o.unregister(p);u()},u=t.get(Va).onDestroy(c),d=0,h=(p,f)=>{if(!f)return;let g=i?(...x)=>(d--,d<1&&c(),f(...x)):f,y=wn(t,()=>new tx(p,a,g));o.register(y),l.push(y),d++};return h(tn.EarlyRead,s.earlyRead),h(tn.Write,s.write),h(tn.MixedReadWrite,s.mixedReadWrite),h(tn.Read,s.read),{destroy:c}}var tx=class{constructor(t,i,n){this.phase=t,this.pipelinedArgs=i,this.callbackFn=n,this.zone=F(We),this.errorHandler=F(Sr,{optional:!0}),F(gc,{optional:!0})?.notify(6)}invoke(){try{let t=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,t)}catch(t){this.errorHandler?.handleError(t)}}},ix=class{constructor(){this.executingCallbacks=!1,this.buckets={[tn.EarlyRead]:new Set,[tn.Write]:new Set,[tn.MixedReadWrite]:new Set,[tn.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let i of t)i.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},sb=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of n)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function Jf(e,t,i){let n=i?e.styles:null,s=i?e.classes:null,r=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")r=a;else if(r==1)s=Cv(s,a);else if(r==2){let l=a,c=t[++o];n=Cv(n,l+": "+c+";")}}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=s:e.classesWithoutHost=s}var eg=class extends vo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let i=go(t);return new yc(i,this.ngModule)}};function qM(e,t){let i=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let s=e[n];if(s===void 0)continue;let r=Array.isArray(s),o=r?s[0]:s,a=r?s[1]:fo.None;t?i.push({propName:o,templateName:n,isSignal:(a&fo.SignalBased)!==0}):i.push({propName:o,templateName:n})}return i}function f3(e){let t=e.toLowerCase();return t==="svg"?jT:t==="math"?Dj:null}var yc=class extends Kf{get inputs(){let t=this.componentDef,i=t.inputTransforms,n=qM(t.inputs,!0);if(i!==null)for(let s of n)i.hasOwnProperty(s.propName)&&(s.transform=i[s.propName]);return n}get outputs(){return qM(this.componentDef.outputs,!1)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=nj(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,n,s){let r=$e(null);try{s=s||this.ngModule;let o=s instanceof Bi?s:s?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ov(t,o):t,l=a.get(mc,null);if(l===null)throw new J(407,!1);let c=a.get(u3,null),u=a.get(sb,null),d=a.get(gc,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},p=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=n?x4(p,n,this.componentDef.encapsulation,a):VI(p,f,f3(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let x=null;g!==null&&(x=Gx(g,a,!0));let v=Qx(0,null,null,1,0,null,null,null,null,null,null),_=Eg(null,v,null,y,null,null,h,p,a,null,x);Rx(_);let C,w;try{let D=this.componentDef,M,I=null;D.findHostDirectiveDefs?(M=[],I=new Map,D.findHostDirectiveDefs(D,M,I),M.push(D)):M=[D];let T=g3(_,g),A=m3(T,g,D,M,_,h,p);w=GT(v,nn),g&&x3(p,D,g,n),i!==void 0&&b3(w,this.ngContentSelectors,i),C=v3(A,D,M,I,_,[_3]),tb(v,_,null)}finally{Px()}return new nx(this.componentType,C,bc(w,_),_,w)}finally{$e(r)}}},nx=class extends Jv{constructor(t,i,n,s,r){super(),this.location=n,this._rootLView=s,this._tNode=r,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new La(s,void 0,!1),this.componentType=t}setInput(t,i){let n=this._tNode.inputs,s;if(n!==null&&(s=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;let r=this._rootLView;eb(r[Ie],r,s,t,i),this.previousInputValues.set(t,i);let o=bo(this._tNode.index,r);ib(o,1)}}get injector(){return new Da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function g3(e,t){let i=e[Ie],n=nn;return e[n]=t,_c(i,n,2,"#host",null)}function m3(e,t,i,n,s,r,o){let a=s[Ie];y3(n,e,t,o);let l=null;t!==null&&(l=Gx(t,s[hc]));let c=r.rendererFactory.createRenderer(t,i),u=16;i.signals?u=4096:i.onPush&&(u=64);let d=Eg(s,tA(i),null,u,s[e.index],e,r,c,null,null,l);return a.firstCreatePass&&Zv(a,e,n.length-1),kg(s,d),s[e.index]=d}function y3(e,t,i,n){for(let s of e)t.mergedAttrs=cd(t.mergedAttrs,s.hostAttrs);t.mergedAttrs!==null&&(Jf(t,t.mergedAttrs,!0),i!==null&&XI(n,i,t))}function v3(e,t,i,n,s,r){let o=mi(),a=s[Ie],l=jn(o,s);iA(a,s,o,i,null,n);for(let u=0;u<i.length;u++){let d=o.directiveStart+u,h=ka(s,a,d,o);yo(h,s)}nA(a,s,o),l&&yo(l,s);let c=ka(s,a,o.directiveStart+o.componentOffset,o);if(e[xs]=s[xs]=c,r!==null)for(let u of r)u(c,t);return Zx(a,o,s),c}function x3(e,t,i,n){if(n)Mv(e,i,["ng-version","18.1.4"]);else{let{attrs:s,classes:r}=sj(t.selectors[0]);s&&Mv(e,i,s),r&&r.length>0&&ZI(e,i,r.join(" "))}}function b3(e,t,i){let n=e.projection=[];for(let s=0;s<t.length;s++){let r=i[s];n.push(r!=null?Array.from(r):null)}}function _3(){let e=mi();Dg(Oe()[Ie],e)}var _s=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=C3;let e=t;return e})();function C3(){let e=mi();return bA(e,Oe())}var w3=_s,xA=class extends w3{constructor(t,i,n){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=n}get element(){return bc(this._hostTNode,this._hostLView)}get injector(){return new Da(this._hostTNode,this._hostLView)}get parentInjector(){let t=Fx(this._hostTNode,this._hostLView);if(aI(t)){let i=Uf(t,this._hostLView),n=Hf(t),s=i[Ie].data[n+8];return new Da(s,i)}else return new Da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let i=QM(this._lContainer);return i!==null&&i[t]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(t,i,n){let s,r;typeof n=="number"?s=n:n!=null&&(s=n.index,r=n.injector);let o=Kv(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(i||{},r,o);return this.insertImpl(a,s,qv(this._hostTNode,o)),a}createComponent(t,i,n,s,r){let o=t&&!bj(t),a;if(o)a=i;else{let f=i||{};a=f.index,n=f.injector,s=f.projectableNodes,r=f.environmentInjector||f.ngModuleRef}let l=o?t:new yc(go(t)),c=n||this.parentInjector;if(!r&&l.ngModule==null){let g=(o?c:this.parentInjector).get(Bi,null);g&&(r=g)}let u=go(l.componentType??{}),d=Kv(this._lContainer,u?.id??null),h=d?.firstChild??null,p=l.create(c,s,h,r);return this.insertImpl(p.hostView,a,qv(this._hostTNode,d)),p}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,n){let s=t._lView;if(Mj(s)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=s[ki],c=new xA(l,l[sn],l[ki]);c.detach(c.indexOf(t))}}let r=this._adjustIndex(i),o=this._lContainer;return uA(o,s,r,n),t.attachToViewContainerRef(),mT(yv(o),r,t),t}move(t,i){return this.insert(t,i)}indexOf(t){let i=QM(this._lContainer);return i!==null?i.indexOf(t):-1}remove(t){let i=this._adjustIndex(t,-1),n=Wv(this._lContainer,i);n&&(Vf(yv(this._lContainer),i),zI(n[Ie],n))}detach(t){let i=this._adjustIndex(t,-1),n=Wv(this._lContainer,i);return n&&Vf(yv(this._lContainer),i)!=null?new La(n):null}_adjustIndex(t,i=0){return t??this.length+i}};function QM(e){return e[zf]}function yv(e){return e[zf]||(e[zf]=[])}function bA(e,t){let i,n=t[e.index];return Ir(n)?i=n:(i=sA(n,t,null,e),t[e.index]=i,kg(t,i)),S3(i,t,e,n),new xA(i,e,t)}function D3(e,t){let i=e[Mt],n=i.createComment(""),s=jn(t,e),r=UI(i,s);return qf(i,r,n,l4(i,s),!1),n}var S3=I3,M3=()=>!1;function T3(e,t,i){return M3(e,t,i)}function I3(e,t,i,n){if(e[Ta])return;let s;i.type&8?s=Ws(n):s=D3(t,i),e[Ta]=s}var sx=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},rx=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let i=t.queries;if(i!==null){let n=t.contentQueries!==null?t.contentQueries[0]:i.length,s=[];for(let r=0;r<n;r++){let o=i.getByIndex(r),a=this.queries[o.indexInDeclarationView];s.push(a.clone())}return new e(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)rb(t,i).matches!==null&&this.queries[i].setDirty()}},tg=class{constructor(t,i,n=null){this.flags=i,this.read=n,typeof t=="string"?this.predicate=P3(t):this.predicate=t}},ox=class e{constructor(t=[]){this.queries=t}elementStart(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let n=0;n<this.length;n++){let s=i!==null?i.length:0,r=this.getByIndex(n).embeddedTView(t,s);r&&(r.indexInDeclarationView=n,i!==null?i.push(r):i=[r])}return i!==null?new e(i):null}template(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},ax=class e{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){let r=n[s];this.matchTNodeWithReadOption(t,i,A3(i,r)),this.matchTNodeWithReadOption(t,i,Of(i,t,r,!1,!1))}else n===Na?i.type&4&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,Of(i,t,n,!1,!1))}matchTNodeWithReadOption(t,i,n){if(n!==null){let s=this.metadata.read;if(s!==null)if(s===vt||s===_s||s===Na&&i.type&4)this.addMatch(i.index,-2);else{let r=Of(i,t,s,!1,!1);r!==null&&this.addMatch(i.index,r)}else this.addMatch(i.index,n)}}addMatch(t,i){this.matches===null?this.matches=[t,i]:this.matches.push(t,i)}};function A3(e,t){let i=e.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1]}return null}function E3(e,t){return e.type&11?bc(e,t):e.type&4?Lg(e,t):null}function k3(e,t,i,n){return i===-1?E3(t,e):i===-2?L3(e,t,n):ka(e,e[Ie],i,t)}function L3(e,t,i){if(i===vt)return bc(t,e);if(i===Na)return Lg(t,e);if(i===_s)return bA(t,e)}function _A(e,t,i,n){let s=t[Dr].queries[n];if(s.matches===null){let r=e.data,o=i.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=r[c];a.push(k3(t,u,o[l+1],i.metadata.read))}}s.matches=a}return s.matches}function lx(e,t,i,n){let s=e.queries.getByIndex(i),r=s.matches;if(r!==null){let o=_A(e,t,s,i);for(let a=0;a<r.length;a+=2){let l=r[a];if(l>0)n.push(o[a/2]);else{let c=r[a+1],u=t[-l];for(let d=_n;d<u.length;d++){let h=u[d];h[Ma]===h[ki]&&lx(h[Ie],h,c,n)}if(u[pc]!==null){let d=u[pc];for(let h=0;h<d.length;h++){let p=d[h];lx(p[Ie],p,c,n)}}}}}return n}function N3(e,t){return e[Dr].queries[t].queryList}function CA(e,t,i){let n=new zv((i&4)===4);return C4(e,t,n,n.destroy),(t[Dr]??=new rx).queries.push(new sx(n))-1}function O3(e,t,i){let n=Nt();return n.firstCreatePass&&(wA(n,new tg(e,t,i),-1),(t&2)===2&&(n.staticViewQueries=!0)),CA(n,Oe(),t)}function R3(e,t,i,n){let s=Nt();if(s.firstCreatePass){let r=mi();wA(s,new tg(t,i,n),r.index),F3(s,e),(i&2)===2&&(s.staticContentQueries=!0)}return CA(s,Oe(),i)}function P3(e){return e.split(",").map(t=>t.trim())}function wA(e,t,i){e.queries===null&&(e.queries=new ox),e.queries.track(new ax(t,i))}function F3(e,t){let i=e.contentQueries||(e.contentQueries=[]),n=i.length?i[i.length-1]:-1;t!==n&&i.push(e.queries.length-1,t)}function rb(e,t){return e.queries.getByIndex(t)}function V3(e,t){let i=e[Ie],n=rb(i,t);return n.crossesNgTemplate?lx(i,e,t,[]):_A(i,e,n,t)}function B3(e){return typeof e=="function"&&e[br]!==void 0}function wc(e,t){Cc("NgSignals");let i=GS(e),n=i[br];return t?.equal&&(n.equal=t.equal),i.set=s=>U0(n,s),i.update=s=>HS(n,s),i.asReadonly=j3.bind(i),i}function j3(){let e=this[br];if(e.readonlyFn===void 0){let t=()=>this();t[br]=e,e.readonlyFn=t}return e.readonlyFn}function DA(e){return B3(e)&&typeof e.set=="function"}function z3(e){let t=[],i=new Map;function n(s){let r=i.get(s);if(!r){let o=e(s);i.set(s,r=o.then($3))}return r}return ig.forEach((s,r)=>{let o=[];s.templateUrl&&o.push(n(s.templateUrl).then(c=>{s.template=c}));let a=typeof s.styles=="string"?[s.styles]:s.styles||[];if(s.styles=a,s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(s.styleUrls?.length){let c=s.styles.length,u=s.styleUrls;s.styleUrls.forEach((d,h)=>{a.push(""),o.push(n(d).then(p=>{a[c+h]=p,u.splice(u.indexOf(d),1),u.length==0&&(s.styleUrls=void 0)}))})}else s.styleUrl&&o.push(n(s.styleUrl).then(c=>{a.push(c),s.styleUrl=void 0}));let l=Promise.all(o).then(()=>W3(r));t.push(l)}),H3(),Promise.all(t).then(()=>{})}var ig=new Map,G3=new Set;function H3(){let e=ig;return ig=new Map,e}function U3(){return ig.size===0}function $3(e){return typeof e=="string"?e:e.text()}function W3(e){G3.delete(e)}function Y3(e){return Object.getPrototypeOf(e.prototype).constructor}function rn(e){let t=Y3(e.type),i=!0,n=[e];for(;t;){let s;if(mo(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new J(903,!1);s=t.\u0275dir}if(s){if(i){n.push(s);let o=e;o.inputs=If(e.inputs),o.inputTransforms=If(e.inputTransforms),o.declaredInputs=If(e.declaredInputs),o.outputs=If(e.outputs);let a=s.hostBindings;a&&K3(e,a);let l=s.viewQuery,c=s.contentQueries;if(l&&q3(e,l),c&&Q3(e,c),Z3(e,s),CB(e.outputs,s.outputs),mo(s)&&s.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(s.data.animation)}}let r=s.features;if(r)for(let o=0;o<r.length;o++){let a=r[o];a&&a.ngInherit&&a(e),a===rn&&(i=!1)}}t=Object.getPrototypeOf(t)}X3(n)}function Z3(e,t){for(let i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;let n=t.inputs[i];if(n!==void 0&&(e.inputs[i]=n,e.declaredInputs[i]=t.declaredInputs[i],t.inputTransforms!==null)){let s=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(s))continue;e.inputTransforms??={},e.inputTransforms[s]=t.inputTransforms[s]}}}function X3(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){let s=e[n];s.hostVars=t+=s.hostVars,s.hostAttrs=cd(s.hostAttrs,i=cd(i,s.hostAttrs))}}function If(e){return e===cc?{}:e===en?[]:e}function q3(e,t){let i=e.viewQuery;i?e.viewQuery=(n,s)=>{t(n,s),i(n,s)}:e.viewQuery=t}function Q3(e,t){let i=e.contentQueries;i?e.contentQueries=(n,s,r)=>{t(n,s,r),i(n,s,r)}:e.contentQueries=t}function K3(e,t){let i=e.hostBindings;i?e.hostBindings=(n,s)=>{t(n,s),i(n,s)}:e.hostBindings=t}function ob(e){let t=e.inputConfig,i={};for(let n in t)if(t.hasOwnProperty(n)){let s=t[n];Array.isArray(s)&&s[3]&&(i[n]=s[3])}e.inputTransforms=i}var xo=class{},fd=class{};var ng=class extends xo{constructor(t,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eg(this);let s=MT(t);this._bootstrapComponents=FI(s.bootstrap),this._r3Injector=mI(t,i,[{provide:xo,useValue:this},{provide:vo,useValue:this.componentFactoryResolver},...n],Vi(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},sg=class extends fd{constructor(t){super(),this.moduleType=t}create(t){return new ng(this.moduleType,t,[])}};function J3(e,t,i){return new ng(e,t,i)}var cx=class extends xo{constructor(t){super(),this.componentFactoryResolver=new eg(this),this.instance=null;let i=new ud([...t.providers,{provide:xo,useValue:this},{provide:vo,useValue:this.componentFactoryResolver}],t.parent||Ix(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ng(e,t,i=null){return new cx({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}function SA(e){return ab(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function eG(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i=e[Symbol.iterator](),n;for(;!(n=i.next()).done;)t(n.value)}}function ab(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function lb(e,t,i){return e[t]=i}function tG(e,t){return e[t]}function Mr(e,t,i){let n=e[t];return Object.is(n,i)?!1:(e[t]=i,!0)}function iG(e,t,i,n){let s=Mr(e,t,i);return Mr(e,t+1,n)||s}function nG(e){return(e.flags&32)===32}function sG(e,t,i,n,s,r,o,a,l){let c=t.consts,u=_c(t,e,4,o||null,a||null);Jx(t,i,u,fc(c,l)),Dg(t,u);let d=u.tView=Qx(2,u,n,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function MA(e,t,i,n,s,r,o,a,l,c){let u=i+nn,d=t.firstCreatePass?sG(u,t,e,n,s,r,o,a,l):t.data[u];Pa(d,!1);let h=rG(t,e,d,i);Cg()&&Ig(t,e,h,d),yo(h,e);let p=sA(h,e,h,d);return e[u]=p,kg(e,p),T3(p,d,e),yg(d)&&Xx(t,e,d),l!=null&&qx(e,d,c),d}function be(e,t,i,n,s,r,o,a){let l=Oe(),c=Nt(),u=fc(c.consts,r);return MA(l,c,e,t,i,n,s,u,o,a),be}var rG=oG;function oG(e,t,i,n){return wg(!0),t[Mt].createComment("")}function Fe(e,t,i,n){let s=Oe(),r=bg();if(Mr(s,r,t)){let o=Nt(),a=_g();F4(a,s,e,t,i,n)}return Fe}function cb(e,t,i,n){return Mr(e,bg(),i)?t+yd(i)+n:bs}function Af(e,t){return e<<17|t<<2}function Oa(e){return e>>17&32767}function aG(e){return(e&2)==2}function lG(e,t){return e&131071|t<<17}function ux(e){return e|2}function vc(e){return(e&131068)>>2}function vv(e,t){return e&-131069|t<<2}function cG(e){return(e&1)===1}function dx(e){return e|1}function uG(e,t,i,n,s,r){let o=r?t.classBindings:t.styleBindings,a=Oa(o),l=vc(o);e[n]=i;let c=!1,u;if(Array.isArray(i)){let d=i;u=d[1],(u===null||xd(d,u)>0)&&(c=!0)}else u=i;if(s)if(l!==0){let h=Oa(e[a+1]);e[n+1]=Af(h,a),h!==0&&(e[h+1]=vv(e[h+1],n)),e[a+1]=lG(e[a+1],n)}else e[n+1]=Af(a,0),a!==0&&(e[a+1]=vv(e[a+1],n)),a=n;else e[n+1]=Af(l,0),a===0?a=n:e[l+1]=vv(e[l+1],n),l=n;c&&(e[n+1]=ux(e[n+1])),KM(e,u,n,!0),KM(e,u,n,!1),dG(t,u,e,n,r),o=Af(a,l),r?t.classBindings=o:t.styleBindings=o}function dG(e,t,i,n,s){let r=s?e.residualClasses:e.residualStyles;r!=null&&typeof t=="string"&&xd(r,t)>=0&&(i[n+1]=dx(i[n+1]))}function KM(e,t,i,n){let s=e[i+1],r=t===null,o=n?Oa(s):vc(s),a=!1;for(;o!==0&&(a===!1||r);){let l=e[o],c=e[o+1];hG(l,t)&&(a=!0,e[o+1]=n?dx(c):ux(c)),o=n?Oa(c):vc(c)}a&&(e[i+1]=n?ux(s):dx(s))}function hG(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?xd(e,t)>=0:!1}var ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pG(e){return e.substring(ys.key,ys.keyEnd)}function fG(e){return gG(e),TA(e,IA(e,0,ys.textEnd))}function TA(e,t){let i=ys.textEnd;return i===t?-1:(t=ys.keyEnd=mG(e,ys.key=t,i),IA(e,t,i))}function gG(e){ys.key=0,ys.keyEnd=0,ys.value=0,ys.valueEnd=0,ys.textEnd=e.length}function IA(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function mG(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}function G(e,t,i){let n=Oe(),s=bg();if(Mr(n,s,t)){let r=Nt(),o=_g();Kx(r,o,n,e,t,n[Mt],i,!1)}return G}function hx(e,t,i,n,s){let r=t.inputs,o=s?"class":"style";eb(e,i,r[o],o,n)}function ji(e,t,i){return kA(e,t,i,!1),ji}function Gn(e,t){return kA(e,t,null,!0),Gn}function AA(e){LA(CG,EA,e,!0)}function EA(e,t){for(let i=fG(t);i>=0;i=TA(t,i))hg(e,pG(t),!0)}function kA(e,t,i,n){let s=Oe(),r=Nt(),o=KT(2);if(r.firstUpdatePass&&OA(r,e,o,n),t!==bs&&Mr(s,o,t)){let a=r.data[Fa()];RA(r,a,s,s[Mt],e,s[o+1]=DG(t,i),n,o)}}function LA(e,t,i,n){let s=Nt(),r=KT(2);s.firstUpdatePass&&OA(s,null,r,n);let o=Oe();if(i!==bs&&Mr(o,r,i)){let a=s.data[Fa()];if(PA(a,n)&&!NA(s,r)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(i=Cv(l,i||"")),hx(s,a,o,i,n)}else wG(s,a,o,o[Mt],o[r+1],o[r+1]=_G(e,t,i),n,r)}}function NA(e,t){return t>=e.expandoStartIndex}function OA(e,t,i,n){let s=e.data;if(s[i+1]===null){let r=s[Fa()],o=NA(e,i);PA(r,n)&&t===null&&!o&&(t=!1),t=yG(s,r,t,n),uG(s,r,t,i,o,n)}}function yG(e,t,i,n){let s=jj(e),r=n?t.residualClasses:t.residualStyles;if(s===null)(n?t.classBindings:t.styleBindings)===0&&(i=xv(null,e,t,i,n),i=gd(i,t.attrs,n),r=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==s)if(i=xv(s,e,t,i,n),r===null){let l=vG(e,t,n);l!==void 0&&Array.isArray(l)&&(l=xv(null,e,t,l[1],n),l=gd(l,t.attrs,n),xG(e,t,n,l))}else r=bG(e,t,n)}return r!==void 0&&(n?t.residualClasses=r:t.residualStyles=r),i}function vG(e,t,i){let n=i?t.classBindings:t.styleBindings;if(vc(n)!==0)return e[Oa(n)]}function xG(e,t,i,n){let s=i?t.classBindings:t.styleBindings;e[Oa(s)]=n}function bG(e,t,i){let n,s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++){let o=e[r].hostAttrs;n=gd(n,o,i)}return gd(n,t.attrs,i)}function xv(e,t,i,n,s){let r=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(r=t[a],n=gd(n,r.hostAttrs,s),r!==e);)a++;return e!==null&&(i.directiveStylingLast=a),n}function gd(e,t,i){let n=i?1:2,s=-1;if(t!==null)for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?s=o:s===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),hg(e,o,i?!0:t[++r]))}return e===void 0?null:e}function _G(e,t,i){if(i==null||i==="")return en;let n=[],s=Ba(i);if(Array.isArray(s))for(let r=0;r<s.length;r++)e(n,s[r],!0);else if(typeof s=="object")for(let r in s)s.hasOwnProperty(r)&&e(n,r,s[r]);else typeof s=="string"&&t(n,s);return n}function CG(e,t,i){let n=String(t);n!==""&&!n.includes(" ")&&hg(e,n,i)}function wG(e,t,i,n,s,r,o,a){s===bs&&(s=en);let l=0,c=0,u=0<s.length?s[0]:null,d=0<r.length?r[0]:null;for(;u!==null||d!==null;){let h=l<s.length?s[l+1]:void 0,p=c<r.length?r[c+1]:void 0,f=null,g;u===d?(l+=2,c+=2,h!==p&&(f=d,g=p)):d===null||u!==null&&u<d?(l+=2,f=u):(c+=2,f=d,g=p),f!==null&&RA(e,t,i,n,f,g,o,a),u=l<s.length?s[l]:null,d=c<r.length?r[c]:null}}function RA(e,t,i,n,s,r,o,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=cG(c)?JM(l,t,i,s,vc(c),o):void 0;if(!rg(u)){rg(r)||aG(c)&&(r=JM(l,null,i,s,a,o));let d=zT(Fa(),i);f4(n,o,d,s,r)}}function JM(e,t,i,n,s,r){let o=t===null,a;for(;s>0;){let l=e[s],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=i[s+1];h===bs&&(h=d?en:void 0);let p=d?cv(h,n):u===n?h:void 0;if(c&&!rg(p)&&(p=cv(l,n)),rg(p)&&(a=p,o))return a;let f=e[s+1];s=o?Oa(f):vc(f)}if(t!==null){let l=r?t.residualClasses:t.residualStyles;l!=null&&(a=cv(l,n))}return a}function rg(e){return e!==void 0}function DG(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Vi(Ba(e)))),e}function PA(e,t){return(e.flags&(t?8:16))!==0}function FA(e,t,i){let n=Oe(),s=cb(n,e,t,i);LA(hg,EA,s,!0)}function SG(e,t,i,n,s,r){let o=t.consts,a=fc(o,s),l=_c(t,e,2,n,a);return Jx(t,i,l,fc(o,r)),l.attrs!==null&&Jf(l,l.attrs,!1),l.mergedAttrs!==null&&Jf(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function O(e,t,i,n){let s=Oe(),r=Nt(),o=nn+e,a=s[Mt],l=r.firstCreatePass?SG(o,r,s,t,i,n):r.data[o],c=MG(r,s,l,a,t,e);s[o]=c;let u=yg(l);return Pa(l,!0),XI(a,c,l),!nG(l)&&Cg()&&Ig(r,s,c,l),Aj()===0&&yo(c,s),Ej(),u&&(Xx(r,s,l),Zx(r,l,s)),n!==null&&qx(s,l),O}function V(){let e=mi();Lx()?Nx():(e=e.parent,Pa(e,!1));let t=e;Lj(t)&&Nj(),kj();let i=Nt();return i.firstCreatePass&&(Dg(i,e),Ex(e)&&i.queries.elementEnd(e)),t.classesWithoutHost!=null&&Yj(t)&&hx(i,t,Oe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Zj(t)&&hx(i,t,Oe(),t.stylesWithoutHost,!1),V}function Ae(e,t,i,n){return O(e,t,i,n),V(),Ae}var MG=(e,t,i,n,s,r)=>(wg(!0),VI(n,s,Hj()));function TG(e,t,i,n,s){let r=t.consts,o=fc(r,n),a=_c(t,e,8,"ng-container",o);o!==null&&Jf(a,o,!0);let l=fc(r,s);return Jx(t,i,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function Co(e,t,i){let n=Oe(),s=Nt(),r=e+nn,o=s.firstCreatePass?TG(r,s,n,t,i):s.data[r];Pa(o,!0);let a=IG(s,n,o,e);return n[r]=a,Cg()&&Ig(s,n,a,o),yo(a,n),yg(o)&&(Xx(s,n,o),Zx(s,o,n)),i!=null&&qx(n,o),Co}function wo(){let e=mi(),t=Nt();return Lx()?Nx():(e=e.parent,Pa(e,!1)),t.firstCreatePass&&(Dg(t,e),Ex(e)&&t.queries.elementEnd(e)),wo}function Og(e,t,i){return Co(e,t,i),wo(),Og}var IG=(e,t,i,n)=>(wg(!0),e4(t[Mt],""));function on(){return Oe()}var og="en-US";var AG=og;function EG(e){typeof e=="string"&&(AG=e.toLowerCase().replace(/_/g,"-"))}var kG=(e,t,i)=>{};function Be(e,t,i,n){let s=Oe(),r=Nt(),o=mi();return VA(r,s,s[Mt],o,e,t,n),Be}function LG(e,t,i,n){let s=e.cleanup;if(s!=null)for(let r=0;r<s.length-1;r+=2){let o=s[r];if(o===i&&s[r+1]===n){let a=t[jf],l=s[r+2];return a.length>l?a[l]:null}typeof o=="string"&&(r+=2)}return null}function VA(e,t,i,n,s,r,o){let a=yg(n),c=e.firstCreatePass&&aA(e),u=t[xs],d=oA(t),h=!0;if(n.type&3||o){let g=jn(n,t),y=o?o(g):g,x=d.length,v=o?C=>o(Ws(C[n.index])):n.index,_=null;if(!o&&a&&(_=LG(e,t,s,n.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=r,_.__ngLastListenerFn__=r,h=!1}else{r=tT(n,t,u,r),kG(g,s,r);let C=i.listen(y,s,r);d.push(r,C),c&&c.push(s,v,x,x+1)}}else r=tT(n,t,u,r);let p=n.outputs,f;if(h&&p!==null&&(f=p[s])){let g=f.length;if(g)for(let y=0;y<g;y+=2){let x=f[y],v=f[y+1],w=t[x][v].subscribe(r),D=d.length;d.push(r,w),c&&c.push(s,n.index,D,-(D+1))}}}function eT(e,t,i,n){let s=$e(null);try{return Gs(6,t,i),i(n)!==!1}catch(r){return lA(e,r),!1}finally{Gs(7,t,i),$e(s)}}function tT(e,t,i,n){return function s(r){if(r===Function)return n;let o=e.componentOffset>-1?bo(e.index,t):t;ib(o,5);let a=eT(t,i,n,r),l=s.__ngNextListenerFn__;for(;l;)a=eT(t,i,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function $(e=1){return Gj(e)}function NG(e,t){let i=null,n=KB(e);for(let s=0;s<t.length;s++){let r=t[s];if(r==="*"){i=s;continue}if(n===null?CT(e,r,!0):tj(n,r))return s}return i}function BA(e){let t=Oe()[Bn][sn];if(!t.projection){let i=e?e.length:1,n=t.projection=HB(i,null),s=n.slice(),r=t.child;for(;r!==null;){if(r.type!==128){let o=e?NG(r,e):0;o!==null&&(s[o]?s[o].projectionNext=r:n[o]=r,s[o]=r)}r=r.next}}}function jA(e,t=0,i,n,s,r){let o=Oe(),a=Nt(),l=n?e+1:null;l!==null&&MA(o,a,l,n,s,r,null,i);let c=_c(a,nn+e,16,null,i||null);c.projection===null&&(c.projection=t),Nx();let d=!o[dd]||XT();o[Bn][sn].projection[c.projection]===null&&l!==null?OG(o,a,l):d&&(c.flags&32)!==32&&h4(a,o,c)}function OG(e,t,i){let n=nn+i,s=t.data[n],r=e[n],o=Kv(r,s.tView.ssrId),a=cA(e,s,void 0,{dehydratedView:o});uA(r,a,0,qv(s,o))}function Cs(e,t,i,n,s){let r=Oe(),o=cb(r,t,i,n);if(o!==bs){let a=Nt(),l=_g();Kx(a,l,r,e,o,r[Mt],s,!1)}return Cs}function wd(e,t,i,n){R3(e,t,i,n)}function Dc(e,t,i){O3(e,t,i)}function Zs(e){let t=Oe(),i=Nt(),n=JT();Ox(n+1);let s=rb(i,n);if(e.dirty&&Sj(t)===((s.metadata.flags&2)===2)){if(s.matches===null)e.reset([]);else{let r=V3(t,n);e.reset(r,gz),e.notifyOnChanges()}return!0}return!1}function Xs(){return N3(Oe(),JT())}function RG(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}function Do(e){let t=Rj();return HT(t,nn+e)}function ge(e,t=""){let i=Oe(),n=Nt(),s=e+nn,r=n.firstCreatePass?_c(n,s,1,t,null):n.data[s],o=PG(n,i,r,t,e);i[s]=o,Cg()&&Ig(n,i,o,r),Pa(r,!1)}var PG=(e,t,i,n,s)=>(wg(!0),Kz(t[Mt],n));function vi(e){return xi("",e,""),vi}function xi(e,t,i){let n=Oe(),s=cb(n,e,t,i);return s!==bs&&z4(n,Fa(),s),xi}function ja(e,t,i){DA(t)&&(t=t());let n=Oe(),s=bg();if(Mr(n,s,t)){let r=Nt(),o=_g();Kx(r,o,n,e,t,n[Mt],i,!1)}return ja}function Sc(e,t){let i=DA(e);return i&&e.set(t),i}function za(e,t){let i=Oe(),n=Nt(),s=mi();return VA(n,i,i[Mt],s,e,t),za}function FG(e,t,i){let n=Nt();if(n.firstCreatePass){let s=mo(e);px(i,n.data,n.blueprint,s,!0),px(t,n.data,n.blueprint,s,!1)}}function px(e,t,i,n,s){if(e=Fi(e),Array.isArray(e))for(let r=0;r<e.length;r++)px(e[r],t,i,n,s);else{let r=Nt(),o=Oe(),a=mi(),l=dc(e)?e:Fi(e.provide),c=LT(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(dc(e)||!e.multi){let p=new Ea(c,s,W),f=_v(l,t,s?u:u+h,d);f===-1?(Pv(Wf(a,o),r,l),bv(r,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),i.push(p),o.push(p)):(i[f]=p,o[f]=p)}else{let p=_v(l,t,u+h,d),f=_v(l,t,u,u+h),g=p>=0&&i[p],y=f>=0&&i[f];if(s&&!y||!s&&!g){Pv(Wf(a,o),r,l);let x=jG(s?BG:VG,i.length,s,n,c);!s&&y&&(i[f].providerFactory=x),bv(r,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),i.push(x),o.push(x)}else{let x=zA(i[s?f:p],c,!s&&n);bv(r,e,p>-1?p:f,x)}!s&&n&&y&&i[f].componentProviders++}}}function bv(e,t,i,n){let s=dc(t),r=hj(t);if(s||r){let l=(r?Fi(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){let u=c.indexOf(i);u===-1?c.push(i,[n,l]):c[u+1].push(n,l)}else c.push(i,l)}}}function zA(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function _v(e,t,i,n){for(let s=i;s<n;s++)if(t[s]===e)return s;return-1}function VG(e,t,i,n){return fx(this.multi,[])}function BG(e,t,i,n){let s=this.multi,r;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ka(i,i[Ie],this.providerFactory.index,n);r=a.slice(0,o),fx(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],fx(s,r);return r}function fx(e,t){for(let i=0;i<e.length;i++){let n=e[i];t.push(n())}return t}function jG(e,t,i,n,s){let r=new Ea(e,i,W);return r.multi=[],r.index=t,r.componentProviders=0,zA(r,s,n&&!i),r}function Ga(e,t=[]){return i=>{i.providersResolver=(n,s)=>FG(n,s?s(e):e,t)}}var zG=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let s=AT(!1,n.type),r=s.length>0?Ng([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(ee(Bi))});let e=t;return e})();function Rg(e){Cc("NgStandalone"),e.getStandaloneInjector=t=>t.get(zG).getOrCreateStandaloneInjector(e)}function Mc(e,t,i){let n=xg()+e,s=Oe();return s[n]===bs?lb(s,n,i?t.call(i):t()):tG(s,n)}function GA(e,t,i,n){return UA(Oe(),xg(),e,t,i,n)}function ub(e,t,i,n,s){return GG(Oe(),xg(),e,t,i,n,s)}function HA(e,t){let i=e[t];return i===bs?void 0:i}function UA(e,t,i,n,s,r){let o=t+i;return Mr(e,o,s)?lb(e,o+1,r?n.call(r,s):n(s)):HA(e,o+1)}function GG(e,t,i,n,s,r,o){let a=t+i;return iG(e,a,s,r)?lb(e,a+2,o?n.call(o,s,r):n(s,r)):HA(e,a+2)}function kr(e,t){let i=Nt(),n,s=e+nn;i.firstCreatePass?(n=HG(t,i.pipeRegistry),i.data[s]=n,n.onDestroy&&(i.destroyHooks??=[]).push(s,n.onDestroy)):n=i.data[s];let r=n.factory||(n.factory=Sa(n.type,!0)),o,a=Ji(W);try{let l=$f(!1),c=r();return $f(l),RG(i,Oe(),s,c),c}finally{Ji(a)}}function HG(e,t){if(t)for(let i=t.length-1;i>=0;i--){let n=t[i];if(e===n.name)return n}}function Lr(e,t,i){let n=e+nn,s=Oe(),r=HT(s,n);return UG(s,n)?UA(s,xg(),t,r.transform,i,r):r.transform(i)}function UG(e,t){return e[Ie].data[t].pure}function Dd(e,t){return Lg(e,t)}var Ef=null;function $G(e){Ef!==null&&(e.defaultEncapsulation!==Ef.defaultEncapsulation||e.preserveWhitespaces!==Ef.preserveWhitespaces)||(Ef=e)}var Pg=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var db=new te(""),Sd=new te(""),Fg=(()=>{let t=class t{constructor(n,s,r){this._ngZone=n,this.registry=s,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,hb||(WG(r),r.addToWindow(s)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>s.updateCb&&s.updateCb(n)?(clearTimeout(s.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,r){let o=-1;s&&s>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},s)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,s,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,s,r){return[]}};t.\u0275fac=function(s){return new(s||t)(ee(We),ee(Vg),ee(Sd))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),Vg=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return hb?.findTestabilityInTree(this,n,s)??null}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function WG(e){hb=e}var hb;function So(e){return!!e&&typeof e.then=="function"}function pb(e){return!!e&&typeof e.subscribe=="function"}var Bg=new te(""),$A=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s}),this.appInits=F(Bg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(So(o))n.push(o);else if(pb(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(a)}}let s=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{s()}).catch(r=>{this.reject(r)}),n.length===0&&s(),this.initialized=!0}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jg=new te("");function YG(){zS(()=>{throw new J(600,!1)})}function ZG(e){return e.isBoundToModule}var XG=10;function qG(e,t,i){try{let n=i();return So(n)?n.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}function WA(e,t){return Array.isArray(t)?t.reduce(WA,e):S(S({},e),t)}var qs=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(pz),this.afterRenderEffectManager=F(sb),this.zonelessEnabled=F(yA),this.externalTestViews=new Set,this.beforeRender=new zt,this.afterTick=new zt,this.componentTypes=[],this.components=[],this.isStable=F(_o).hasPendingTasks.pipe(me(n=>!n)),this._injector=F(Bi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,s){let r=n instanceof Kf;if(!this._injector.get($A).done){let p=!r&&ST(n),f=!1;throw new J(405,f)}let a;r?a=n:a=this._injector.get(vo).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=ZG(a)?void 0:this._injector.get(xo),c=s||a.selector,u=a.create(ni.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(db,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Rf(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new J(101,!1);let s=$e(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,$e(s),this.afterTick.next()}}detectChangesInAttachedViews(n){let s=null;this._injector.destroyed||(s=this._injector.get(mc,null,{optional:!0}));let r=0,o=this.afterRenderEffectManager;for(;r<XG;){let a=r===0;if(n||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)QG(l,c,a,this.zonelessEnabled)}else s?.begin?.(),s?.end?.();if(r++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>pd(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>pd(l))))break}}attachView(n){let s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){let s=n;Rf(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let s=this._injector.get(jg,[]);[...this._bootstrapListeners,...s].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Rf(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function QG(e,t,i,n){if(!i&&!pd(e))return;pA(e,t,i&&!n?0:1)}var gx=class{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}},zg=(()=>{let t=class t{compileModuleSync(n){return new sg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let s=this.compileModuleSync(n),r=MT(n),o=FI(r.declarations).reduce((a,l)=>{let c=go(l);return c&&a.push(new yc(c)),a},[]);return new gx(s,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),KG=new te("");function JG(e,t,i){let n=new sg(i);return Promise.resolve(n)}function iT(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var eH=(()=>{let t=class t{constructor(){this.zone=F(We),this.changeDetectionScheduler=F(gc),this.applicationRef=F(qs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function tH({ngZoneFactory:e,ignoreChangesOutsideZone:t}){return e??=()=>new We(YA()),[{provide:We,useFactory:e},{provide:uc,multi:!0,useFactory:()=>{let i=F(eH,{optional:!0});return()=>i.initialize()}},{provide:uc,multi:!0,useFactory:()=>{let i=F(iH);return()=>{i.initialize()}}},t===!0?{provide:vA,useValue:!0}:[]]}function YA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var iH=(()=>{let t=class t{constructor(){this.subscription=new Et,this.initialized=!1,this.zone=F(We),this.pendingTasks=F(_o)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var nH=(()=>{let t=class t{constructor(){this.appRef=F(qs),this.taskService=F(_o),this.ngZone=F(We),this.zonelessEnabled=F(yA),this.disableScheduling=F(vA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Et,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let s=this.useMicrotaskScheduler?RM:yI;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=s(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=s(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&We.isInAngularZone())}tick(n){if(this.runningTick||this.appRef.destroyed)return;let s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(n)},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(s),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function sH(){return typeof $localize<"u"&&$localize.locale||og}var fb=new te("",{providedIn:"root",factory:()=>F(fb,Re.Optional|Re.SkipSelf)||sH()});var ZA=new te(""),XA=(()=>{let t=class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){let r=hz(s?.ngZone,YA({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return r.run(()=>{let o=s?.ignoreChangesOutsideZone,a=J3(n.moduleType,this.injector,[...tH({ngZoneFactory:()=>r,ignoreChangesOutsideZone:o}),{provide:gc,useExisting:nH}]),l=a.injector.get(Sr,null);return r.runOutsideAngular(()=>{let c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Rf(this._modules,a),c.unsubscribe()})}),qG(l,r,()=>{let c=a.injector.get($A);return c.runInitializers(),c.donePromise.then(()=>{let u=a.injector.get(fb,og);return EG(u||og),this._moduleDoBootstrap(a),a})})})}bootstrapModule(n,s=[]){let r=WA({},s);return JG(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){let s=n.injector.get(qs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>s.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(s);else throw new J(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());let n=this._injector.get(ZA,null);n&&(n.forEach(s=>s()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(s){return new(s||t)(ee(ni))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})(),ad=null,qA=new te("");function rH(e){if(ad&&!ad.get(qA,!1))throw new J(400,!1);YG(),ad=e;let t=e.get(XA);return lH(e),t}function gb(e,t,i=[]){let n=`Platform: ${t}`,s=new te(n);return(r=[])=>{let o=QA();if(!o||o.injector.get(qA,!1)){let a=[...i,...r,{provide:s,useValue:!0}];e?e(a):rH(oH(a,n))}return aH(s)}}function oH(e=[],t){return ni.create({name:t,providers:[{provide:fg,useValue:"platform"},{provide:ZA,useValue:new Set([()=>ad=null])},...e]})}function aH(e){let t=QA();if(!t)throw new J(401,!1);return t}function QA(){return ad?.get(XA)??null}function lH(e){e.get(jx,null)?.forEach(i=>i())}var Hn=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=cH;let e=t;return e})();function cH(e){return uH(mi(),Oe(),(e&16)===16)}function uH(e,t,i){if(mg(e)&&!i){let n=bo(e.index,t);return new La(n,n)}else if(e.type&175){let n=t[Bn];return new La(n,t)}return null}var mx=class{constructor(){}supports(t){return SA(t)}create(t){return new yx(t)}},dH=(e,t)=>t,yx=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||dH}forEachItem(t){let i;for(i=this._itHead;i!==null;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,n=this._removalsHead,s=0,r=null;for(;i||n;){let o=!n||i&&i.currentIndex<nT(n,s,r)?i:n,a=nT(o,s,r),l=o.currentIndex;if(o===n)s--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)s++;else{r||(r=[]);let c=a-s,u=l-s;if(c!=u){for(let h=0;h<c;h++){let p=h<r.length?r[h]:r[h]=0,f=p+h;u<=f&&f<c&&(r[h]=p+1)}let d=o.previousIndex;r[d]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)t(i)}diff(t){if(t==null&&(t=[]),!SA(t))throw new J(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._itHead,n=!1,s,r,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,r,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,r,o,a)),Object.is(i.item,r)||this._addIdentityChange(i,r)),i=i._next}else s=0,eG(t,a=>{o=this._trackByFn(s,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,s),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,s)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,s++}),this.length=s;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,n,s){let r;return t===null?r=this._itTail:(r=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,r,s)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,s),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,r,s)):t=this._addAfter(new vx(i,n),r,s)),t}_verifyReinsertion(t,i,n,s){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return r!==null?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;t!==null;){let i=t._next;this._addToRemovals(this._unlink(t)),t=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let s=t._prevRemoved,r=t._nextRemoved;return s===null?this._removalsHead=r:s._nextRemoved=r,r===null?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,i,n),this._addToMoves(t,n),t}_moveAfter(t,i,n){return this._unlink(t),this._insertAfter(t,i,n),this._addToMoves(t,n),t}_addAfter(t,i,n){return this._insertAfter(t,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,i,n){let s=i===null?this._itHead:i._next;return t._next=s,t._prev=i,s===null?this._itTail=t:s._prev=t,i===null?this._itHead=t:i._next=t,this._linkedRecords===null&&(this._linkedRecords=new ag),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let i=t._prev,n=t._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ag),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},vx=class{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xx=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let i=t._prevDup,n=t._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},ag=class{constructor(){this.map=new Map}put(t){let i=t.trackById,n=this.map.get(i);n||(n=new xx,this.map.set(i,n)),n.add(t)}get(t,i){let n=t,s=this.map.get(n);return s?s.get(t,i):null}remove(t){let i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nT(e,t,i){let n=e.previousIndex;if(n===null)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+t+s}var bx=class{constructor(){}supports(t){return t instanceof Map||ab(t)}create(){return new _x}},_x=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let i;for(i=this._mapHead;i!==null;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)t(i)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||ab(t)))throw new J(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,s)=>{if(i&&i.key===s)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let r=this._getOrCreateRecordForKey(s,n);i=this._insertBeforeOrAppend(i,r)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){let n=t._prev;return i._next=t,i._prev=n,t._prev=i,n&&(n._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){let s=this._records.get(t);this._maybeAddToChanges(s,i);let r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}let n=new Cx(t);return this._records.set(t,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(n=>i(t[n],n))}},Cx=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function sT(){return new mb([new mx])}var mb=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,s){if(s!=null){let r=s.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:s=>t.create(n,s||sT()),deps:[[t,new dg,new vd]]}}find(n){let s=this.factories.find(r=>r.supports(n));if(s!=null)return s;throw new J(901,!1)}};t.\u0275prov=q({token:t,providedIn:"root",factory:sT});let e=t;return e})();function rT(){return new yb([new bx])}var yb=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,s){if(s){let r=s.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:s=>t.create(n,s||rT()),deps:[[t,new dg,new vd]]}}find(n){let s=this.factories.find(r=>r.supports(n));if(s)return s;throw new J(901,!1)}};t.\u0275prov=q({token:t,providedIn:"root",factory:rT});let e=t;return e})();var KA=gb(null,"core",[]),JA=(()=>{let t=class t{constructor(n){}};t.\u0275fac=function(s){return new(s||t)(ee(qs))},t.\u0275mod=Ze({type:t}),t.\u0275inj=Ye({});let e=t;return e})();var eE=new te("");function Mo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Tc(e,t){Cc("NgSignals");let i=VS(e);return t?.equal&&(i[br].equal=t.equal),i}function Un(e){let t=$e(null);try{return e()}finally{$e(t)}}function tE(e){let t=go(e);if(!t)return null;let i=new yc(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var oE=null;function Qs(){return oE}function aE(e){oE??=e}var Gg=class{};var bi=new te(""),Mb=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>F(pH),providedIn:"platform"});let e=t;return e})(),lE=new te(""),pH=(()=>{let t=class t extends Mb{constructor(){super(),this._doc=F(bi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qs().getBaseHref(this._doc)}onPopState(n){let s=Qs().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){let s=Qs().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,s,r){this._history.pushState(n,s,r)}replaceState(n,s,r){this._history.replaceState(n,s,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function Tb(e,t){if(e.length==0)return t;if(t.length==0)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,i==2?e+t.substring(1):i==1?e+t:e+"/"+t}function iE(e){let t=e.match(/#|\?|$/),i=t&&t.index||e.length,n=i-(e[i-1]==="/"?1:0);return e.slice(0,n)+e.slice(i)}function Nr(e){return e&&e[0]!=="?"?"?"+e:e}var Or=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>F(Ib),providedIn:"root"});let e=t;return e})(),cE=new te(""),Ib=(()=>{let t=class t extends Or{constructor(n,s){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??F(bi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tb(this._baseHref,n)}path(n=!1){let s=this._platformLocation.pathname+Nr(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${s}${r}`:s}pushState(n,s,r,o){let a=this.prepareExternalUrl(r+Nr(o));this._platformLocation.pushState(n,s,a)}replaceState(n,s,r,o){let a=this.prepareExternalUrl(r+Nr(o));this._platformLocation.replaceState(n,s,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(s){return new(s||t)(ee(Mb),ee(cE,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),uE=(()=>{let t=class t extends Or{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],s!=null&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(n){let s=Tb(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,r,o){let a=this.prepareExternalUrl(r+Nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,s,a)}replaceState(n,s,r,o){let a=this.prepareExternalUrl(r+Nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(s){return new(s||t)(ee(Mb),ee(cE,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),Ac=(()=>{let t=class t{constructor(n){this._subject=new K,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let s=this._locationStrategy.getBaseHref();this._basePath=mH(iE(nE(s))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+Nr(s))}normalize(n){return t.stripTrailingSlash(gH(this._basePath,nE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,s="",r=null){this._locationStrategy.pushState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(s)),r)}replaceState(n,s="",r=null){this._locationStrategy.replaceState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(s)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{let s=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(s,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(r=>r(n,s))}subscribe(n,s,r){return this._subject.subscribe({next:n,error:s,complete:r})}};t.normalizeQueryParams=Nr,t.joinWithSlash=Tb,t.stripTrailingSlash=iE,t.\u0275fac=function(s){return new(s||t)(ee(Or))},t.\u0275prov=q({token:t,factory:()=>fH(),providedIn:"root"});let e=t;return e})();function fH(){return new Ac(ee(Or))}function gH(e,t){if(!e||!t.startsWith(e))return t;let i=t.substring(e.length);return i===""||["/",";","?","#"].includes(i[0])?i:t}function nE(e){return e.replace(/\/index.html$/,"")}function mH(e){if(new RegExp("^(https?:)?//").test(e)){let[,i]=e.split(/\/\/[^\/]+/);return i}return e}function Hg(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let n=i.indexOf("="),[s,r]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}var xb=class{constructor(t,i,n,s){this.$implicit=t,this.ngForOf=i,this.index=n,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ks=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,s,r){this._viewContainer=n,this._template=s,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let s=this._viewContainer;n.forEachOperation((r,o,a)=>{if(r.previousIndex==null)s.createEmbeddedView(this._template,new xb(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)s.remove(o===null?void 0:o);else if(o!==null){let l=s.get(o);s.move(l,a),sE(l,r)}});for(let r=0,o=s.length;r<o;r++){let l=s.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=s.get(r.currentIndex);sE(o,r)})}static ngTemplateContextGuard(n,s){return!0}};t.\u0275fac=function(s){return new(s||t)(W(_s),W(Na),W(mb))},t.\u0275dir=Tt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function sE(e,t){e.context.$implicit=t.item}var Wt=(()=>{let t=class t{constructor(n,s){this._viewContainer=n,this._context=new bb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){rE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){rE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}};t.\u0275fac=function(s){return new(s||t)(W(_s),W(Na))},t.\u0275dir=Tt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),bb=class{constructor(){this.$implicit=null,this.ngIf=null}};function rE(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Vi(t)}'.`)}var dE=(()=>{let t=class t{constructor(n,s,r){this._ngEl=n,this._differs=s,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){let[r,o]=n.split("."),a=r.indexOf("-")===-1?void 0:Ys.DashCase;s!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${s}${o}`:s,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}};t.\u0275fac=function(s){return new(s||t)(W(vt),W(yb),W(zn))},t.\u0275dir=Tt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let e=t;return e})(),hE=(()=>{let t=class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let s=this._viewContainerRef;if(this._viewRef&&s.remove(s.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=s.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,s,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,s,r):!1,get:(n,s,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,s,r)}})}};t.\u0275fac=function(s){return new(s||t)(W(_s))},t.\u0275dir=Tt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[at]});let e=t;return e})();function yH(e,t){return new J(2100,!1)}var _b=class{createSubscription(t,i){return Un(()=>t.subscribe({next:i,error:n=>{throw n}}))}dispose(t){Un(()=>t.unsubscribe())}},Cb=class{createSubscription(t,i){return t.then(i,n=>{throw n})}dispose(t){}},vH=new Cb,xH=new _b,To=(()=>{let t=class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if(So(n))return vH;if(pb(n))return xH;throw yH(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};t.\u0275fac=function(s){return new(s||t)(W(Hn,16))},t.\u0275pipe=Mx({name:"async",type:t,pure:!1,standalone:!0});let e=t;return e})();var pE=(()=>{let t=class t{transform(n){return JSON.stringify(n,null,2)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275pipe=Mx({name:"json",type:t,pure:!1,standalone:!0});let e=t;return e})();var Ha=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=Ze({type:t}),t.\u0275inj=Ye({});let e=t;return e})(),Ab="browser",bH="server";function Io(e){return e===Ab}function Ao(e){return e===bH}var fE=(()=>{let t=class t{};t.\u0275prov=q({token:t,providedIn:"root",factory:()=>Io(F(yi))?new wb(F(bi),window):new Db});let e=t;return e})(),wb=class{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let i=_H(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,s=i.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}};function _H(e,t){let i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),s=n.currentNode;for(;s;){let r=s.shadowRoot;if(r){let o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}s=n.nextNode()}}return null}var Db=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Ic=class{};var Td=class{},$g=class{},Rr=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let s=i.slice(0,n),r=s.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let s=(t.op==="a"?this.headers.get(i):void 0)||[];s.push(...n),this.headers.set(i,s);break;case"d":let r=t.value;if(!r)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>r.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(r=>r.toString()),s=t.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var kb=class{encodeKey(t){return gE(t)}encodeValue(t){return gE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function CH(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{let r=s.indexOf("="),[o,a]=r==-1?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=i.get(o)||[];l.push(a),i.set(o,l)}),i}var wH=/%(\d[a-f0-9])/gi,DH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gE(e){return encodeURIComponent(e).replace(wH,(t,i)=>DH[i]??t)}function Ug(e){return`${e}`}var ko=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new kb,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=CH(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let n=t.fromObject[i],s=Array.isArray(n)?n.map(Ug):[Ug(n)];this.map.set(i,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(n=>{let s=t[n];Array.isArray(s)?s.forEach(r=>{i.push({param:n,value:r,op:"a"})}):i.push({param:n,value:s,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Ug(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],s=n.indexOf(Ug(t.value));s!==-1&&n.splice(s,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Lb=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function SH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function mE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function yE(e){return typeof Blob<"u"&&e instanceof Blob}function vE(e){return typeof FormData<"u"&&e instanceof FormData}function MH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Md=class e{constructor(t,i,n,s){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let r;if(SH(this.method)||s?(this.body=n!==void 0?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Rr,this.context??=new Lb,!this.params)this.params=new ko,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||mE(this.body)||yE(this.body)||vE(this.body)||MH(this.body)?this.body:this.body instanceof ko?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vE(this.body)?null:yE(this.body)?this.body.type||null:mE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ko?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,r=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),u)),new e(i,n,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a,transferCache:r})}},Lo=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Lo||{}),Id=class{constructor(t,i=200,n="OK"){this.headers=t.headers||new Rr,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Wg=class e extends Id{constructor(t={}){super(t),this.type=Lo.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ad=class e extends Id{constructor(t={}){super(t),this.type=Lo.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Eo=class extends Id{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},CE=200,TH=204;function Eb(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Rb=(()=>{let t=class t{constructor(n){this.handler=n}request(n,s,r={}){let o;if(n instanceof Md)o=n;else{let c;r.headers instanceof Rr?c=r.headers:c=new Rr(r.headers);let u;r.params&&(r.params instanceof ko?u=r.params:u=new ko({fromObject:r.params})),o=new Md(n,s,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=he(o).pipe(wr(c=>this.handler.handle(c)));if(n instanceof Md||r.observe==="events")return a;let l=a.pipe(gi(c=>c instanceof Ad));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(me(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(me(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(me(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(me(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:new ko().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,r={}){return this.request("PATCH",n,Eb(r,s))}post(n,s,r={}){return this.request("POST",n,Eb(r,s))}put(n,s,r={}){return this.request("PUT",n,Eb(r,s))}};t.\u0275fac=function(s){return new(s||t)(ee(Td))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),IH=/^\)\]\}',?\n/,AH="X-Request-URL";function xE(e){if(e.url)return e.url;let t=AH.toLocaleLowerCase();return e.headers.get(t)}var EH=(()=>{let t=class t{constructor(){this.fetchImpl=F(Nb,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=F(We)}handle(n){return new ke(s=>{let r=new AbortController;return this.doRequest(n,r.signal,s).then(Ob,o=>s.error(new Eo({error:o}))),()=>r.abort()})}doRequest(n,s,r){return L(this,null,function*(){let o=this.createRequestInit(n),a;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,S({signal:s},o)));kH(f),r.next({type:Lo.Sent}),a=yield f}catch(f){r.error(new Eo({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let l=new Rr(a.headers),c=a.statusText,u=xE(a)??n.urlWithParams,d=a.status,h=null;if(n.reportProgress&&r.next(new Wg({headers:l,status:d,statusText:c,url:u})),a.body){let f=a.headers.get("content-length"),g=[],y=a.body.getReader(),x=0,v,_,C=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>L(this,null,function*(){for(;;){let{done:D,value:M}=yield y.read();if(D)break;if(g.push(M),x+=M.length,n.reportProgress){_=n.responseType==="text"?(_??"")+(v??=new TextDecoder).decode(M,{stream:!0}):void 0;let I=()=>r.next({type:Lo.DownloadProgress,total:f?+f:void 0,loaded:x,partialText:_});C?C.run(I):I()}}}));let w=this.concatChunks(g,x);try{let D=a.headers.get("Content-Type")??"";h=this.parseBody(n,w,D)}catch(D){r.error(new Eo({error:D,headers:new Rr(a.headers),status:a.status,statusText:a.statusText,url:xE(a)??n.urlWithParams}));return}}d===0&&(d=h?CE:0),d>=200&&d<300?(r.next(new Ad({body:h,headers:l,status:d,statusText:c,url:u})),r.complete()):r.error(new Eo({error:h,headers:l,status:d,statusText:c,url:u}))})}parseBody(n,s,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(s).replace(IH,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(s);case"blob":return new Blob([s],{type:r});case"arraybuffer":return s.buffer}}createRequestInit(n){let s={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>s[o]=a.join(",")),n.headers.has("Accept")||(s.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(s["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:s,credentials:r}}concatChunks(n,s){let r=new Uint8Array(s),o=0;for(let a of n)r.set(a,o),o+=a.length;return r}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),Nb=class{};function Ob(){}function kH(e){e.then(Ob,Ob)}function LH(e,t){return t(e)}function NH(e,t,i){return(n,s)=>wn(i,()=>t(n,r=>e(r,s)))}var wE=new te(""),OH=new te(""),RH=new te("",{providedIn:"root",factory:()=>!0});var bE=(()=>{let t=class t extends Td{constructor(n,s){super(),this.backend=n,this.injector=s,this.chain=null,this.pendingTasks=F(_o),this.contributeToStability=F(RH)}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(wE),...this.injector.get(OH,[])]));this.chain=s.reduceRight((r,o)=>NH(r,o,this.injector),LH)}if(this.contributeToStability){let s=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Ca(()=>this.pendingTasks.remove(s)))}else return this.chain(n,s=>this.backend.handle(s))}};t.\u0275fac=function(s){return new(s||t)(ee($g),ee(Bi))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})();var PH=/^\)\]\}',?\n/;function FH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var _E=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new J(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?Qe(s.\u0275loadImpl()):he(null)).pipe(Ki(()=>new ke(o=>{let a=s.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((y,x)=>a.setRequestHeader(y,x.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let y=n.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(n.responseType){let y=n.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let l=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let y=a.statusText||"OK",x=new Rr(a.getAllResponseHeaders()),v=FH(a)||n.url;return c=new Wg({headers:x,status:a.status,statusText:y,url:v}),c},d=()=>{let{headers:y,status:x,statusText:v,url:_}=u(),C=null;x!==TH&&(C=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=C?CE:0);let w=x>=200&&x<300;if(n.responseType==="json"&&typeof C=="string"){let D=C;C=C.replace(PH,"");try{C=C!==""?JSON.parse(C):null}catch(M){C=D,w&&(w=!1,C={error:M,text:C})}}w?(o.next(new Ad({body:C,headers:y,status:x,statusText:v,url:_||void 0})),o.complete()):o.error(new Eo({error:C,headers:y,status:x,statusText:v,url:_||void 0}))},h=y=>{let{url:x}=u(),v=new Eo({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});o.error(v)},p=!1,f=y=>{p||(o.next(u()),p=!0);let x={type:Lo.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(x.total=y.total),n.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),o.next(x)},g=y=>{let x={type:Lo.UploadProgress,loaded:y.loaded};y.lengthComputable&&(x.total=y.total),o.next(x)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",f),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),o.next({type:Lo.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",f),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(s){return new(s||t)(ee(Ic))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),DE=new te(""),VH="XSRF-TOKEN",BH=new te("",{providedIn:"root",factory:()=>VH}),jH="X-XSRF-TOKEN",zH=new te("",{providedIn:"root",factory:()=>jH}),Yg=class{},GH=(()=>{let t=class t{constructor(n,s,r){this.doc=n,this.platform=s,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hg(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(s){return new(s||t)(ee(bi),ee(yi),ee(BH))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})();function HH(e,t){let i=e.url.toLowerCase();if(!F(DE)||e.method==="GET"||e.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(e);let n=F(Yg).getToken(),s=F(zH);return n!=null&&!e.headers.has(s)&&(e=e.clone({headers:e.headers.set(s,n)})),t(e)}function SE(...e){let t=[Rb,_E,bE,{provide:Td,useExisting:bE},{provide:$g,useFactory:()=>F(EH,{optional:!0})??F(_E)},{provide:wE,useValue:HH,multi:!0},{provide:DE,useValue:!0},{provide:Yg,useClass:GH}];for(let i of e)t.push(...i.\u0275providers);return pg(t)}var Vb=class extends Gg{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bb=class e extends Vb{static makeCurrent(){aE(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=$H();return i==null?null:WH(i)}resetBaseElement(){Ed=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Hg(document.cookie,t)}},Ed=null;function $H(){return Ed=Ed||document.querySelector("base"),Ed?Ed.getAttribute("href"):null}function WH(e){return new URL(e,document.baseURI).pathname}var jb=class{addToWindow(t){Cn.getAngularTestability=(n,s=!0)=>{let r=t.findTestabilityInTree(n,s);if(r==null)throw new J(5103,!1);return r},Cn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Cn.getAllAngularRootElements=()=>t.getAllRootElements();let i=n=>{let s=Cn.getAllAngularTestabilities(),r=s.length,o=function(){r--,r==0&&n()};s.forEach(a=>{a.whenStable(o)})};Cn.frameworkStabilizers||(Cn.frameworkStabilizers=[]),Cn.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,n){if(i==null)return null;let s=t.getTestability(i);return s??(n?Qs().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},YH=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),Zg=new te(""),AE=(()=>{let t=class t{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,r){return this._findPluginFor(s).addEventListener(n,s,r)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(o=>o.supports(n)),!s)throw new J(5101,!1);return this._eventNameToPlugin.set(n,s),s}};t.\u0275fac=function(s){return new(s||t)(ee(Zg),ee(We))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),kd=class{constructor(t){this._doc=t}},Pb="ng-app-id",EE=(()=>{let t=class t{constructor(n,s,r,o={}){this.doc=n,this.appId=s,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ao(o),this.resetHostNodes()}addStyles(n){for(let s of n)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(n){for(let s of n)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(s=>s.remove()),n.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let s of this.getAllStyles())this.addStyleToHost(n,s)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let s of this.hostNodes)this.addStyleToHost(s,n)}onStyleRemoved(n){let s=this.styleRef;s.get(n)?.elements?.forEach(r=>r.remove()),s.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Pb}="${this.appId}"]`);if(n?.length){let s=new Map;return n.forEach(r=>{r.textContent!=null&&s.set(r.textContent,r)}),s}return null}changeUsageCount(n,s){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=s,o.usage}return r.set(n,{usage:s,elements:[]}),s}getStyleElement(n,s){let r=this.styleNodesInDOM,o=r?.get(s);if(o?.parentNode===n)return r.delete(s),o.removeAttribute(Pb),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=s,this.platformIsServer&&a.setAttribute(Pb,this.appId),n.appendChild(a),a}}addStyleToHost(n,s){let r=this.getStyleElement(n,s),o=this.styleRef,a=o.get(s)?.elements;a?a.push(r):o.set(s,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(s){return new(s||t)(ee(bi),ee(Sg),ee(zx,8),ee(yi))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),Fb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gb=/%COMP%/g,kE="%COMP%",ZH=`_nghost-${kE}`,XH=`_ngcontent-${kE}`,qH=!0,QH=new te("",{providedIn:"root",factory:()=>qH});function KH(e){return XH.replace(Gb,e)}function JH(e){return ZH.replace(Gb,e)}function LE(e,t){return t.map(i=>i.replace(Gb,e))}var ME=(()=>{let t=class t{constructor(n,s,r,o,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ao(l),this.defaultRenderer=new Ld(n,a,c,this.platformIsServer)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Us.ShadowDom&&(s=k(S({},s),{encapsulation:Us.Emulated}));let r=this.getOrCreateRenderer(n,s);return r instanceof Xg?r.applyToHost(n):r instanceof Nd&&r.applyStyles(),r}getOrCreateRenderer(n,s){let r=this.rendererByCompId,o=r.get(s.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(s.encapsulation){case Us.Emulated:o=new Xg(c,u,s,this.appId,d,a,l,h);break;case Us.ShadowDom:return new zb(c,u,n,s,a,l,this.nonce,h);default:o=new Nd(c,u,s,d,a,l,h);break}r.set(s.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(s){return new(s||t)(ee(AE),ee(EE),ee(Sg),ee(QH),ee(bi),ee(yi),ee(We),ee(zx))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),Ld=class{constructor(t,i,n,s){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Fb[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(TE(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(TE(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){i.remove()}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new J(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,s){if(s){i=s+":"+i;let r=Fb[s];r?t.setAttributeNS(r,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let s=Fb[n];s?t.removeAttributeNS(s,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,s){s&(Ys.DashCase|Ys.Important)?t.style.setProperty(i,n,s&Ys.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&Ys.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=Qs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function TE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var zb=class extends Ld{constructor(t,i,n,s,r,o,a,l){super(t,r,o,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=LE(s.id,s.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nd=class extends Ld{constructor(t,i,n,s,r,o,a,l){super(t,r,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=s,this.styles=l?LE(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xg=class extends Nd{constructor(t,i,n,s,r,o,a,l){let c=s+"-"+n.id;super(t,i,n,r,o,a,l,c),this.contentAttr=KH(c),this.hostAttr=JH(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},eU=(()=>{let t=class t extends kd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,r){return n.addEventListener(s,r,!1),()=>this.removeEventListener(n,s,r)}removeEventListener(n,s,r){return n.removeEventListener(s,r)}};t.\u0275fac=function(s){return new(s||t)(ee(bi))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),tU=(()=>{let t=class t extends kd{constructor(n){super(n),this.delegate=F(eE,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,s,r){return this.delegate.addEventListener(n,s,r)}removeEventListener(n,s,r){return this.delegate.removeEventListener(n,s,r)}};t.\u0275fac=function(s){return new(s||t)(ee(bi))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})(),IE=["alt","control","meta","shift"],iU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},sU=(()=>{let t=class t extends kd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,s,r){let o=t.parseEventName(s),a=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qs().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let s=n.toLowerCase().split("."),r=s.shift();if(s.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(s.pop()),a="",l=s.indexOf("code");if(l>-1&&(s.splice(l,1),a="code."),IE.forEach(u=>{let d=s.indexOf(u);d>-1&&(s.splice(d,1),a+=u+".")}),a+=o,s.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(n,s){let r=iU[n.key]||n.key,o="";return s.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),IE.forEach(a=>{if(a!==r){let l=nU[a];l(n)&&(o+=a+".")}}),o+=r,o===s)}static eventCallback(n,s,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>s(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(s){return new(s||t)(ee(bi))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})();function rU(){Bb.makeCurrent()}function oU(){return new Sr}function aU(){return DI(document),document}var lU=[{provide:yi,useValue:Ab},{provide:jx,useValue:rU,multi:!0},{provide:bi,useFactory:aU,deps:[]}],NE=gb(KA,"browser",lU),cU=new te(""),uU=[{provide:Sd,useClass:jb,deps:[]},{provide:db,useClass:Fg,deps:[We,Vg,Sd]},{provide:Fg,useClass:Fg,deps:[We,Vg,Sd]}],dU=[{provide:fg,useValue:"root"},{provide:Sr,useFactory:oU,deps:[]},{provide:Zg,useClass:eU,multi:!0,deps:[bi,We,yi]},{provide:Zg,useClass:sU,multi:!0,deps:[bi]},{provide:Zg,useClass:tU,multi:!0},ME,EE,AE,{provide:mc,useExisting:ME},{provide:Ic,useClass:YH,deps:[]},[]],OE=(()=>{let t=class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Sg,useValue:n.appId}]}}};t.\u0275fac=function(s){return new(s||t)(ee(cU,12))},t.\u0275mod=Ze({type:t}),t.\u0275inj=Ye({providers:[...dU,...uU],imports:[Ha,JA]});let e=t;return e})();var RE=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(s){return new(s||t)(ee(bi))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ee="primary",Yd=Symbol("RouteTitle"),Yb=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Rc(e){return new Yb(e)}function hU(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let s={};for(let r=0;r<n.length;r++){let o=n[r],a=e[r];if(o[0]===":")s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}function pU(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!er(e[i],t[i]))return!1;return!0}function er(e,t){let i=e?Zb(e):void 0,n=t?Zb(t):void 0;if(!i||!n||i.length!=n.length)return!1;let s;for(let r=0;r<i.length;r++)if(s=i[r],!YE(e[s],t[s]))return!1;return!0}function Zb(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function YE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((s,r)=>n[r]===s)}else return e===t}function ZE(e){return e.length>0?e[e.length-1]:null}function Oo(e){return iv(e)?e:So(e)?Qe(Promise.resolve(e)):he(e)}var fU={exact:qE,subset:QE},XE={exact:gU,subset:mU,ignored:()=>!0};function FE(e,t,i){return fU[i.paths](e.root,t.root,i.matrixParams)&&XE[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function gU(e,t){return er(e,t)}function qE(e,t,i){if(!$a(e.segments,t.segments)||!Kg(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!qE(e.children[n],t.children[n],i))return!1;return!0}function mU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>YE(e[i],t[i]))}function QE(e,t,i){return KE(e,t,t.segments,i)}function KE(e,t,i,n){if(e.segments.length>i.length){let s=e.segments.slice(0,i.length);return!(!$a(s,i)||t.hasChildren()||!Kg(s,i,n))}else if(e.segments.length===i.length){if(!$a(e.segments,i)||!Kg(e.segments,i,n))return!1;for(let s in t.children)if(!e.children[s]||!QE(e.children[s],t.children[s],n))return!1;return!0}else{let s=i.slice(0,e.segments.length),r=i.slice(e.segments.length);return!$a(e.segments,s)||!Kg(e.segments,s,n)||!e.children[Ee]?!1:KE(e.children[Ee],t,r,n)}}function Kg(e,t,i){return t.every((n,s)=>XE[i](e[s].parameters,n.parameters))}var Fr=class{constructor(t=new nt([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Rc(this.queryParams),this._queryParamMap}toString(){return xU.serialize(this)}},nt=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jg(this)}},Ua=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Rc(this.parameters),this._parameterMap}toString(){return e1(this)}};function yU(e,t){return $a(e,t)&&e.every((i,n)=>er(i.parameters,t[n].parameters))}function $a(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function vU(e,t){let i=[];return Object.entries(e.children).forEach(([n,s])=>{n===Ee&&(i=i.concat(t(s,n)))}),Object.entries(e.children).forEach(([n,s])=>{n!==Ee&&(i=i.concat(t(s,n)))}),i}var Zd=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>new Pc,providedIn:"root"});let e=t;return e})(),Pc=class{parse(t){let i=new qb(t);return new Fr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${Od(t.root,!0)}`,n=CU(t.queryParams),s=typeof t.fragment=="string"?`#${bU(t.fragment)}`:"";return`${i}${n}${s}`}},xU=new Pc;function Jg(e){return e.segments.map(t=>e1(t)).join("/")}function Od(e,t){if(!e.hasChildren())return Jg(e);if(t){let i=e.children[Ee]?Od(e.children[Ee],!1):"",n=[];return Object.entries(e.children).forEach(([s,r])=>{s!==Ee&&n.push(`${s}:${Od(r,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=vU(e,(n,s)=>s===Ee?[Od(e.children[Ee],!1)]:[`${s}:${Od(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[Ee]!=null?`${Jg(e)}/${i[0]}`:`${Jg(e)}/(${i.join("//")})`}}function JE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qg(e){return JE(e).replace(/%3B/gi,";")}function bU(e){return encodeURI(e)}function Xb(e){return JE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function em(e){return decodeURIComponent(e)}function VE(e){return em(e.replace(/\+/g,"%20"))}function e1(e){return`${Xb(e.path)}${_U(e.parameters)}`}function _U(e){return Object.entries(e).map(([t,i])=>`;${Xb(t)}=${Xb(i)}`).join("")}function CU(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(s=>`${qg(i)}=${qg(s)}`).join("&"):`${qg(i)}=${qg(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var wU=/^[^\/()?;#]+/;function Hb(e){let t=e.match(wU);return t?t[0]:""}var DU=/^[^\/()?;=#]+/;function SU(e){let t=e.match(DU);return t?t[0]:""}var MU=/^[^=?&#]+/;function TU(e){let t=e.match(MU);return t?t[0]:""}var IU=/^[^&#]+/;function AU(e){let t=e.match(IU);return t?t[0]:""}var qb=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[Ee]=new nt(t,i)),n}parseSegment(){let t=Hb(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(t),new Ua(em(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=SU(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=Hb(this.remaining);s&&(n=s,this.capture(n))}t[em(i)]=em(n)}parseQueryParam(t){let i=TU(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=AU(this.remaining);o&&(n=o,this.capture(n))}let s=VE(i),r=VE(n);if(t.hasOwnProperty(s)){let o=t[s];Array.isArray(o)||(o=[o],t[s]=o),o.push(r)}else t[s]=r}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Hb(this.remaining),s=this.remaining[n.length];if(s!=="/"&&s!==")"&&s!==";")throw new J(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ee);let o=this.parseChildren();i[r]=Object.keys(o).length===1?o[Ee]:new nt([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new J(4011,!1)}};function t1(e){return e.segments.length>0?new nt([],{[Ee]:e}):e}function i1(e){let t={};for(let[n,s]of Object.entries(e.children)){let r=i1(s);if(n===Ee&&r.segments.length===0&&r.hasChildren())for(let[o,a]of Object.entries(r.children))t[o]=a;else(r.segments.length>0||r.hasChildren())&&(t[n]=r)}let i=new nt(e.segments,t);return EU(i)}function EU(e){if(e.numberOfChildren===1&&e.children[Ee]){let t=e.children[Ee];return new nt(e.segments.concat(t.segments),t.children)}return e}function Wa(e){return e instanceof Fr}function kU(e,t,i=null,n=null){let s=n1(e);return s1(s,t,i,n)}function n1(e){let t;function i(r){let o={};for(let l of r.children){let c=i(l);o[l.outlet]=c}let a=new nt(r.url,o);return r===e&&(t=a),a}let n=i(e.root),s=t1(n);return t??s}function s1(e,t,i,n){let s=e;for(;s.parent;)s=s.parent;if(t.length===0)return Ub(s,s,s,i,n);let r=LU(t);if(r.toRoot())return Ub(s,s,new nt([],{}),i,n);let o=NU(r,s,e),a=o.processChildren?Fd(o.segmentGroup,o.index,r.commands):o1(o.segmentGroup,o.index,r.commands);return Ub(s,o.segmentGroup,a,i,n)}function tm(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function jd(e){return typeof e=="object"&&e!=null&&e.outlets}function Ub(e,t,i,n,s){let r={};n&&Object.entries(n).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;e===t?o=i:o=r1(e,t,i);let a=t1(i1(o));return new Fr(a,r,s)}function r1(e,t,i){let n={};return Object.entries(e.children).forEach(([s,r])=>{r===t?n[s]=i:n[s]=r1(r,t,i)}),new nt(e.segments,n)}var im=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&tm(n[0]))throw new J(4003,!1);let s=n.find(jd);if(s&&s!==ZE(n))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LU(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new im(!0,0,e);let t=0,i=!1,n=e.reduce((s,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return typeof r!="string"?[...s,r]:o===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&s.push(a))}),s):[...s,r]},[]);return new im(i,t,n)}var Lc=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function NU(e,t,i){if(e.isAbsolute)return new Lc(t,!0,0);if(!i)return new Lc(t,!1,NaN);if(i.parent===null)return new Lc(i,!0,0);let n=tm(e.commands[0])?0:1,s=i.segments.length-1+n;return OU(i,s,e.numberOfDoubleDots)}function OU(e,t,i){let n=e,s=t,r=i;for(;r>s;){if(r-=s,n=n.parent,!n)throw new J(4005,!1);s=n.segments.length}return new Lc(n,!1,s-r)}function RU(e){return jd(e[0])?e[0].outlets:{[Ee]:e}}function o1(e,t,i){if(e??=new nt([],{}),e.segments.length===0&&e.hasChildren())return Fd(e,t,i);let n=PU(e,t,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let r=new nt(e.segments.slice(0,n.pathIndex),{});return r.children[Ee]=new nt(e.segments.slice(n.pathIndex),e.children),Fd(r,0,s)}else return n.match&&s.length===0?new nt(e.segments,{}):n.match&&!e.hasChildren()?Qb(e,t,i):n.match?Fd(e,0,s):Qb(e,t,i)}function Fd(e,t,i){if(i.length===0)return new nt(e.segments,{});{let n=RU(i),s={};if(Object.keys(n).some(r=>r!==Ee)&&e.children[Ee]&&e.numberOfChildren===1&&e.children[Ee].segments.length===0){let r=Fd(e.children[Ee],t,i);return new nt(e.segments,r.children)}return Object.entries(n).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(s[r]=o1(e.children[r],t,o))}),Object.entries(e.children).forEach(([r,o])=>{n[r]===void 0&&(s[r]=o)}),new nt(e.segments,s)}}function PU(e,t,i){let n=0,s=t,r={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=i.length)return r;let o=e.segments[s],a=i[n];if(jd(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(s>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!jE(l,c,o))return r;n+=2}else{if(!jE(l,{},o))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}function Qb(e,t,i){let n=e.segments.slice(0,t),s=0;for(;s<i.length;){let r=i[s];if(jd(r)){let l=FU(r.outlets);return new nt(n,l)}if(s===0&&tm(i[0])){let l=e.segments[t];n.push(new Ua(l.path,BE(i[0]))),s++;continue}let o=jd(r)?r.outlets[Ee]:`${r}`,a=s<i.length-1?i[s+1]:null;o&&a&&tm(a)?(n.push(new Ua(o,BE(a))),s+=2):(n.push(new Ua(o,{})),s++)}return new nt(n,{})}function FU(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=Qb(new nt([],{}),0,n))}),t}function BE(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function jE(e,t,i){return e==i.path&&er(t,i.parameters)}var Vd="imperative",si=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(si||{}),$n=class{constructor(t,i){this.id=t,this.url=i}},Fc=class extends $n{constructor(t,i,n="imperative",s=null){super(t,i),this.type=si.NavigationStart,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ds=class extends $n{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=si.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Sn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Sn||{}),nm=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(nm||{}),Pr=class extends $n{constructor(t,i,n,s){super(t,i),this.reason=n,this.code=s,this.type=si.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},No=class extends $n{constructor(t,i,n,s){super(t,i),this.reason=n,this.code=s,this.type=si.NavigationSkipped}},zd=class extends $n{constructor(t,i,n,s){super(t,i),this.error=n,this.target=s,this.type=si.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sm=class extends $n{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=si.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kb=class extends $n{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=si.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jb=class extends $n{constructor(t,i,n,s,r){super(t,i),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r,this.type=si.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},e_=class extends $n{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=si.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},t_=class extends $n{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=si.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i_=class{constructor(t){this.route=t,this.type=si.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},n_=class{constructor(t){this.route=t,this.type=si.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},s_=class{constructor(t){this.snapshot=t,this.type=si.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r_=class{constructor(t){this.snapshot=t,this.type=si.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},o_=class{constructor(t){this.snapshot=t,this.type=si.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},a_=class{constructor(t){this.snapshot=t,this.type=si.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rm=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=si.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Gd=class{},Vc=class{constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};function VU(e,t){return e.providers&&!e._injector&&(e._injector=Ng(e.providers,t,`Route: ${e.path}`)),e._injector??t}function ws(e){return e.outlet||Ee}function BU(e,t){let i=e.filter(n=>ws(n)===t);return i.push(...e.filter(n=>ws(n)!==t)),i}function Xd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var l_=class{get injector(){return Xd(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new qd(this.rootInjector),this.attachRef=null}},qd=(()=>{let t=class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,s){let r=this.getOrCreateContext(n);r.outlet=s,this.contexts.set(n,r)}onChildOutletDestroyed(n){let s=this.getContext(n);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let s=this.getContext(n);return s||(s=new l_(this.rootInjector),this.contexts.set(n,s)),s}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(s){return new(s||t)(ee(Bi))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),om=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=c_(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=c_(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=u_(t,this._root);return i.length<2?[]:i[i.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return u_(t,this._root).map(i=>i.value)}};function c_(e,t){if(e===t.value)return t;for(let i of t.children){let n=c_(e,i);if(n)return n}return null}function u_(e,t){if(e===t.value)return[t];for(let i of t.children){let n=u_(e,i);if(n.length)return n.unshift(t),n}return[]}var Dn=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function kc(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var am=class extends om{constructor(t,i){super(t),this.snapshot=i,x_(this,t)}toString(){return this.snapshot.toString()}};function a1(e){let t=jU(e),i=new kt([new Ua("",{})]),n=new kt({}),s=new kt({}),r=new kt({}),o=new kt(""),a=new Ss(i,n,r,o,s,Ee,e,t.root);return a.snapshot=t.root,new am(new Dn(a,[]),t)}function jU(e){let t={},i={},n={},s="",r=new Nc([],t,n,s,i,Ee,e,null,{});return new cm("",new Dn(r,[]))}var Ss=class{constructor(t,i,n,s,r,o,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(me(c=>c[Yd]))??he(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(t=>Rc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(t=>Rc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lm(e,t,i="emptyOnly"){let n,{routeConfig:s}=e;return t!==null&&(i==="always"||s?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:S(S({},t.params),e.params),data:S(S({},t.data),e.data),resolve:S(S(S(S({},e.data),t.data),s?.data),e._resolvedData)}:n={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},s&&c1(s)&&(n.resolve[Yd]=s.title),n}var Nc=class{get title(){return this.data?.[Yd]}constructor(t,i,n,s,r,o,a,l,c){this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rc(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},cm=class extends om{constructor(t,i){super(i),this.url=t,x_(this,i)}toString(){return l1(this._root)}};function x_(e,t){t.value._routerState=e,t.children.forEach(i=>x_(e,i))}function l1(e){let t=e.children.length>0?` { ${e.children.map(l1).join(", ")} } `:"";return`${e.value}${t}`}function $b(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,er(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),er(t.params,i.params)||e.paramsSubject.next(i.params),pU(t.url,i.url)||e.urlSubject.next(i.url),er(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function d_(e,t){let i=er(e.params,t.params)&&yU(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||d_(e.parent,t.parent))}function c1(e){return typeof e.title=="string"||e.title===null}var b_=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new K,this.deactivateEvents=new K,this.attachEvents=new K,this.detachEvents=new K,this.parentContexts=F(qd),this.location=F(_s),this.changeDetector=F(Hn),this.inputBinder=F(fm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:s,previousValue:r}=n.name;if(s)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=n;let r=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new h_(n,l,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=Tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[at]});let e=t;return e})(),h_=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===Ss?this.route:t===qd?this.childContexts:this.parent.get(t,i)}},fm=new te(""),zE=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:s}=n,r=id([s.queryParams,s.params,s.data]).pipe(Ki(([o,a,l],c)=>(l=S(S(S({},o),a),l),c===0?he(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==s||s.component===null){this.unsubscribeFromRouteData(n);return}let a=tE(s.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,r)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})();function zU(e,t,i){let n=Hd(e,t._root,i?i._root:void 0);return new am(n,t)}function Hd(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let s=GU(e,t,i);return new Dn(n,s)}else{if(e.shouldAttach(t.value)){let r=e.retrieve(t.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Hd(e,a)),o}}let n=HU(t.value),s=t.children.map(r=>Hd(e,r));return new Dn(n,s)}}function GU(e,t,i){return t.children.map(n=>{for(let s of i.children)if(e.shouldReuseRoute(n.value,s.value.snapshot))return Hd(e,n,s);return Hd(e,n)})}function HU(e){return new Ss(new kt(e.url),new kt(e.params),new kt(e.queryParams),new kt(e.fragment),new kt(e.data),e.outlet,e.component,e)}var Ud=class{constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},u1="ngNavigationCancelingError";function um(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=Wa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=d1(!1,Sn.Redirect);return s.url=i,s.navigationBehaviorOptions=n,s}function d1(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[u1]=!0,i.cancellationCode=t,i}function UU(e){return h1(e)&&Wa(e.url)}function h1(e){return!!e&&e[u1]}var $U=(e,t,i,n)=>me(s=>(new p_(t,s.targetRouterState,s.currentRouterState,i,n).activate(e),s)),p_=class{constructor(t,i,n,s,r){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=r}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),$b(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let s=kc(i);t.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,s[o],n),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(t,i,n){let s=t.value,r=i?i.value:null;if(s===r)if(s.component){let o=n.getContext(s.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,n);else r&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,r=kc(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,r=kc(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let s=kc(i);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],n),this.forwardEvent(new a_(r.value.snapshot))}),t.children.length&&this.forwardEvent(new r_(t.value.snapshot))}activateRoutes(t,i,n){let s=t.value,r=i?i.value:null;if($b(s),s===r)if(s.component){let o=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,n);else if(s.component){let o=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),$b(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=s,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},dm=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Oc=class{constructor(t,i){this.component=t,this.route=i}};function WU(e,t,i){let n=e._root,s=t?t._root:null;return Rd(n,s,i,[n.value])}function YU(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function jc(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!cT(e)?e:t.get(e):n}function Rd(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=kc(t);return e.children.forEach(o=>{ZU(o,r[o.value.outlet],i,n.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>Bd(a,i.getContext(o),s)),s}function ZU(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=e.value,o=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let l=XU(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new dm(n)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?Rd(e,t,a?a.children:null,n,s):Rd(e,t,i,n,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Oc(a.outlet.component,o))}else o&&Bd(t,a,s),s.canActivateChecks.push(new dm(n)),r.component?Rd(e,null,a?a.children:null,n,s):Rd(e,null,i,n,s);return s}function XU(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!$a(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$a(e.url,t.url)||!er(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!d_(e,t)||!er(e.queryParams,t.queryParams);case"paramsChange":default:return!d_(e,t)}}function Bd(e,t,i){let n=kc(e),s=e.value;Object.entries(n).forEach(([r,o])=>{s.component?t?Bd(o,t.children.getContext(r),i):Bd(o,null,i):Bd(o,t,i)}),s.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Oc(t.outlet.component,s)):i.canDeactivateChecks.push(new Oc(null,s)):i.canDeactivateChecks.push(new Oc(null,s))}function Qd(e){return typeof e=="function"}function qU(e){return typeof e=="boolean"}function QU(e){return e&&Qd(e.canLoad)}function KU(e){return e&&Qd(e.canActivate)}function JU(e){return e&&Qd(e.canActivateChild)}function e5(e){return e&&Qd(e.canDeactivate)}function t5(e){return e&&Qd(e.canMatch)}function p1(e){return e instanceof Cr||e?.name==="EmptyError"}var Qg=Symbol("INITIAL_VALUE");function Bc(){return Ki(e=>id(e.map(t=>t.pipe(ii(1),lv(Qg)))).pipe(me(t=>{for(let i of t)if(i!==!0){if(i===Qg)return Qg;if(i===!1||i5(i))return i}return!0}),gi(t=>t!==Qg),ii(1)))}function i5(e){return Wa(e)||e instanceof Ud}function n5(e,t){return Lt(i=>{let{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=i;return o.length===0&&r.length===0?he(k(S({},i),{guardsResult:!0})):s5(o,n,s,e).pipe(Lt(a=>a&&qU(a)?r5(n,r,e,t):he(a)),me(a=>k(S({},i),{guardsResult:a})))})}function s5(e,t,i,n){return Qe(e).pipe(Lt(s=>u5(s.component,s.route,i,t,n)),zs(s=>s!==!0,!0))}function r5(e,t,i,n){return Qe(t).pipe(wr(s=>ec(a5(s.route.parent,n),o5(s.route,n),c5(e,s.path,i),l5(e,s.route,i))),zs(s=>s!==!0,!0))}function o5(e,t){return e!==null&&t&&t(new o_(e)),he(!0)}function a5(e,t){return e!==null&&t&&t(new s_(e)),he(!0)}function l5(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return he(!0);let s=n.map(r=>Cf(()=>{let o=Xd(t)??i,a=jc(r,o),l=KU(a)?a.canActivate(t,e):wn(o,()=>a(t,e));return Oo(l).pipe(zs())}));return he(s).pipe(Bc())}function c5(e,t,i){let n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>YU(o)).filter(o=>o!==null).map(o=>Cf(()=>{let a=o.guards.map(l=>{let c=Xd(o.node)??i,u=jc(l,c),d=JU(u)?u.canActivateChild(n,e):wn(c,()=>u(n,e));return Oo(d).pipe(zs())});return he(a).pipe(Bc())}));return he(r).pipe(Bc())}function u5(e,t,i,n,s){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return he(!0);let o=r.map(a=>{let l=Xd(t)??s,c=jc(a,l),u=e5(c)?c.canDeactivate(e,t,i,n):wn(l,()=>c(e,t,i,n));return Oo(u).pipe(zs())});return he(o).pipe(Bc())}function d5(e,t,i,n){let s=t.canLoad;if(s===void 0||s.length===0)return he(!0);let r=s.map(o=>{let a=jc(o,e),l=QU(a)?a.canLoad(t,i):wn(e,()=>a(t,i));return Oo(l)});return he(r).pipe(Bc(),f1(n))}function f1(e){return q0(Dt(t=>{if(typeof t!="boolean")throw um(e,t)}),me(t=>t===!0))}function h5(e,t,i,n){let s=t.canMatch;if(!s||s.length===0)return he(!0);let r=s.map(o=>{let a=jc(o,e),l=t5(a)?a.canMatch(t,i):wn(e,()=>a(t,i));return Oo(l)});return he(r).pipe(Bc(),f1(n))}var $d=class{constructor(t){this.segmentGroup=t||null}},Wd=class extends Error{constructor(t){super(),this.urlTree=t}};function Ec(e){return _r(new $d(e))}function p5(e){return _r(new J(4e3,!1))}function f5(e){return _r(d1(!1,Sn.GuardRejected))}var f_=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],s=i.root;for(;;){if(n=n.concat(s.segments),s.numberOfChildren===0)return he(n);if(s.numberOfChildren>1||!s.children[Ee])return p5(`${t.redirectTo}`);s=s.children[Ee]}}applyRedirectCommands(t,i,n,s,r){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:p,data:f,title:g}=s,y=wn(r,()=>a({params:p,data:f,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:g}));if(y instanceof Fr)throw new Wd(y);i=y}let o=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i[0]==="/")throw new Wd(o);return o}applyRedirectCreateUrlTree(t,i,n,s){let r=this.createSegmentGroup(t,i.root,n,s);return new Fr(r,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([s,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);n[s]=i[a]}else n[s]=r}),n}createSegmentGroup(t,i,n,s){let r=this.createSegments(t,i.segments,n,s),o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,n,s)}),new nt(r,o)}createSegments(t,i,n,s){return i.map(r=>r.path[0]===":"?this.findPosParam(t,r,s):this.findOrReturn(r,n))}findPosParam(t,i,n){let s=n[i.path.substring(1)];if(!s)throw new J(4001,!1);return s}findOrReturn(t,i){let n=0;for(let s of i){if(s.path===t.path)return i.splice(n),s;n++}return t}},g_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g5(e,t,i,n,s){let r=__(e,t,i);return r.matched?(n=VU(t,n),h5(n,t,i,s).pipe(me(o=>o===!0?r:S({},g_)))):he(r)}function __(e,t,i){if(t.path==="**")return m5(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?S({},g_):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let s=(t.matcher||hU)(i,e,t);if(!s)return S({},g_);let r={};Object.entries(s.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let o=s.consumed.length>0?S(S({},r),s.consumed[s.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:i.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function m5(e){return{matched:!0,parameters:e.length>0?ZE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function GE(e,t,i,n){return i.length>0&&x5(e,i,n)?{segmentGroup:new nt(t,v5(n,new nt(i,e.children))),slicedSegments:[]}:i.length===0&&b5(e,i,n)?{segmentGroup:new nt(e.segments,y5(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new nt(e.segments,e.children),slicedSegments:i}}function y5(e,t,i,n){let s={};for(let r of i)if(gm(e,t,r)&&!n[ws(r)]){let o=new nt([],{});s[ws(r)]=o}return S(S({},n),s)}function v5(e,t){let i={};i[Ee]=t;for(let n of e)if(n.path===""&&ws(n)!==Ee){let s=new nt([],{});i[ws(n)]=s}return i}function x5(e,t,i){return i.some(n=>gm(e,t,n)&&ws(n)!==Ee)}function b5(e,t,i){return i.some(n=>gm(e,t,n))}function gm(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function _5(e,t,i,n){return ws(e)!==n&&(n===Ee||!gm(t,i,e))?!1:__(t,e,i).matched}function C5(e,t,i){return t.length===0&&!e.children[i]}var m_=class{};function w5(e,t,i,n,s,r,o="emptyOnly"){return new y_(e,t,i,n,s,o,r).recognize()}var D5=31,y_=class{constructor(t,i,n,s,r,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new f_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new J(4002,`'${t.segmentGroup}'`)}recognize(){let t=GE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(me(({children:i,rootSnapshot:n})=>{let s=new Dn(n,i),r=new cm("",s),o=kU(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}))}match(t){let i=new Nc([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ee,i).pipe(me(n=>({children:n,rootSnapshot:i})),Pi(n=>{if(n instanceof Wd)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof $d?this.noMatchError(n):n}))}processSegmentGroup(t,i,n,s,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n,r):this.processSegment(t,i,n,n.segments,s,!0,r).pipe(me(o=>o instanceof Dn?[o]:[]))}processChildren(t,i,n,s){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return Qe(r).pipe(wr(o=>{let a=n.children[o],l=BU(i,o);return this.processSegmentGroup(t,l,a,o,s)}),av((o,a)=>(o.push(...a),o)),co(null),ov(),Lt(o=>{if(o===null)return Ec(n);let a=g1(o);return S5(a),he(a)}))}processSegment(t,i,n,s,r,o,a){return Qe(i).pipe(wr(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,n,s,r,o,a).pipe(Pi(c=>{if(c instanceof $d)return he(null);throw c}))),zs(l=>!!l),Pi(l=>{if(p1(l))return C5(n,s,r)?he(new m_):Ec(n);throw l}))}processSegmentAgainstRoute(t,i,n,s,r,o,a,l){return _5(n,s,r,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,s,n,r,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,s,i,n,r,o,l):Ec(s):Ec(s)}expandSegmentAgainstRouteUsingRedirect(t,i,n,s,r,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=__(i,s,r);if(!l)return Ec(i);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>D5&&(this.allowRedirects=!1));let p=new Nc(r,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,HE(s),ws(s),s.component??s._loadedComponent??null,s,UE(s)),f=lm(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(f.params),p.data=Object.freeze(f.data);let g=this.applyRedirects.applyRedirectCommands(u,s.redirectTo,d,p,t);return this.applyRedirects.lineralizeSegments(s,g).pipe(Lt(y=>this.processSegment(t,n,i,y.concat(h),o,!1,a)))}matchSegmentAgainstRoute(t,i,n,s,r,o){let a=g5(i,n,s,t,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(Ki(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,s).pipe(Ki(({routes:c})=>{let u=n._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:p}=l,f=new Nc(h,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,HE(n),ws(n),n.component??n._loadedComponent??null,n,UE(n)),g=lm(f,o,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:x}=GE(i,h,p,c);if(x.length===0&&y.hasChildren())return this.processChildren(u,c,y,f).pipe(me(_=>new Dn(f,_)));if(c.length===0&&x.length===0)return he(new Dn(f,[]));let v=ws(n)===r;return this.processSegment(u,c,y,x,v?Ee:r,!0,f).pipe(me(_=>new Dn(f,_ instanceof Dn?[_]:[])))}))):Ec(i)))}getChildConfig(t,i,n){return i.children?he({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?he({routes:i._loadedRoutes,injector:i._loadedInjector}):d5(t,i,n,this.urlSerializer).pipe(Lt(s=>s?this.configLoader.loadChildren(t,i).pipe(Dt(r=>{i._loadedRoutes=r.routes,i._loadedInjector=r.injector})):f5(i))):he({routes:[],injector:t})}};function S5(e){e.sort((t,i)=>t.value.outlet===Ee?-1:i.value.outlet===Ee?1:t.value.outlet.localeCompare(i.value.outlet))}function M5(e){let t=e.value.routeConfig;return t&&t.path===""}function g1(e){let t=[],i=new Set;for(let n of e){if(!M5(n)){t.push(n);continue}let s=t.find(r=>n.value.routeConfig===r.value.routeConfig);s!==void 0?(s.children.push(...n.children),i.add(s)):t.push(n)}for(let n of i){let s=g1(n.children);t.push(new Dn(n.value,s))}return t.filter(n=>!i.has(n))}function HE(e){return e.data||{}}function UE(e){return e.resolve||{}}function T5(e,t,i,n,s,r){return Lt(o=>w5(e,t,i,n,o.extractedUrl,s,r).pipe(me(({state:a,tree:l})=>k(S({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function I5(e,t){return Lt(i=>{let{targetSnapshot:n,guards:{canActivateChecks:s}}=i;if(!s.length)return he(i);let r=new Set(s.map(l=>l.route)),o=new Set;for(let l of r)if(!o.has(l))for(let c of m1(l))o.add(c);let a=0;return Qe(o).pipe(wr(l=>r.has(l)?A5(l,n,e,t):(l.data=lm(l,l.parent,e).resolve,he(void 0))),Dt(()=>a++),ic(1),Lt(l=>a===o.size?he(i):bn))})}function m1(e){let t=e.children.map(i=>m1(i)).flat();return[e,...t]}function A5(e,t,i,n){let s=e.routeConfig,r=e._resolve;return s?.title!==void 0&&!c1(s)&&(r[Yd]=s.title),E5(r,e,t,n).pipe(me(o=>(e._resolvedData=o,e.data=lm(e,e.parent,i).resolve,null)))}function E5(e,t,i,n){let s=Zb(e);if(s.length===0)return he({});let r={};return Qe(s).pipe(Lt(o=>k5(e[o],t,i,n).pipe(zs(),Dt(a=>{if(a instanceof Ud)throw um(new Pc,a);r[o]=a}))),ic(1),sv(r),Pi(o=>p1(o)?bn:_r(o)))}function k5(e,t,i,n){let s=Xd(t)??n,r=jc(e,s),o=r.resolve?r.resolve(t,i):wn(s,()=>r(t,i));return Oo(o)}function Wb(e){return Ki(t=>{let i=e(t);return i?Qe(i).pipe(me(()=>t)):he(t)})}var y1=(()=>{let t=class t{buildTitle(n){let s,r=n.root;for(;r!==void 0;)s=this.getResolvedTitleForRoute(r)??s,r=r.children.find(o=>o.outlet===Ee);return s}getResolvedTitleForRoute(n){return n.data[Yd]}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>F(L5),providedIn:"root"});let e=t;return e})(),L5=(()=>{let t=class t extends y1{constructor(n){super(),this.title=n}updateTitle(n){let s=this.buildTitle(n);s!==void 0&&this.title.setTitle(s)}};t.\u0275fac=function(s){return new(s||t)(ee(RE))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Kd=new te("",{providedIn:"root",factory:()=>({})}),N5=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ve({type:t,selectors:[["ng-component"]],standalone:!0,features:[Rg],decls:1,vars:0,template:function(s,r){s&1&&Ae(0,"router-outlet")},dependencies:[b_],encapsulation:2});let e=t;return e})();function C_(e){let t=e.children&&e.children.map(C_),i=t?k(S({},e),{children:t}):S({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==Ee&&(i.component=N5),i}var hm=new te(""),w_=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(zg)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return he(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let s=Oo(n.loadComponent()).pipe(me(v1),Dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ca(()=>{this.componentLoaders.delete(n)})),r=new ql(s,()=>new zt).pipe(Xl());return this.componentLoaders.set(n,r),r}loadChildren(n,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return he({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let o=O5(s,this.compiler,n,this.onLoadEndListener).pipe(Ca(()=>{this.childrenLoaders.delete(s)})),a=new ql(o,()=>new zt).pipe(Xl());return this.childrenLoaders.set(s,a),a}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function O5(e,t,i,n){return Oo(e.loadChildren()).pipe(me(v1),Lt(s=>s instanceof fd||Array.isArray(s)?he(s):Qe(t.compileModuleAsync(s))),me(s=>{n&&n(e);let r,o,a=!1;return Array.isArray(s)?(o=s,a=!0):(r=s.create(i).injector,o=r.get(hm,[],{optional:!0,self:!0}).flat()),{routes:o.map(C_),injector:r}}))}function R5(e){return e&&typeof e=="object"&&"default"in e}function v1(e){return R5(e)?e.default:e}var D_=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>F(P5),providedIn:"root"});let e=t;return e})(),P5=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,s){return n}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),x1=new te(""),b1=new te("");function F5(e,t,i){let n=e.get(b1),s=e.get(bi);return e.get(We).runOutsideAngular(()=>{if(!s.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,o=new Promise(c=>{r=c}),a=s.startViewTransition(()=>(r(),V5(e))),{onViewTransitionCreated:l}=n;return l&&wn(e,()=>l({transition:a,from:t,to:i})),o})}function V5(e){return new Promise(t=>{nb({read:()=>setTimeout(t)},{injector:e})})}var B5=new te(""),S_=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zt,this.transitionAbortSubject=new zt,this.configLoader=F(w_),this.environmentInjector=F(Bi),this.urlSerializer=F(Zd),this.rootContexts=F(qd),this.location=F(Ac),this.inputBindingEnabled=F(fm,{optional:!0})!==null,this.titleStrategy=F(y1),this.options=F(Kd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(D_),this.createViewTransition=F(x1,{optional:!0}),this.navigationErrorHandler=F(B5,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null;let n=r=>this.events.next(new i_(r)),s=r=>this.events.next(new n_(r));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let s=++this.navigationId;this.transitions?.next(k(S(S({},this.transitions.value),n),{id:s}))}setupNavigations(n,s,r){return this.transitions=new kt({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vd,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gi(o=>o.id!==0),me(o=>k(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ki(o=>{let a=!1,l=!1;return he(o).pipe(Ki(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Sn.SupersededByNewNavigation),bn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?k(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new No(c.id,this.urlSerializer.serialize(c.rawUrl),h,nm.IgnoredSameUrlNavigation)),c.resolve(!1),bn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return he(c).pipe(Ki(h=>{let p=this.transitions?.getValue();return this.events.next(new Fc(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?bn:Promise.resolve(h)}),T5(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Dt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=k(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new sm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:p,source:f,restoredState:g,extras:y}=c,x=new Fc(h,this.urlSerializer.serialize(p),f,g);this.events.next(x);let v=a1(this.rootComponentType).snapshot;return this.currentTransition=o=k(S({},c),{targetSnapshot:v,urlAfterRedirects:p,extras:k(S({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,he(o)}else{let h="";return this.events.next(new No(c.id,this.urlSerializer.serialize(c.extractedUrl),h,nm.IgnoredByUrlHandlingStrategy)),c.resolve(!1),bn}}),Dt(c=>{let u=new Kb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),me(c=>(this.currentTransition=o=k(S({},c),{guards:WU(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),n5(this.environmentInjector,c=>this.events.next(c)),Dt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw um(this.urlSerializer,c.guardsResult);let u=new Jb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),gi(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Sn.GuardRejected),!1)),Wb(c=>{if(c.guards.canActivateChecks.length)return he(c).pipe(Dt(u=>{let d=new e_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ki(u=>{let d=!1;return he(u).pipe(I5(this.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Sn.NoDataFromResolver)}}))}),Dt(u=>{let d=new t_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Wb(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Dt(p=>{d.component=p}),me(()=>{})));for(let p of d.children)h.push(...u(p));return h};return id(u(c.targetSnapshot.root)).pipe(co(null),ii(1))}),Wb(()=>this.afterPreactivation()),Ki(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Qe(d).pipe(me(()=>o)):he(o)}),me(c=>{let u=zU(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=k(S({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Dt(()=>{this.events.next(new Gd)}),$U(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ii(1),Dt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ds(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),sd(this.transitionAbortSubject.pipe(Dt(c=>{throw c}))),Ca(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Sn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pi(c=>{if(l=!0,h1(c))this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),UU(c)?this.events.next(new Vc(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new zd(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Ud){let{message:h,cancellationCode:p}=um(this.urlSerializer,d);this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),h,p)),this.events.next(new Vc(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=n.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return bn}))}))}cancelNavigationTransition(n,s,r){let o=new Pr(n.id,this.urlSerializer.serialize(n.extractedUrl),s,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function j5(e){return e!==Vd}var z5=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>F(G5),providedIn:"root"});let e=t;return e})(),v_=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},G5=(()=>{let t=class t extends v_{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Ar(t)))(r||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_1=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:()=>F(H5),providedIn:"root"});let e=t;return e})(),H5=(()=>{let t=class t extends _1{constructor(){super(...arguments),this.location=F(Ac),this.urlSerializer=F(Zd),this.options=F(Kd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(D_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=a1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(s=>{s.type==="popstate"&&n(s.url,s.state)})}handleRouterEvent(n,s){if(n instanceof Fc)this.stateMemento=this.createStateMemento();else if(n instanceof No)this.rawUrlTree=s.initialUrl;else if(n instanceof sm){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??r,s)}}else n instanceof Gd?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):n instanceof Pr&&(n.code===Sn.GuardRejected||n.code===Sn.NoDataFromResolver)?this.restoreHistory(s):n instanceof zd?this.restoreHistory(s,!0):n instanceof Ds&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,s){let r=n instanceof Fr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||s.extras.replaceUrl){let o=this.browserPageId,a=S(S({},s.extras.state),this.generateNgRouterState(s.id,o));this.location.replaceState(r,"",a)}else{let o=S(S({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,s=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,s){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Ar(t)))(r||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Pd=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Pd||{});function C1(e,t){e.events.pipe(gi(i=>i instanceof Ds||i instanceof Pr||i instanceof zd||i instanceof No),me(i=>i instanceof Ds||i instanceof No?Pd.COMPLETE:(i instanceof Pr?i.code===Sn.Redirect||i.code===Sn.SupersededByNewNavigation:!1)?Pd.REDIRECTING:Pd.FAILED),gi(i=>i!==Pd.REDIRECTING),ii(1)).subscribe(()=>{t()})}function U5(e){throw e}var $5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ms=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Pg),this.stateManager=F(_1),this.options=F(Kd,{optional:!0})||{},this.pendingTasks=F(_o),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(S_),this.urlSerializer=F(Zd),this.location=F(Ac),this.urlHandlingStrategy=F(D_),this._events=new zt,this.errorHandler=this.options.errorHandler||U5,this.navigated=!1,this.routeReuseStrategy=F(z5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(hm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(fm,{optional:!0}),this.eventsSubscription=new Et,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(s=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(s,o),s instanceof Pr&&s.code!==Sn.Redirect&&s.code!==Sn.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Ds)this.navigated=!0;else if(s instanceof Vc){let a=s.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(s.url,r.currentRawUrl),c=S({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||j5(r.source)},a);this.scheduleNavigation(l,Vd,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Z5(s)&&this._events.next(s)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",s)},0)})}navigateToSyncWithBrowser(n,s,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let c=S({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,s,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(C_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,s={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=s,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=r?r.snapshot:this.routerState.snapshot.root;h=n1(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return s1(h,n,d,u??null)}navigateByUrl(n,s={skipLocationChange:!1}){let r=Wa(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Vd,null,s)}navigate(n,s={skipLocationChange:!1}){return Y5(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,s){let r;if(s===!0?r=S({},$5):s===!1?r=S({},W5):r=s,Wa(n))return FE(this.currentUrlTree,n,r);let o=this.parseUrl(n);return FE(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((s,[r,o])=>(o!=null&&(s[r]=o),s),{})}scheduleNavigation(n,s,r,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,p)=>{l=h,c=p});let d=this.pendingTasks.add();return C1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Y5(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new J(4008,!1)}function Z5(e){return!(e instanceof Gd)&&!(e instanceof Vc)}var an=(()=>{let t=class t{constructor(n,s,r,o,a,l){this.router=n,this.route=s,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new zt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Ds&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wa(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,s,r,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||s||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let s=this.href===null?null:RI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(n,s){let r=this.renderer,o=this.el.nativeElement;s!==null?r.setAttribute(o,n,s):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Wa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(s){return new(s||t)(W(Ms),W(Ss),Vx("tabindex"),W(zn),W(vt),W(Or))},t.\u0275dir=Tt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,r){s&1&&Be("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),s&2&&Fe("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Mo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Mo],replaceUrl:[2,"replaceUrl","replaceUrl",Mo],routerLink:"routerLink"},standalone:!0,features:[ob,at]});let e=t;return e})(),w1=(()=>{let t=class t{get isActive(){return this._isActive}constructor(n,s,r,o,a){this.router=n,this.element=s,this.renderer=r,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new K,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof Ds&&this.update()})}ngAfterContentInit(){he(this.links.changes,he(null)).pipe(lo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=Qe(n).pipe(lo()).subscribe(s=>{this._isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(n){let s=Array.isArray(n)?n:n.split(" ");this.classes=s.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(s=>{n?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let s=X5(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?n.isActive(o,s):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};t.\u0275fac=function(s){return new(s||t)(W(Ms),W(vt),W(zn),W(Hn),W(an,8))},t.\u0275dir=Tt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(s,r,o){if(s&1&&wd(o,an,5),s&2){let a;Zs(a=Xs())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[at]});let e=t;return e})();function X5(e){return!!e.paths}var pm=class{};var q5=(()=>{let t=class t{constructor(n,s,r,o,a){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(gi(n=>n instanceof Ds),wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){let r=[];for(let o of s){o.providers&&!o._injector&&(o._injector=Ng(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Qe(r).pipe(lo())}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>{let r;s.loadChildren&&s.canLoad===void 0?r=this.loader.loadChildren(n,s):r=he(null);let o=r.pipe(Lt(a=>a===null?he(void 0):(s._loadedRoutes=a.routes,s._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(s.loadComponent&&!s._loadedComponent){let a=this.loader.loadComponent(s);return Qe([o,a]).pipe(lo())}else return o})}};t.\u0275fac=function(s){return new(s||t)(ee(Ms),ee(zg),ee(Bi),ee(pm),ee(w_))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),D1=new te(""),Q5=(()=>{let t=class t{constructor(n,s,r,o,a={}){this.urlSerializer=n,this.transitions=s,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ds?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof No&&n.code===nm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rm&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rm(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(s){QI()},t.\u0275prov=q({token:t,factory:t.\u0275fac});let e=t;return e})();function K5(e){return e.routerState.root}function Jd(e,t){return{\u0275kind:e,\u0275providers:t}}function J5(){let e=F(ni);return t=>{let i=e.get(qs);if(t!==i.components[0])return;let n=e.get(Ms),s=e.get(S1);e.get(M_)===1&&n.initialNavigation(),e.get(M1,null,Re.Optional)?.setUpPreloading(),e.get(D1,null,Re.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var S1=new te("",{factory:()=>new zt}),M_=new te("",{providedIn:"root",factory:()=>1});function e$(){return Jd(2,[{provide:M_,useValue:0},{provide:Bg,multi:!0,deps:[ni],useFactory:t=>{let i=t.get(lE,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let s=t.get(Ms),r=t.get(S1);C1(s,()=>{n(!0)}),t.get(S_).afterPreactivation=()=>(n(!0),r.closed?he(void 0):r),s.initialNavigation()}))}}])}function t$(){return Jd(3,[{provide:Bg,multi:!0,useFactory:()=>{let t=F(Ms);return()=>{t.setUpLocationChangeListener()}}},{provide:M_,useValue:2}])}var M1=new te("");function i$(e){return Jd(0,[{provide:M1,useExisting:q5},{provide:pm,useExisting:e}])}function n$(){return Jd(8,[zE,{provide:fm,useExisting:zE}])}function s$(e){let t=[{provide:x1,useValue:F5},{provide:b1,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return Jd(9,t)}var $E=new te("ROUTER_FORROOT_GUARD"),r$=[Ac,{provide:Zd,useClass:Pc},Ms,qd,{provide:Ss,useFactory:K5,deps:[Ms]},w_,[]],T_=(()=>{let t=class t{constructor(n){}static forRoot(n,s){return{ngModule:t,providers:[r$,[],{provide:hm,multi:!0,useValue:n},{provide:$E,useFactory:c$,deps:[[Ms,new vd,new dg]]},{provide:Kd,useValue:s||{}},s?.useHash?a$():l$(),o$(),s?.preloadingStrategy?i$(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?u$(s):[],s?.bindToComponentInputs?n$().\u0275providers:[],s?.enableViewTransitions?s$().\u0275providers:[],d$()]}}static forChild(n){return{ngModule:t,providers:[{provide:hm,multi:!0,useValue:n}]}}};t.\u0275fac=function(s){return new(s||t)(ee($E,8))},t.\u0275mod=Ze({type:t}),t.\u0275inj=Ye({});let e=t;return e})();function o$(){return{provide:D1,useFactory:()=>{let e=F(fE),t=F(We),i=F(Kd),n=F(S_),s=F(Zd);return i.scrollOffset&&e.setOffset(i.scrollOffset),new Q5(s,n,e,t,i)}}}function a$(){return{provide:Or,useClass:uE}}function l$(){return{provide:Or,useClass:Ib}}function c$(e){return"guarded"}function u$(e){return[e.initialNavigation==="disabled"?t$().\u0275providers:[],e.initialNavigation==="enabledBlocking"?e$().\u0275providers:[]]}var WE=new te("");function d$(){return[{provide:WE,useFactory:J5},{provide:jg,multi:!0,useExisting:WE}]}var T1="users",I1="loggedInUserDB",A1=(()=>{class e{_users$=new kt([]);users$=this._users$.asObservable();_loggedInUser;constructor(){let i=JSON.parse(localStorage.getItem(T1)||"null");if(!i||i.length===0){let s=this._createUsers();localStorage.setItem(T1,JSON.stringify(s)),this._users$.next(s)}else this._users$.next(i);let n=JSON.parse(localStorage.getItem(I1)||"null");n?this._loggedInUser=n:(this._loggedInUser={_id:"u125",fullName:"Daniel Vinitsky2",coins:100,moves:[]},localStorage.setItem(I1,JSON.stringify(this._loggedInUser)))}getUser(){return this._loggedInUser}_createUsers(){return[{_id:"u123",fullName:"Daniel Vinitsky",coins:100,moves:[]},{_id:"u124",fullName:"Daniel2",coins:100,moves:[]}]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function p$(e,t){localStorage[e]=JSON.stringify(t)}function f$(e,t=null){var i=localStorage[e]||t;return JSON.parse(i)}var I_={store:p$,load:f$};var zc=(()=>{class e{http;TRADE_VOLUME_KEY="tradeVolume";constructor(i){this.http=i}getRate(i){return this.http.get(`https://blockchain.info/tobtc?currency=USD&value=${i}`)}getTradeVolume(){let i=I_.load(this.TRADE_VOLUME_KEY);return i?he(i):this.http.get("https://api.blockchain.info/charts/trade-volume?timespan=5months&format=json&cors=true").pipe(me(n=>{let s=n.values.map(r=>({name:new Date(r.x*1e3).toLocaleDateString("en-US"),value:r.y}));return I_.store(this.TRADE_VOLUME_KEY,s),s}))}static \u0275fac=function(n){return new(n||e)(ee(Rb))};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var k1=(()=>{class e{userService;bitcoinService;user;BTC$;constructor(i,n){this.userService=i,this.bitcoinService=n}ngOnInit(){this.user=this.userService.getUser(),this.BTC$=this.bitcoinService.getRate(this.user.coins)}static \u0275fac=function(n){return new(n||e)(W(A1),W(zc))};static \u0275cmp=ve({type:e,selectors:[["home-page"]],decls:17,vars:7,consts:[[1,"home-page","flex"],[1,"flex","column","align-center","justify-center"],[1,"user-container","flex","align-center"],[1,"user-greet"],[1,"balance"],[1,"rate"]],template:function(n,s){n&1&&(O(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),ge(4," Hello, "),O(5,"span"),ge(6),V()()(),O(7,"p",4),ge(8," \u{1F4B0} Your balance: "),O(9,"span"),ge(10),kr(11,"json"),V()(),O(12,"p",5),ge(13," \u{1F4C8} Current bitcoin rate: "),O(14,"span"),ge(15),kr(16,"async"),V()()()()),n&2&&(R(6),vi(s.user.fullName),R(4),vi(Lr(11,3,s.user.coins)),R(5),vi(Lr(16,5,s.BTC$)))},dependencies:[To,pE],styles:[".home-page[_ngcontent-%COMP%]{min-height:calc(100dvh - 60px);background-color:#add8e6;justify-content:space-around}@media (max-width: 1000px){.home-page[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.home-page[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]{gap:2em;margin-block-end:2em}.home-page[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .user-greet[_ngcontent-%COMP%]{font-size:3.6em}.home-page[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:.7em 1.4em;border-radius:8px;font-family:FigtreeBold;color:#fff;background-color:#3870e8}.home-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.4em;font-family:FigtreeBold}.home-page[_ngcontent-%COMP%]   p.balance[_ngcontent-%COMP%]{margin-block-end:1rem}.home-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:FigtreeRegular}.home-page[_ngcontent-%COMP%]   .hero-img[_ngcontent-%COMP%]{width:50vw;object-fit:contain}@media (max-width: 1000px){.home-page[_ngcontent-%COMP%]   .hero-img[_ngcontent-%COMP%]{width:80vw}}"]})}return e})();var Gc={query:eh,get:g$,post:m$,put:y$,remove:v$,makeId:L1};function eh(e,t=100){return L(this,null,function*(){var i=JSON.parse(localStorage.getItem(e))||[];return t?new Promise(n=>setTimeout(n,t,i)):i})}function g$(e,t){return L(this,null,function*(){let n=(yield eh(e)).find(s=>s._id===t);if(!n)throw new Error(`Cannot get, Item ${t} of type: ${e} does not exist`);return n})}function m$(e,t){return L(this,null,function*(){t=k(S({},t),{_id:L1()});let i=yield eh(e);return i.push(t),A_(e,i),t})}function y$(e,t){return L(this,null,function*(){let i=yield eh(e),n=i.findIndex(s=>s._id===t._id);return i[n]=t,A_(e,i),t})}function v$(e,t){return L(this,null,function*(){let i=yield eh(e),n=i.findIndex(s=>s._id===t);if(n!==-1)i.splice(n,1);else throw new Error(`Cannot remove, item ${t} of type: ${e} does not exist`);A_(e,i)})}function A_(e,t){localStorage.setItem(e,JSON.stringify(t))}function L1(e=5){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}var Za="contacts",Wn=(()=>{class e{_contacts$=new kt([]);contacts$=this._contacts$.asObservable();_filterBy$=new kt({term:""});filterBy$=this._filterBy$.asObservable();constructor(){let i=JSON.parse(localStorage.getItem(Za)||"null");(!i||i.length===0)&&localStorage.setItem(Za,JSON.stringify(this._createContacts()))}loadContacts(){return Qe(Gc.query(Za)).pipe(Dt(i=>{let n=this._filterBy$.value,s=new RegExp(n.term,"i");i=i.filter(r=>s.test(r.name)),this._contacts$.next(i)}),nc(1),Pi(this._handleError))}getContactById(i){return Qe(Gc.get(Za,i)).pipe(Pi(n=>_r(()=>`Contact id ${i} not found! ${n}`)))}deleteContact(i){return Qe(Gc.remove(Za,i)).pipe(Dt(()=>{let n=this._contacts$.value;n=n.filter(s=>s._id!==i),this._contacts$.next(n)}),nc(1),Pi(this._handleError))}saveContact(i){return i._id?this._updateContact(i):this._addContact(i)}getEmptyContact(){return{name:"",email:"",phone:""}}setFilterBy(i){this._filterBy$.next(i),this.loadContacts().pipe(ii(1)).subscribe()}_updateContact(i){return Qe(Gc.put(Za,i)).pipe(Dt(n=>{let s=this._contacts$.value;this._contacts$.next(s.map(r=>r._id===n._id?n:r))}),nc(1),Pi(this._handleError))}_addContact(i){return Qe(Gc.post(Za,i)).pipe(Dt(n=>{let s=this._contacts$.value;this._contacts$.next([...s,n])}),nc(1),Pi(this._handleError))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}]}_handleError(i){return console.log("err:",i),_r(()=>i)}_makeId(i=5){for(var n="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<i;r++)n+=s.charAt(Math.floor(Math.random()*s.length));return n}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var N1=(()=>{class e{contactService=F(Wn);contact;onEditContact(i){i.stopPropagation()}onRemoveContact(i,n){i.stopPropagation(),this.contactService.deleteContact(n).pipe(ii(1)).subscribe({error:s=>console.log("err:",s)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["contact-preview"]],inputs:{contact:"contact"},decls:7,vars:5,consts:[[1,"contact-details","flex","align-center"],["alt","Contact picture",1,"contact-img",3,"src"],[1,"contact-name"],[1,"actions-container","flex","align-center"],[1,"btn","btn-edit","flex","align-center","justify-center",3,"click","routerLink"],[1,"btn","btn-delete","flex","align-center","justify-center",3,"click"]],template:function(n,s){n&1&&(O(0,"div",0),Ae(1,"img",1),O(2,"p",2),ge(3),V()(),O(4,"div",3)(5,"button",4),Be("click",function(o){return s.onEditContact(o)}),V(),O(6,"button",5),Be("click",function(o){return s.onRemoveContact(o,s.contact._id)}),V()()),n&2&&(R(),Cs("src","https://robohash.org/",s.contact._id,"?set=set2",Cd),R(2),vi(s.contact.name),R(2),Cs("routerLink","/contact/edit/",s.contact._id,""))},dependencies:[an],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:2em;width:60vw;padding-block:1em;padding-inline-start:2em;border-radius:2em;background-color:#d6d6d6;cursor:pointer}[_nghost-%COMP%]:hover   .actions-container[_ngcontent-%COMP%]{transform:translate(0);opacity:1}[_nghost-%COMP%]   .contact-details[_ngcontent-%COMP%]{gap:1em}[_nghost-%COMP%]   .contact-details[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:1.8em}[_nghost-%COMP%]   .contact-details[_ngcontent-%COMP%]   .contact-img[_ngcontent-%COMP%]{width:30px}[_nghost-%COMP%]   .actions-container[_ngcontent-%COMP%]{gap:1em;margin-inline-end:1.5em;opacity:0;transform:translate(20px);transition:all .4s}[_nghost-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;font-size:1.4em}[_nghost-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:after{font-family:faSolid;font-style:1rem}[_nghost-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-edit[_ngcontent-%COMP%]{background-color:#49deaa}[_nghost-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-edit[_ngcontent-%COMP%]:after{content:"\\f4ff"}[_nghost-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-delete[_ngcontent-%COMP%]{background-color:#fc6d6d}[_nghost-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-delete[_ngcontent-%COMP%]:after{content:"\\f1f8"}']})}return e})();function b$(e,t){if(e&1&&(O(0,"li"),Ae(1,"contact-preview",3),V()),e&2){let i=t.$implicit;R(),Cs("routerLink","/contact/",i._id,""),G("contact",i)}}function _$(e,t){if(e&1&&(O(0,"ul",1),be(1,b$,2,3,"li",2),V()),e&2){let i=$();R(),G("ngForOf",i.contacts)}}var O1=(()=>{class e{contacts;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["contact-list"]],inputs:{contacts:"contacts"},decls:1,vars:1,consts:[["class","contact-list flex column clean-list",4,"ngIf"],[1,"contact-list","flex","column","clean-list"],[4,"ngFor","ngForOf"],[3,"routerLink","contact"]],template:function(n,s){n&1&&be(0,_$,2,1,"ul",0),n&2&&G("ngIf",s.contacts==null?null:s.contacts.length)},dependencies:[Ks,Wt,an,N1],styles:[".contact-list[_ngcontent-%COMP%]{gap:1em}"]})}return e})();function E_(e){e||(Ax(E_),e=F(Va));let t=new ke(i=>e.onDestroy(i.next.bind(i)));return i=>i.pipe(sd(t))}var H1=(()=>{let t=class t{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(s){return new(s||t)(W(zn),W(vt))},t.\u0275dir=Tt({type:t});let e=t;return e})(),w$=(()=>{let t=class t extends H1{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Ar(t)))(r||t)}})(),t.\u0275dir=Tt({type:t,features:[rn]});let e=t;return e})(),U1=new te("");var D$={provide:U1,useExisting:Ra(()=>Yc),multi:!0};function S$(){let e=Qs()?Qs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var M$=new te(""),Yc=(()=>{let t=class t extends H1{constructor(n,s,r){super(n,s),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!S$())}writeValue(n){let s=n??"";this.setProperty("value",s)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(s){return new(s||t)(W(zn),W(vt),W(M$,8))},t.\u0275dir=Tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,r){s&1&&Be("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[Ga([D$]),rn]});let e=t;return e})();function T$(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var L_=new te(""),$1=new te("");function I$(e){return T$(e.value)?{required:!0}:null}function R1(e){return null}function W1(e){return e!=null}function Y1(e){return So(e)?Qe(e):e}function Z1(e){let t={};return e.forEach(i=>{t=i!=null?S(S({},t),i):t}),Object.keys(t).length===0?null:t}function X1(e,t){return t.map(i=>i(e))}function A$(e){return!e.validate}function q1(e){return e.map(t=>A$(t)?t:i=>t.validate(i))}function E$(e){if(!e)return null;let t=e.filter(W1);return t.length==0?null:function(i){return Z1(X1(i,t))}}function N_(e){return e!=null?E$(q1(e)):null}function k$(e){if(!e)return null;let t=e.filter(W1);return t.length==0?null:function(i){let n=X1(i,t).map(Y1);return nv(n).pipe(me(Z1))}}function O_(e){return e!=null?k$(q1(e)):null}function P1(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function L$(e){return e._rawValidators}function N$(e){return e._rawAsyncValidators}function k_(e){return e?Array.isArray(e)?e:[e]:[]}function ym(e,t){return Array.isArray(e)?e.includes(t):e===t}function F1(e,t){let i=k_(t);return k_(e).forEach(s=>{ym(i,s)||i.push(s)}),i}function V1(e,t){return k_(t).filter(i=>!ym(e,i))}var vm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=N_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=O_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},$c=class extends vm{get formDirective(){return null}get path(){return null}},oh=class extends vm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xm=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},O$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ule=k(S({},O$),{"[class.ng-submitted]":"isSubmitted"}),wm=(()=>{let t=class t extends xm{constructor(n){super(n)}};t.\u0275fac=function(s){return new(s||t)(W(oh,2))},t.\u0275dir=Tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,r){s&2&&Gn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[rn]});let e=t;return e})(),Q1=(()=>{let t=class t extends xm{constructor(n){super(n)}};t.\u0275fac=function(s){return new(s||t)(W($c,10))},t.\u0275dir=Tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,r){s&2&&Gn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[rn]});let e=t;return e})();var th="VALID",mm="INVALID",Hc="PENDING",ih="DISABLED",Wc=class{},bm=class extends Wc{constructor(t,i){super(),this.value=t,this.source=i}},sh=class extends Wc{constructor(t,i){super(),this.pristine=t,this.source=i}},rh=class extends Wc{constructor(t,i){super(),this.touched=t,this.source=i}},Uc=class extends Wc{constructor(t,i){super(),this.status=t,this.source=i}};function K1(e){return(Dm(e)?e.validators:e)||null}function R$(e){return Array.isArray(e)?N_(e):e||null}function J1(e,t){return(Dm(t)?t.asyncValidators:e)||null}function P$(e){return Array.isArray(e)?O_(e):e||null}function Dm(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function F$(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new J(1e3,"");if(!n[i])throw new J(1001,"")}function V$(e,t,i){e._forEachChild((n,s)=>{if(i[s]===void 0)throw new J(1002,"")})}var _m=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Tc(()=>this.statusReactive()),this.statusReactive=wc(void 0),this._pristine=Tc(()=>this.pristineReactive()),this.pristineReactive=wc(!0),this._touched=Tc(()=>this.touchedReactive()),this.touchedReactive=wc(!1),this._events=new zt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(t){Un(()=>this.statusReactive.set(t))}get valid(){return this.status===th}get invalid(){return this.status===mm}get pending(){return this.status==Hc}get disabled(){return this.status===ih}get enabled(){return this.status!==ih}get pristine(){return Un(this.pristineReactive)}set pristine(t){Un(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(t){Un(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(F1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(F1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(V1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(V1(t,this._rawAsyncValidators))}hasValidator(t){return ym(this._rawValidators,t)}hasAsyncValidator(t){return ym(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let i=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(k(S({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new rh(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),i&&t.emitEvent!==!1&&this._events.next(new rh(!1,n))}markAsDirty(t={}){let i=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(k(S({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new sh(!1,n))}markAsPristine(t={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&t.emitEvent!==!1&&this._events.next(new sh(!0,n))}markAsPending(t={}){this.status=Hc;let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uc(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(k(S({},t),{sourceControl:i}))}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=ih,this.errors=null,this._forEachChild(s=>{s.disable(k(S({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bm(this.value,n)),this._events.next(new Uc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(S({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=th,this._forEachChild(n=>{n.enable(k(S({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(k(S({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===th||this.status===Hc)&&this._runAsyncValidator(n,t.emitEvent)}let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bm(this.value,i)),this._events.next(new Uc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(k(S({},t),{sourceControl:i}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ih:th}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=Hc,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=Y1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,s)=>n&&n._find(s),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Uc(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,n)}_initObservables(){this.valueChanges=new K,this.statusChanges=new K}_calculateStatus(){return this._allControlsDisabled()?ih:this.errors?mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hc)?Hc:this._anyControlsHaveStatus(mm)?mm:th}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),s&&this._events.next(new sh(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new rh(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Dm(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=R$(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=P$(this._rawAsyncValidators)}},Cm=class extends _m{constructor(t,i,n){super(K1(i),J1(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){V$(this,!0,t),Object.keys(t).forEach(n=>{F$(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let s=this.controls[n];s&&s.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,s)=>{n.reset(t?t[s]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((s,r)=>{n=i(n,s,r)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var R_=new te("CallSetDisabledState",{providedIn:"root",factory:()=>P_}),P_="always";function B$(e,t){return[...t.path,e]}function ek(e,t,i=P_){tk(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),z$(e,t),H$(e,t),G$(e,t),j$(e,t)}function B1(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function j$(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function tk(e,t){let i=L$(e);t.validator!==null?e.setValidators(P1(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=N$(e);t.asyncValidator!==null?e.setAsyncValidators(P1(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let s=()=>e.updateValueAndValidity();B1(t._rawValidators,s),B1(t._rawAsyncValidators,s)}function z$(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ik(e,t)})}function G$(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ik(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ik(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function H$(e,t){let i=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function U$(e,t){e==null,tk(e,t)}function $$(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function W$(e){return Object.getPrototypeOf(e.constructor)===w$}function Y$(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Z$(e,t){if(!t)return null;Array.isArray(t);let i,n,s;return t.forEach(r=>{r.constructor===Yc?i=r:W$(r)?n=r:s=r}),s||n||i||null}var X$={provide:$c,useExisting:Ra(()=>F_)},nh=Promise.resolve(),F_=(()=>{let t=class t extends $c{get submitted(){return Un(this.submittedReactive)}constructor(n,s,r){super(),this.callSetDisabledState=r,this._submitted=Tc(()=>this.submittedReactive()),this.submittedReactive=wc(!1),this._directives=new Set,this.ngSubmit=new K,this.form=new Cm({},N_(n),O_(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){nh.then(()=>{let s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),ek(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){nh.then(()=>{let s=this._findContainer(n.path);s&&s.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){nh.then(()=>{let s=this._findContainer(n.path),r=new Cm({});U$(r,n),s.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){nh.then(()=>{let s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){nh.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Y$(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(s){return new(s||t)(W(L_,10),W($1,10),W(R_,8))},t.\u0275dir=Tt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(s,r){s&1&&Be("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ga([X$]),rn]});let e=t;return e})();function j1(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function z1(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var q$=class extends _m{constructor(t=null,i,n){super(K1(i),J1(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dm(i)&&(i.nonNullable||i.initialValueIsDefault)&&(z1(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){j1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){j1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){z1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Q$={provide:oh,useExisting:Ra(()=>ah)},G1=Promise.resolve(),ah=(()=>{let t=class t extends oh{constructor(n,s,r,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new q$,this._registered=!1,this.name="",this.update=new K,this._parent=n,this._setValidators(s),this._setAsyncValidators(r),this.valueAccessor=Z$(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let s=n.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),$$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ek(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){G1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let s=n.isDisabled.currentValue,r=s!==0&&Mo(s);G1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?B$(n,this._parent):[n]}};t.\u0275fac=function(s){return new(s||t)(W($c,9),W(L_,10),W($1,10),W(U1,10),W(Hn,8),W(R_,8))},t.\u0275dir=Tt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ga([Q$]),rn,at]});let e=t;return e})(),nk=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=Tt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var K$=(()=>{let t=class t{constructor(){this._validator=R1}ngOnChanges(n){if(this.inputName in n){let s=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):R1,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=Tt({type:t,features:[at]});let e=t;return e})();var J$={provide:L_,useExisting:Ra(()=>V_),multi:!0};var V_=(()=>{let t=class t extends K${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Mo,this.createValidator=n=>I$}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Ar(t)))(r||t)}})(),t.\u0275dir=Tt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,r){s&2&&Fe("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ga([J$]),rn]});let e=t;return e})();var eW=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=Ze({type:t}),t.\u0275inj=Ye({});let e=t;return e})();var sk=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:R_,useValue:n.callSetDisabledState??P_}]}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=Ze({type:t}),t.\u0275inj=Ye({imports:[eW]});let e=t;return e})();var ok=(()=>{class e{destroyRef=F(Va);ContactService=F(Wn);filterSubject$=new zt;filterBy;ngOnInit(){this.ContactService.filterBy$.pipe(E_(this.destroyRef)).subscribe(i=>{this.filterBy=i}),this.filterSubject$.pipe(tc(500),rv()).subscribe(()=>this.ContactService.setFilterBy(this.filterBy))}onSetFilterBy(i){this.filterSubject$.next(i)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["contact-filter"]],decls:3,vars:1,consts:[[1,"contact-filter","flex"],["name","term","type","text","placeholder","Search contact",1,"filter-input",3,"ngModelChange","ngModel"],["routerLink","/contact/edit",1,"btn-add-contact"]],template:function(n,s){n&1&&(O(0,"section",0)(1,"input",1),za("ngModelChange",function(o){return Sc(s.filterBy.term,o)||(s.filterBy.term=o),o}),Be("ngModelChange",function(o){return s.onSetFilterBy(o)}),V(),Ae(2,"button",2),V()),n&2&&(R(),ja("ngModel",s.filterBy.term))},dependencies:[an,Yc,wm,ah],styles:['.contact-filter[_ngcontent-%COMP%]{margin-block-end:2em;gap:1em;position:relative}.contact-filter[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{padding:1rem;padding-inline-start:1.2em;border:none;font-size:1.6em;width:60vw;border-radius:16px}.contact-filter[_ngcontent-%COMP%]   .btn-add-contact[_ngcontent-%COMP%]{position:absolute;right:-4em;height:100%;padding-inline:1em;border-radius:16px;background-color:#3870e8}.contact-filter[_ngcontent-%COMP%]   .btn-add-contact[_ngcontent-%COMP%]:after{font-family:faSolid;content:"\\f234";color:#fff}']})}return e})();var ak=(()=>{class e{contactService=F(Wn);contacts$;ngOnInit(){this.contacts$=this.contactService.contacts$}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["contact-page"]],decls:7,vars:3,consts:[[1,"contact-page"],[1,"main-contacts","flex","column","align-center"],[1,"main-heading"],[3,"contacts"]],template:function(n,s){n&1&&(O(0,"section",0)(1,"div",1)(2,"h1",2),ge(3,"Your Contacts"),V(),Ae(4,"contact-filter")(5,"contact-list",3),kr(6,"async"),V()()),n&2&&(R(5),G("contacts",Lr(6,1,s.contacts$)))},dependencies:[O1,ok,To],styles:[".contact-page[_ngcontent-%COMP%]{min-height:calc(100dvh - 60px);background-color:#b1f4ad;padding-block:3rem}.contact-page[_ngcontent-%COMP%]   .main-heading[_ngcontent-%COMP%]{font-size:3em;margin-block-end:1.5rem;font-family:FigtreeBold}"]})}return e})();var lh=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},ch=class extends lh{constructor(t,i,n,s,r){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=s,this.projectableNodes=r}},B_=class extends lh{constructor(t,i,n,s){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=s}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},j_=class extends lh{constructor(t){super(),this.element=t instanceof vt?t.nativeElement:t}},z_=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof ch)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof B_)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof j_)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Sm=class extends z_{constructor(t,i,n,s,r){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=s,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=n.create(t.injector||this._defaultInjector||ni.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(s=>this.outletElement.appendChild(s)),n.detectChanges(),this.setDisposeFn(()=>{let s=i.indexOf(n);s!==-1&&i.remove(s)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var uh=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(uh||{});function lk(e,t){return{type:uh.Trigger,name:e,definitions:t,options:{}}}function ck(e,t=null){return{type:uh.Animate,styles:t,timings:e}}function G_(e){return{type:uh.Style,styles:e,offset:null}}function uk(e,t,i=null){return{type:uh.Transition,expr:e,animation:t,options:i}}var Mm="http://www.w3.org/1999/xhtml",H_={svg:"http://www.w3.org/2000/svg",xhtml:Mm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vr(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),H_.hasOwnProperty(t)?{space:H_[t],local:e}:e}function iW(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===Mm&&t.documentElement.namespaceURI===Mm?t.createElement(e):t.createElementNS(i,e)}}function nW(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tm(e){var t=Vr(e);return(t.local?nW:iW)(t)}function sW(){}function Xa(e){return e==null?sW:function(){return this.querySelector(e)}}function dk(e){typeof e!="function"&&(e=Xa(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r=t[s],o=r.length,a=n[s]=new Array(o),l,c,u=0;u<o;++u)(l=r[u])&&(c=e.call(l,l.__data__,u,r))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ot(n,this._parents)}function U_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rW(){return[]}function dh(e){return e==null?rW:function(){return this.querySelectorAll(e)}}function oW(e){return function(){return U_(e.apply(this,arguments))}}function hk(e){typeof e=="function"?e=oW(e):e=dh(e);for(var t=this._groups,i=t.length,n=[],s=[],r=0;r<i;++r)for(var o=t[r],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(n.push(e.call(l,l.__data__,c,o)),s.push(l));return new Ot(n,s)}function hh(e){return function(){return this.matches(e)}}function Im(e){return function(t){return t.matches(e)}}var aW=Array.prototype.find;function lW(e){return function(){return aW.call(this.children,e)}}function cW(){return this.firstElementChild}function pk(e){return this.select(e==null?cW:lW(typeof e=="function"?e:Im(e)))}var uW=Array.prototype.filter;function dW(){return Array.from(this.children)}function hW(e){return function(){return uW.call(this.children,e)}}function fk(e){return this.selectAll(e==null?dW:hW(typeof e=="function"?e:Im(e)))}function gk(e){typeof e!="function"&&(e=hh(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r=t[s],o=r.length,a=n[s]=[],l,c=0;c<o;++c)(l=r[c])&&e.call(l,l.__data__,c,r)&&a.push(l);return new Ot(n,this._parents)}function Am(e){return new Array(e.length)}function mk(){return new Ot(this._enter||this._groups.map(Am),this._parents)}function ph(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ph.prototype={constructor:ph,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yk(e){return function(){return e}}function pW(e,t,i,n,s,r){for(var o=0,a,l=t.length,c=r.length;o<c;++o)(a=t[o])?(a.__data__=r[o],n[o]=a):i[o]=new ph(e,r[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function fW(e,t,i,n,s,r,o){var a,l,c=new Map,u=t.length,d=r.length,h=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(h[a]=p=o.call(l,l.__data__,a,t)+"",c.has(p)?s[a]=l:c.set(p,l));for(a=0;a<d;++a)p=o.call(e,r[a],a,r)+"",(l=c.get(p))?(n[a]=l,l.__data__=r[a],c.delete(p)):i[a]=new ph(e,r[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(s[a]=l)}function gW(e){return e.__data__}function vk(e,t){if(!arguments.length)return Array.from(this,gW);var i=t?fW:pW,n=this._parents,s=this._groups;typeof e!="function"&&(e=yk(e));for(var r=s.length,o=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var u=n[c],d=s[c],h=d.length,p=mW(e.call(u,u&&u.__data__,c,n)),f=p.length,g=a[c]=new Array(f),y=o[c]=new Array(f),x=l[c]=new Array(h);i(u,d,g,y,x,p,t);for(var v=0,_=0,C,w;v<f;++v)if(C=g[v]){for(v>=_&&(_=v+1);!(w=y[_])&&++_<f;);C._next=w||null}}return o=new Ot(o,n),o._enter=a,o._exit=l,o}function mW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xk(){return new Ot(this._exit||this._groups.map(Am),this._parents)}function bk(e,t,i){var n=this.enter(),s=this,r=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),i==null?r.remove():i(r),n&&s?n.merge(s).order():s}function _k(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,s=i.length,r=n.length,o=Math.min(s,r),a=new Array(s),l=0;l<o;++l)for(var c=i[l],u=n[l],d=c.length,h=a[l]=new Array(d),p,f=0;f<d;++f)(p=c[f]||u[f])&&(h[f]=p);for(;l<s;++l)a[l]=i[l];return new Ot(a,this._parents)}function Ck(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],s=n.length-1,r=n[s],o;--s>=0;)(o=n[s])&&(r&&o.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(o,r),r=o);return this}function wk(e){e||(e=yW);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var i=this._groups,n=i.length,s=new Array(n),r=0;r<n;++r){for(var o=i[r],a=o.length,l=s[r]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Ot(s,this._parents).order()}function yW(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sk(){return Array.from(this)}function Mk(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,r=n.length;s<r;++s){var o=n[s];if(o)return o}return null}function Tk(){let e=0;for(let t of this)++e;return e}function Ik(){return!this.node()}function Ak(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var s=t[i],r=0,o=s.length,a;r<o;++r)(a=s[r])&&e.call(a,a.__data__,r,s);return this}function vW(e){return function(){this.removeAttribute(e)}}function xW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bW(e,t){return function(){this.setAttribute(e,t)}}function _W(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function CW(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function wW(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Ek(e,t){var i=Vr(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?xW:vW:typeof t=="function"?i.local?wW:CW:i.local?_W:bW)(i,t))}function Em(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function DW(e){return function(){this.style.removeProperty(e)}}function SW(e,t,i){return function(){this.style.setProperty(e,t,i)}}function MW(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function kk(e,t,i){return arguments.length>1?this.each((t==null?DW:typeof t=="function"?MW:SW)(e,t,i??"")):Ro(this.node(),e)}function Ro(e,t){return e.style.getPropertyValue(t)||Em(e).getComputedStyle(e,null).getPropertyValue(t)}function TW(e){return function(){delete this[e]}}function IW(e,t){return function(){this[e]=t}}function AW(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function Lk(e,t){return arguments.length>1?this.each((t==null?TW:typeof t=="function"?AW:IW)(e,t)):this.node()[e]}function Nk(e){return e.trim().split(/^|\s+/)}function $_(e){return e.classList||new Ok(e)}function Ok(e){this._node=e,this._names=Nk(e.getAttribute("class")||"")}Ok.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Rk(e,t){for(var i=$_(e),n=-1,s=t.length;++n<s;)i.add(t[n])}function Pk(e,t){for(var i=$_(e),n=-1,s=t.length;++n<s;)i.remove(t[n])}function EW(e){return function(){Rk(this,e)}}function kW(e){return function(){Pk(this,e)}}function LW(e,t){return function(){(t.apply(this,arguments)?Rk:Pk)(this,e)}}function Fk(e,t){var i=Nk(e+"");if(arguments.length<2){for(var n=$_(this.node()),s=-1,r=i.length;++s<r;)if(!n.contains(i[s]))return!1;return!0}return this.each((typeof t=="function"?LW:t?EW:kW)(i,t))}function NW(){this.textContent=""}function OW(e){return function(){this.textContent=e}}function RW(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Vk(e){return arguments.length?this.each(e==null?NW:(typeof e=="function"?RW:OW)(e)):this.node().textContent}function PW(){this.innerHTML=""}function FW(e){return function(){this.innerHTML=e}}function VW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Bk(e){return arguments.length?this.each(e==null?PW:(typeof e=="function"?VW:FW)(e)):this.node().innerHTML}function BW(){this.nextSibling&&this.parentNode.appendChild(this)}function jk(){return this.each(BW)}function jW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zk(){return this.each(jW)}function Gk(e){var t=typeof e=="function"?e:Tm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zW(){return null}function Hk(e,t){var i=typeof e=="function"?e:Tm(e),n=t==null?zW:typeof t=="function"?t:Xa(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function GW(){var e=this.parentNode;e&&e.removeChild(this)}function Uk(){return this.each(GW)}function HW(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function UW(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $k(e){return this.select(e?UW:HW)}function Wk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $W(e){return function(t){e.call(this,t,this.__data__)}}function WW(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function YW(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,s=t.length,r;i<s;++i)r=t[i],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++n]=r;++n?t.length=n:delete this.__on}}}function ZW(e,t,i){return function(){var n=this.__on,s,r=$W(t);if(n){for(var o=0,a=n.length;o<a;++o)if((s=n[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=i),s.value=t;return}}this.addEventListener(e.type,r,i),s={type:e.type,name:e.name,value:t,listener:r,options:i},n?n.push(s):this.__on=[s]}}function Yk(e,t,i){var n=WW(e+""),s,r=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(s=0,u=a[l];s<r;++s)if((o=n[s]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?ZW:YW,s=0;s<r;++s)this.each(a(n[s],t,i));return this}function Zk(e,t,i){var n=Em(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,i):(s=n.document.createEvent("Event"),i?(s.initEvent(t,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function XW(e,t){return function(){return Zk(this,e,t)}}function qW(e,t){return function(){return Zk(this,e,t.apply(this,arguments))}}function Xk(e,t){return this.each((typeof t=="function"?qW:XW)(e,t))}function*qk(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,r=n.length,o;s<r;++s)(o=n[s])&&(yield o)}var W_=[null];function Ot(e,t){this._groups=e,this._parents=t}function Qk(){return new Ot([[document.documentElement]],W_)}function QW(){return this}Ot.prototype=Qk.prototype={constructor:Ot,select:dk,selectAll:hk,selectChild:pk,selectChildren:fk,filter:gk,data:vk,enter:mk,exit:xk,join:bk,merge:_k,selection:QW,order:Ck,sort:wk,call:Dk,nodes:Sk,node:Mk,size:Tk,empty:Ik,each:Ak,attr:Ek,style:kk,property:Lk,classed:Fk,text:Vk,html:Bk,raise:jk,lower:zk,append:Gk,insert:Hk,remove:Uk,clone:$k,datum:Wk,on:Yk,dispatch:Xk,[Symbol.iterator]:qk};var Br=Qk;function fh(e){return typeof e=="string"?new Ot([[document.querySelector(e)]],[document.documentElement]):new Ot([[e]],W_)}var KW={value:()=>{}};function Jk(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new km(i)}function km(e){this._=e}function JW(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",s=i.indexOf(".");if(s>=0&&(n=i.slice(s+1),i=i.slice(0,s)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}km.prototype=Jk.prototype={constructor:km,on:function(e,t){var i=this._,n=JW(e+"",i),s,r=-1,o=n.length;if(arguments.length<2){for(;++r<o;)if((s=(e=n[r]).type)&&(s=eY(i[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<o;)if(s=(e=n[r]).type)i[s]=Kk(i[s],e.name,t);else if(t==null)for(s in i)i[s]=Kk(i[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new km(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var i=new Array(s),n=0,s,r;n<s;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],n=0,s=r.length;n<s;++n)r[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,r=n.length;s<r;++s)n[s].value.apply(t,i)}};function eY(e,t){for(var i=0,n=e.length,s;i<n;++i)if((s=e[i]).name===t)return s.value}function Kk(e,t,i){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=KW,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var Y_=Jk;function Lm(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function Z_(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function yh(){}var gh=.7,Rm=1/gh,Zc="\\s*([+-]?\\d+)\\s*",mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tY=/^#([0-9a-f]{3,8})$/,iY=new RegExp(`^rgb\\(${Zc},${Zc},${Zc}\\)$`),nY=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),sY=new RegExp(`^rgba\\(${Zc},${Zc},${Zc},${mh}\\)$`),rY=new RegExp(`^rgba\\(${tr},${tr},${tr},${mh}\\)$`),oY=new RegExp(`^hsl\\(${mh},${tr},${tr}\\)$`),aY=new RegExp(`^hsla\\(${mh},${tr},${tr},${mh}\\)$`),eL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lm(yh,Is,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tL,formatHex:tL,formatHex8:lY,formatHsl:cY,formatRgb:iL,toString:iL});function tL(){return this.rgb().formatHex()}function lY(){return this.rgb().formatHex8()}function cY(){return lL(this).formatHsl()}function iL(){return this.rgb().formatRgb()}function Is(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=tY.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?nL(t):i===3?new ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?Nm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?Nm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iY.exec(e))?new ln(t[1],t[2],t[3],1):(t=nY.exec(e))?new ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sY.exec(e))?Nm(t[1],t[2],t[3],t[4]):(t=rY.exec(e))?Nm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oY.exec(e))?oL(t[1],t[2]/100,t[3]/100,1):(t=aY.exec(e))?oL(t[1],t[2]/100,t[3]/100,t[4]):eL.hasOwnProperty(e)?nL(eL[e]):e==="transparent"?new ln(NaN,NaN,NaN,0):null}function nL(e){return new ln(e>>16&255,e>>8&255,e&255,1)}function Nm(e,t,i,n){return n<=0&&(e=t=i=NaN),new ln(e,t,i,n)}function uY(e){return e instanceof yh||(e=Is(e)),e?(e=e.rgb(),new ln(e.r,e.g,e.b,e.opacity)):new ln}function Xc(e,t,i,n){return arguments.length===1?uY(e):new ln(e,t,i,n??1)}function ln(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}Lm(ln,Xc,Z_(yh,{brighter(e){return e=e==null?Rm:Math.pow(Rm,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ln(Qa(this.r),Qa(this.g),Qa(this.b),Pm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sL,formatHex:sL,formatHex8:dY,formatRgb:rL,toString:rL}));function sL(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}`}function dY(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}${qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function rL(){let e=Pm(this.opacity);return`${e===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${e===1?")":`, ${e})`}`}function Pm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qa(e){return e=Qa(e),(e<16?"0":"")+e.toString(16)}function oL(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Ts(e,t,i,n)}function lL(e){if(e instanceof Ts)return new Ts(e.h,e.s,e.l,e.opacity);if(e instanceof yh||(e=Is(e)),!e)return new Ts;if(e instanceof Ts)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,s=Math.min(t,i,n),r=Math.max(t,i,n),o=NaN,a=r-s,l=(r+s)/2;return a?(t===r?o=(i-n)/a+(i<n)*6:i===r?o=(n-t)/a+2:o=(t-i)/a+4,a/=l<.5?r+s:2-r-s,o*=60):a=l>0&&l<1?0:o,new Ts(o,a,l,e.opacity)}function cL(e,t,i,n){return arguments.length===1?lL(e):new Ts(e,t,i,n??1)}function Ts(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}Lm(Ts,cL,Z_(yh,{brighter(e){return e=e==null?Rm:Math.pow(Rm,e),new Ts(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new Ts(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,s=2*i-n;return new ln(X_(e>=240?e-240:e+120,s,n),X_(e,s,n),X_(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ts(aL(this.h),Om(this.s),Om(this.l),Pm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Pm(this.opacity);return`${e===1?"hsl(":"hsla("}${aL(this.h)}, ${Om(this.s)*100}%, ${Om(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aL(e){return e=(e||0)%360,e<0?e+360:e}function Om(e){return Math.max(0,Math.min(1,e||0))}function X_(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}function q_(e,t,i,n,s){var r=e*e,o=r*e;return((1-3*e+3*r-o)*t+(4-6*r+3*o)*i+(1+3*e+3*r-3*o)*n+o*s)/6}function uL(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),s=e[n],r=e[n+1],o=n>0?e[n-1]:2*s-r,a=n<t-1?e[n+2]:2*r-s;return q_((i-n/t)*t,o,s,r,a)}}function dL(e){var t=e.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*t),s=e[(n+t-1)%t],r=e[n%t],o=e[(n+1)%t],a=e[(n+2)%t];return q_((i-n/t)*t,s,r,o,a)}}var vh=e=>()=>e;function hY(e,t){return function(i){return e+i*t}}function pY(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function hL(e){return(e=+e)==1?Fm:function(t,i){return i-t?pY(t,i,e):vh(isNaN(t)?i:t)}}function Fm(e,t){var i=t-e;return i?hY(e,i):vh(isNaN(e)?t:e)}var Ka=function e(t){var i=hL(t);function n(s,r){var o=i((s=Xc(s)).r,(r=Xc(r)).r),a=i(s.g,r.g),l=i(s.b,r.b),c=Fm(s.opacity,r.opacity);return function(u){return s.r=o(u),s.g=a(u),s.b=l(u),s.opacity=c(u),s+""}}return n.gamma=e,n}(1);function pL(e){return function(t){var i=t.length,n=new Array(i),s=new Array(i),r=new Array(i),o,a;for(o=0;o<i;++o)a=Xc(t[o]),n[o]=a.r||0,s[o]=a.g||0,r[o]=a.b||0;return n=e(n),s=e(s),r=e(r),a.opacity=1,function(l){return a.r=n(l),a.g=s(l),a.b=r(l),a+""}}}var fY=pL(uL),gY=pL(dL);function fL(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(r){for(s=0;s<i;++s)n[s]=e[s]*(1-r)+t[s]*r;return n}}function gL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mL(e,t){var i=t?t.length:0,n=e?Math.min(i,e.length):0,s=new Array(n),r=new Array(i),o;for(o=0;o<n;++o)s[o]=As(e[o],t[o]);for(;o<i;++o)r[o]=t[o];return function(a){for(o=0;o<n;++o)r[o]=s[o](a);return r}}function yL(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}function _i(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function vL(e,t){var i={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?i[s]=As(e[s],t[s]):n[s]=t[s];return function(r){for(s in i)n[s]=i[s](r);return n}}var K_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q_=new RegExp(K_.source,"g");function mY(e){return function(){return e}}function yY(e){return function(t){return e(t)+""}}function xh(e,t){var i=K_.lastIndex=Q_.lastIndex=0,n,s,r,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=K_.exec(e))&&(s=Q_.exec(t));)(r=s.index)>i&&(r=t.slice(i,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:_i(n,s)})),i=Q_.lastIndex;return i<t.length&&(r=t.slice(i),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?yY(l[0].x):mY(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function As(e,t){var i=typeof t,n;return t==null||i==="boolean"?vh(t):(i==="number"?_i:i==="string"?(n=Is(t))?(t=n,Ka):xh:t instanceof Is?Ka:t instanceof Date?yL:gL(t)?fL:Array.isArray(t)?mL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vL:_i)(e,t)}function J_(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}var xL=180/Math.PI,Vm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eC(e,t,i,n,s,r){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*i+t*n)&&(i-=e*l,n-=t*l),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,l/=a),e*n<t*i&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*xL,skewX:Math.atan(l)*xL,scaleX:o,scaleY:a}}var Bm;function bL(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Vm:eC(t.a,t.b,t.c,t.d,t.e,t.f)}function _L(e){return e==null?Vm:(Bm||(Bm=document.createElementNS("http://www.w3.org/2000/svg","g")),Bm.setAttribute("transform",e),(e=Bm.transform.baseVal.consolidate())?(e=e.matrix,eC(e.a,e.b,e.c,e.d,e.e,e.f)):Vm)}function CL(e,t,i,n){function s(c){return c.length?c.pop()+" ":""}function r(c,u,d,h,p,f){if(c!==d||u!==h){var g=p.push("translate(",null,t,null,i);f.push({i:g-4,x:_i(c,d)},{i:g-2,x:_i(u,h)})}else(d||h)&&p.push("translate("+d+t+h+i)}function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(s(d)+"rotate(",null,n)-2,x:_i(c,u)})):u&&d.push(s(d)+"rotate("+u+n)}function a(c,u,d,h){c!==u?h.push({i:d.push(s(d)+"skewX(",null,n)-2,x:_i(c,u)}):u&&d.push(s(d)+"skewX("+u+n)}function l(c,u,d,h,p,f){if(c!==d||u!==h){var g=p.push(s(p)+"scale(",null,",",null,")");f.push({i:g-4,x:_i(c,d)},{i:g-2,x:_i(u,h)})}else(d!==1||h!==1)&&p.push(s(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=e(c),u=e(u),r(c.translateX,c.translateY,u.translateX,u.translateY,d,h),o(c.rotate,u.rotate,d,h),a(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var f=-1,g=h.length,y;++f<g;)d[(y=h[f]).i]=y.x(p);return d.join("")}}}var tC=CL(bL,"px, ","px)","deg)"),iC=CL(_L,", ",")",")");var qc=0,_h=0,bh=0,DL=1e3,jm,Ch,zm=0,Ja=0,Gm=0,wh=typeof performance=="object"&&performance.now?performance:Date,SL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sh(){return Ja||(SL(vY),Ja=wh.now()+Gm)}function vY(){Ja=0}function Dh(){this._call=this._time=this._next=null}Dh.prototype=Hm.prototype={constructor:Dh,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?Sh():+i)+(t==null?0:+t),!this._next&&Ch!==this&&(Ch?Ch._next=this:jm=this,Ch=this),this._call=e,this._time=i,nC()},stop:function(){this._call&&(this._call=null,this._time=1/0,nC())}};function Hm(e,t,i){var n=new Dh;return n.restart(e,t,i),n}function ML(){Sh(),++qc;for(var e=jm,t;e;)(t=Ja-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qc}function wL(){Ja=(zm=wh.now())+Gm,qc=_h=0;try{ML()}finally{qc=0,bY(),Ja=0}}function xY(){var e=wh.now(),t=e-zm;t>DL&&(Gm-=t,zm=e)}function bY(){for(var e,t=jm,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:jm=i);Ch=e,nC(n)}function nC(e){if(!qc){_h&&(_h=clearTimeout(_h));var t=e-Ja;t>24?(e<1/0&&(_h=setTimeout(wL,e-wh.now()-Gm)),bh&&(bh=clearInterval(bh))):(bh||(zm=wh.now(),bh=setInterval(xY,DL)),qc=1,SL(wL))}}function Um(e,t,i){var n=new Dh;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,i),n}var _Y=Y_("start","end","cancel","interrupt"),CY=[],AL=0,TL=1,Wm=2,$m=3,IL=4,Ym=5,Mh=6;function Po(e,t,i,n,s,r){var o=e.__transition;if(!o)e.__transition={};else if(i in o)return;wY(e,i,{name:t,index:n,group:s,on:_Y,tween:CY,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:AL})}function Th(e,t){var i=Yt(e,t);if(i.state>AL)throw new Error("too late; already scheduled");return i}function Ci(e,t){var i=Yt(e,t);if(i.state>$m)throw new Error("too late; already running");return i}function Yt(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function wY(e,t,i){var n=e.__transition,s;n[t]=i,i.timer=Hm(r,0,i.time);function r(c){i.state=TL,i.timer.restart(o,i.delay,i.time),i.delay<=c&&o(c-i.delay)}function o(c){var u,d,h,p;if(i.state!==TL)return l();for(u in n)if(p=n[u],p.name===i.name){if(p.state===$m)return Um(o);p.state===IL?(p.state=Mh,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[u]):+u<t&&(p.state=Mh,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[u])}if(Um(function(){i.state===$m&&(i.state=IL,i.timer.restart(a,i.delay,i.time),a(c))}),i.state=Wm,i.on.call("start",e,e.__data__,i.index,i.group),i.state===Wm){for(i.state=$m,s=new Array(h=i.tween.length),u=0,d=-1;u<h;++u)(p=i.tween[u].value.call(e,e.__data__,i.index,i.group))&&(s[++d]=p);s.length=d+1}}function a(c){for(var u=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(l),i.state=Ym,1),d=-1,h=s.length;++d<h;)s[d].call(e,u);i.state===Ym&&(i.on.call("end",e,e.__data__,i.index,i.group),l())}function l(){i.state=Mh,i.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function sC(e,t){var i=e.__transition,n,s,r=!0,o;if(i){t=t==null?null:t+"";for(o in i){if((n=i[o]).name!==t){r=!1;continue}s=n.state>Wm&&n.state<Ym,n.state=Mh,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]}r&&delete e.__transition}}function EL(e){return this.each(function(){sC(this,e)})}function DY(e,t){var i,n;return function(){var s=Ci(this,e),r=s.tween;if(r!==i){n=i=r;for(var o=0,a=n.length;o<a;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}s.tween=n}}function SY(e,t,i){var n,s;if(typeof i!="function")throw new Error;return function(){var r=Ci(this,e),o=r.tween;if(o!==n){s=(n=o).slice();for(var a={name:t,value:i},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}r.tween=s}}function kL(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=Yt(this.node(),i).tween,s=0,r=n.length,o;s<r;++s)if((o=n[s]).name===e)return o.value;return null}return this.each((t==null?DY:SY)(i,e,t))}function Qc(e,t,i){var n=e._id;return e.each(function(){var s=Ci(this,n);(s.value||(s.value={}))[t]=i.apply(this,arguments)}),function(s){return Yt(s,n).value[t]}}function Zm(e,t){var i;return(typeof t=="number"?_i:t instanceof Is?Ka:(i=Is(t))?(t=i,Ka):xh)(e,t)}function MY(e){return function(){this.removeAttribute(e)}}function TY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IY(e,t,i){var n,s=i+"",r;return function(){var o=this.getAttribute(e);return o===s?null:o===n?r:r=t(n=o,i)}}function AY(e,t,i){var n,s=i+"",r;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===n?r:r=t(n=o,i)}}function EY(e,t,i){var n,s,r;return function(){var o,a=i(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===n&&l===s?r:(s=l,r=t(n=o,a)))}}function kY(e,t,i){var n,s,r;return function(){var o,a=i(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===n&&l===s?r:(s=l,r=t(n=o,a)))}}function LL(e,t){var i=Vr(e),n=i==="transform"?iC:Zm;return this.attrTween(e,typeof t=="function"?(i.local?kY:EY)(i,n,Qc(this,"attr."+e,t)):t==null?(i.local?TY:MY)(i):(i.local?AY:IY)(i,n,t))}function LY(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function NY(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function OY(e,t){var i,n;function s(){var r=t.apply(this,arguments);return r!==n&&(i=(n=r)&&NY(e,r)),i}return s._value=t,s}function RY(e,t){var i,n;function s(){var r=t.apply(this,arguments);return r!==n&&(i=(n=r)&&LY(e,r)),i}return s._value=t,s}function NL(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=Vr(e);return this.tween(i,(n.local?OY:RY)(n,t))}function PY(e,t){return function(){Th(this,e).delay=+t.apply(this,arguments)}}function FY(e,t){return t=+t,function(){Th(this,e).delay=t}}function OL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PY:FY)(t,e)):Yt(this.node(),t).delay}function VY(e,t){return function(){Ci(this,e).duration=+t.apply(this,arguments)}}function BY(e,t){return t=+t,function(){Ci(this,e).duration=t}}function RL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?VY:BY)(t,e)):Yt(this.node(),t).duration}function jY(e,t){if(typeof t!="function")throw new Error;return function(){Ci(this,e).ease=t}}function PL(e){var t=this._id;return arguments.length?this.each(jY(t,e)):Yt(this.node(),t).ease}function zY(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;Ci(this,e).ease=i}}function FL(e){if(typeof e!="function")throw new Error;return this.each(zY(this._id,e))}function VL(e){typeof e!="function"&&(e=hh(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r=t[s],o=r.length,a=n[s]=[],l,c=0;c<o;++c)(l=r[c])&&e.call(l,l.__data__,c,r)&&a.push(l);return new zi(n,this._parents,this._name,this._id)}function BL(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,s=i.length,r=Math.min(n,s),o=new Array(n),a=0;a<r;++a)for(var l=t[a],c=i[a],u=l.length,d=o[a]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;a<n;++a)o[a]=t[a];return new zi(o,this._parents,this._name,this._id)}function GY(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function HY(e,t,i){var n,s,r=GY(t)?Th:Ci;return function(){var o=r(this,e),a=o.on;a!==n&&(s=(n=a).copy()).on(t,i),o.on=s}}function jL(e,t){var i=this._id;return arguments.length<2?Yt(this.node(),i).on.on(e):this.each(HY(i,e,t))}function UY(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function zL(){return this.on("end.remove",UY(this._id))}function GL(e){var t=this._name,i=this._id;typeof e!="function"&&(e=Xa(e));for(var n=this._groups,s=n.length,r=new Array(s),o=0;o<s;++o)for(var a=n[o],l=a.length,c=r[o]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=e.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Po(c[h],t,i,h,c,Yt(u,i)));return new zi(r,this._parents,t,i)}function HL(e){var t=this._name,i=this._id;typeof e!="function"&&(e=dh(e));for(var n=this._groups,s=n.length,r=[],o=[],a=0;a<s;++a)for(var l=n[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=e.call(u,u.__data__,d,l),p,f=Yt(u,i),g=0,y=h.length;g<y;++g)(p=h[g])&&Po(p,t,i,g,h,f);r.push(h),o.push(u)}return new zi(r,o,t,i)}var $Y=Br.prototype.constructor;function UL(){return new $Y(this._groups,this._parents)}function WY(e,t){var i,n,s;return function(){var r=Ro(this,e),o=(this.style.removeProperty(e),Ro(this,e));return r===o?null:r===i&&o===n?s:s=t(i=r,n=o)}}function $L(e){return function(){this.style.removeProperty(e)}}function YY(e,t,i){var n,s=i+"",r;return function(){var o=Ro(this,e);return o===s?null:o===n?r:r=t(n=o,i)}}function ZY(e,t,i){var n,s,r;return function(){var o=Ro(this,e),a=i(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ro(this,e))),o===l?null:o===n&&l===s?r:(s=l,r=t(n=o,a))}}function XY(e,t){var i,n,s,r="style."+t,o="end."+r,a;return function(){var l=Ci(this,e),c=l.on,u=l.value[r]==null?a||(a=$L(t)):void 0;(c!==i||s!==u)&&(n=(i=c).copy()).on(o,s=u),l.on=n}}function WL(e,t,i){var n=(e+="")=="transform"?tC:Zm;return t==null?this.styleTween(e,WY(e,n)).on("end.style."+e,$L(e)):typeof t=="function"?this.styleTween(e,ZY(e,n,Qc(this,"style."+e,t))).each(XY(this._id,e)):this.styleTween(e,YY(e,n,t),i).on("end.style."+e,null)}function qY(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function QY(e,t,i){var n,s;function r(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&qY(e,o,i)),n}return r._value=t,r}function YL(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,QY(e,t,i??""))}function KY(e){return function(){this.textContent=e}}function JY(e){return function(){var t=e(this);this.textContent=t??""}}function ZL(e){return this.tween("text",typeof e=="function"?JY(Qc(this,"text",e)):KY(e==null?"":e+""))}function e8(e){return function(t){this.textContent=e.call(this,t)}}function t8(e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&e8(s)),t}return n._value=e,n}function XL(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,t8(e))}function qL(){for(var e=this._name,t=this._id,i=Xm(),n=this._groups,s=n.length,r=0;r<s;++r)for(var o=n[r],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Yt(l,t);Po(l,e,i,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new zi(n,this._parents,e,i)}function QL(){var e,t,i=this,n=i._id,s=i.size();return new Promise(function(r,o){var a={value:o},l={value:function(){--s===0&&r()}};i.each(function(){var c=Ci(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&r()})}var i8=0;function zi(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function KL(e){return Br().transition(e)}function Xm(){return++i8}var jr=Br.prototype;zi.prototype=KL.prototype={constructor:zi,select:GL,selectAll:HL,selectChild:jr.selectChild,selectChildren:jr.selectChildren,filter:VL,merge:BL,selection:UL,transition:qL,call:jr.call,nodes:jr.nodes,node:jr.node,size:jr.size,empty:jr.empty,each:jr.each,on:jL,attr:LL,attrTween:NL,style:WL,styleTween:YL,text:ZL,textTween:XL,remove:zL,tween:kL,delay:OL,duration:RL,ease:PL,easeVarying:FL,end:QL,[Symbol.iterator]:jr[Symbol.iterator]};function qm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var n8={time:null,delay:0,duration:250,ease:qm};function s8(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function JL(e){var t,i;e instanceof zi?(t=e._id,e=e._name):(t=Xm(),(i=n8).time=Sh(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,r=0;r<s;++r)for(var o=n[r],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Po(l,e,t,c,o,i||s8(l,t));return new zi(n,this._parents,e,t)}Br.prototype.interrupt=EL;Br.prototype.transition=JL;var{abs:Gpe,max:Hpe,min:Upe}=Math;function eN(e){return[+e[0],+e[1]]}function r8(e){return[eN(e[0]),eN(e[1])]}var $pe={name:"x",handles:["w","e"].map(rC),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Wpe={name:"y",handles:["n","s"].map(rC),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Ype={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(rC),input:function(e){return e==null?null:r8(e)},output:function(e){return e}};function rC(e){return{type:e}}function ir(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oC(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qm(e){let t,i,n;e.length!==2?(t=ir,i=(a,l)=>ir(e(a),l),n=(a,l)=>e(a)-l):(t=e===ir||e===oC?e:a8,i=e,n=e);function s(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let d=c+u>>>1;i(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function r(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let d=c+u>>>1;i(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){let d=s(a,l,c,u-1);return d>c&&n(a[d-1],l)>-n(a[d],l)?d-1:d}return{left:s,center:o,right:r}}function a8(){return 0}function Ih(e){return e===null?NaN:+e}var tN=Qm(ir),iN=tN.right,l8=tN.left,c8=Qm(Ih).center,Ah=iN;var Kc=class extends Map{constructor(t,i=h8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(let[n,s]of t)this.set(n,s)}get(t){return super.get(nN(this,t))}has(t){return super.has(nN(this,t))}set(t,i){return super.set(u8(this,t),i)}delete(t){return super.delete(d8(this,t))}};function nN({_intern:e,_key:t},i){let n=t(i);return e.has(n)?e.get(n):i}function u8({_intern:e,_key:t},i){let n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function d8({_intern:e,_key:t},i){let n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function h8(e){return e!==null&&typeof e=="object"?e.valueOf():e}var p8=Math.sqrt(50),f8=Math.sqrt(10),g8=Math.sqrt(2);function Km(e,t,i){let n=(t-e)/Math.max(0,i),s=Math.floor(Math.log10(n)),r=n/Math.pow(10,s),o=r>=p8?10:r>=f8?5:r>=g8?2:1,a,l,c;return s<0?(c=Math.pow(10,-s)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,s)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=i&&i<2?Km(e,t,i*2):[a,l,c]}function Jm(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];let n=t<e,[s,r,o]=n?Km(t,e,i):Km(e,t,i);if(!(r>=s))return[];let a=r-s+1,l=new Array(a);if(n)if(o<0)for(let c=0;c<a;++c)l[c]=(r-c)/-o;else for(let c=0;c<a;++c)l[c]=(r-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(s+c)/-o;else for(let c=0;c<a;++c)l[c]=(s+c)*o;return l}function Eh(e,t,i){return t=+t,e=+e,i=+i,Km(e,t,i)[2]}function aC(e,t,i){t=+t,e=+e,i=+i;let n=t<e,s=n?Eh(t,e,i):Eh(e,t,i);return(n?-1:1)*(s<0?1/-s:s)}function ey(e,t){let i;if(t===void 0)for(let n of e)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}return i}function lC(e,t,i=Ih){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+i(e[0],0,e);if(t>=1)return+i(e[n-1],n-1,e);var n,s=(n-1)*t,r=Math.floor(s),o=+i(e[r],r,e),a=+i(e[r+1],r+1,e);return o+(a-o)*(s-r)}}function Jc(e,t,i){e=+e,t=+t,i=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+i;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/i))|0,r=new Array(s);++n<s;)r[n]=e+n*i;return r}function Fo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var cC=Symbol("implicit");function el(){var e=new Kc,t=[],i=[],n=cC;function s(r){let o=e.get(r);if(o===void 0){if(n!==cC)return n;e.set(r,o=t.push(r)-1)}return i[o%i.length]}return s.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Kc;for(let o of r)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(r){return arguments.length?(i=Array.from(r),s):i.slice()},s.unknown=function(r){return arguments.length?(n=r,s):n},s.copy=function(){return el(t,i).unknown(n)},Fo.apply(s,arguments),s}function eu(){var e=el().unknown(void 0),t=e.domain,i=e.range,n=0,s=1,r,o,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=s<n,f=p?s:n,g=p?n:s;r=(g-f)/Math.max(1,h-l+c*2),a&&(r=Math.floor(r)),f+=(g-f-r*(h-l))*u,o=r*(1-l),a&&(f=Math.round(f),o=Math.round(o));var y=Jc(h).map(function(x){return f+r*x});return i(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return r},e.round=function(h){return arguments.length?(a=!!h,d()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return eu(t(),[n,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},Fo.apply(d(),arguments)}function uC(e){return function(){return e}}function dC(e){return+e}var sN=[0,1];function tu(e){return e}function hC(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:uC(isNaN(t)?NaN:.5)}function y8(e,t){var i;return e>t&&(i=e,e=t,t=i),function(n){return Math.max(e,Math.min(t,n))}}function v8(e,t,i){var n=e[0],s=e[1],r=t[0],o=t[1];return s<n?(n=hC(s,n),r=i(o,r)):(n=hC(n,s),r=i(r,o)),function(a){return r(n(a))}}function x8(e,t,i){var n=Math.min(e.length,t.length)-1,s=new Array(n),r=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=hC(e[o],e[o+1]),r[o]=i(t[o],t[o+1]);return function(a){var l=Ah(e,a,1,n)-1;return r[l](s[l](a))}}function rN(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function b8(){var e=sN,t=sN,i=As,n,s,r,o=tu,a,l,c;function u(){var h=Math.min(e.length,t.length);return o!==tu&&(o=y8(e[0],e[h-1])),a=h>2?x8:v8,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?r:(l||(l=a(e.map(n),t,i)))(n(o(h)))}return d.invert=function(h){return o(s((c||(c=a(t,e.map(n),_i)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,dC),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),i=J_,u()},d.clamp=function(h){return arguments.length?(o=h?!0:tu,u()):o!==tu},d.interpolate=function(h){return arguments.length?(i=h,u()):i},d.unknown=function(h){return arguments.length?(r=h,d):r},function(h,p){return n=h,s=p,u()}}function pC(){return b8()(tu,tu)}function oN(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tl(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}function nr(e){return e=tl(Math.abs(e)),e?e[1]:NaN}function aN(e,t){return function(i,n){for(var s=i.length,r=[],o=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),r.push(i.substring(s-=a,s+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return r.reverse().join(t)}}function lN(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var _8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vo(e){if(!(t=_8.exec(e)))throw new Error("invalid format: "+e);var t;return new ty({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vo.prototype=ty.prototype;function ty(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ty.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cN(e){e:for(var t=e.length,i=1,n=-1,s;i<t;++i)switch(e[i]){case".":n=s=i;break;case"0":n===0&&(n=i),s=i;break;default:if(!+e[i])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var fC;function uN(e,t){var i=tl(e,t);if(!i)return e+"";var n=i[0],s=i[1],r=s-(fC=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return r===o?n:r>o?n+new Array(r-o+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+tl(e,Math.max(0,t+r-1))[0]}function gC(e,t){var i=tl(e,t);if(!i)return e+"";var n=i[0],s=i[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}var mC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oN,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gC(e*100,t),r:gC,s:uN,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yC(e){return e}var dN=Array.prototype.map,hN=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function pN(e){var t=e.grouping===void 0||e.thousands===void 0?yC:aN(dN.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?yC:lN(dN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Vo(d);var h=d.fill,p=d.align,f=d.sign,g=d.symbol,y=d.zero,x=d.width,v=d.comma,_=d.precision,C=d.trim,w=d.type;w==="n"?(v=!0,w="g"):mC[w]||(_===void 0&&(_=12),C=!0,w="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var D=g==="$"?i:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",M=g==="$"?n:/[%p]/.test(w)?o:"",I=mC[w],T=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function A(E){var P=D,N=M,j,ae,oe;if(w==="c")N=I(E)+N,E="";else{E=+E;var re=E<0||1/E<0;if(E=isNaN(E)?l:I(Math.abs(E),_),C&&(E=cN(E)),re&&+E==0&&f!=="+"&&(re=!1),P=(re?f==="("?f:a:f==="-"||f==="("?"":f)+P,N=(w==="s"?hN[8+fC/3]:"")+N+(re&&f==="("?")":""),T){for(j=-1,ae=E.length;++j<ae;)if(oe=E.charCodeAt(j),48>oe||oe>57){N=(oe===46?s+E.slice(j+1):E.slice(j))+N,E=E.slice(0,j);break}}}v&&!y&&(E=t(E,1/0));var ie=P.length+E.length+N.length,ne=ie<x?new Array(x-ie+1).join(h):"";switch(v&&y&&(E=t(ne+E,ne.length?x-N.length:1/0),ne=""),p){case"<":E=P+E+N+ne;break;case"=":E=P+ne+E+N;break;case"^":E=ne.slice(0,ie=ne.length>>1)+P+E+N+ne.slice(ie);break;default:E=ne+P+E+N;break}return r(E)}return A.toString=function(){return d+""},A}function u(d,h){var p=c((d=Vo(d),d.type="f",d)),f=Math.max(-8,Math.min(8,Math.floor(nr(h)/3)))*3,g=Math.pow(10,-f),y=hN[8+f/3];return function(x){return p(g*x)+y}}return{format:c,formatPrefix:u}}var iy,ny,sy;vC({thousands:",",grouping:[3],currency:["$",""]});function vC(e){return iy=pN(e),ny=iy.format,sy=iy.formatPrefix,iy}function xC(e){return Math.max(0,-nr(Math.abs(e)))}function bC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nr(t)/3)))*3-nr(Math.abs(e)))}function _C(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nr(t)-nr(e))+1}function CC(e,t,i,n){var s=aC(e,t,i),r;switch(n=Vo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(r=bC(s,o))&&(n.precision=r),sy(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(r=_C(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=r-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(r=xC(s))&&(n.precision=r-(n.type==="%")*2);break}}return ny(n)}function C8(e){var t=e.domain;return e.ticks=function(i){var n=t();return Jm(n[0],n[n.length-1],i??10)},e.tickFormat=function(i,n){var s=t();return CC(s[0],s[s.length-1],i??10,n)},e.nice=function(i){i==null&&(i=10);var n=t(),s=0,r=n.length-1,o=n[s],a=n[r],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=s,s=r,r=c);u-- >0;){if(c=Eh(o,a,i),c===l)return n[s]=o,n[r]=a,t(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function Bo(){var e=pC();return e.copy=function(){return rN(e,Bo())},Fo.apply(e,arguments),C8(e)}function kh(){var e=[],t=[],i=[],n;function s(){var o=0,a=Math.max(1,t.length);for(i=new Array(a-1);++o<a;)i[o-1]=lC(e,o/a);return r}function r(o){return o==null||isNaN(o=+o)?n:t[Ah(i,o)]}return r.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?i[a-1]:e[0],a<i.length?i[a]:e[e.length-1]]},r.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ir),s()},r.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},r.unknown=function(o){return arguments.length?(n=o,r):n},r.quantiles=function(){return i.slice()},r.copy=function(){return kh().domain(e).range(t).unknown(n)},Fo.apply(r,arguments)}function wi(e){return function(){return e}}var wC=Math.abs,Di=Math.atan2,jo=Math.cos,fN=Math.max,ry=Math.min,Es=Math.sin,il=Math.sqrt,Gi=1e-12,iu=Math.PI,Lh=iu/2,nu=2*iu;function gN(e){return e>1?0:e<-1?iu:Math.acos(e)}function DC(e){return e>=1?Lh:e<=-1?-Lh:Math.asin(e)}var SC=Math.PI,MC=2*SC,nl=1e-6,D8=MC-nl;function mN(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function S8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mN;let i=10**t;return function(n){this._+=n[0];for(let s=1,r=n.length;s<r;++s)this._+=Math.round(arguments[s]*i)/i+n[s]}}var sl=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mN:S8(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,s){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,i,n,s,r,o){this._append`C${+t},${+i},${+n},${+s},${this._x1=+r},${this._y1=+o}`}arcTo(t,i,n,s,r){if(t=+t,i=+i,n=+n,s=+s,r=+r,r<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,l=n-t,c=s-i,u=o-t,d=a-i,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(h>nl)if(!(Math.abs(d*l-c*u)>nl)||!r)this._append`L${this._x1=t},${this._y1=i}`;else{let p=n-o,f=s-a,g=l*l+c*c,y=p*p+f*f,x=Math.sqrt(g),v=Math.sqrt(h),_=r*Math.tan((SC-Math.acos((g+h-y)/(2*x*v)))/2),C=_/v,w=_/x;Math.abs(C-1)>nl&&this._append`L${t+C*u},${i+C*d}`,this._append`A${r},${r},0,0,${+(d*p>u*f)},${this._x1=t+w*l},${this._y1=i+w*c}`}}arc(t,i,n,s,r,o){if(t=+t,i=+i,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(s),l=n*Math.sin(s),c=t+a,u=i+l,d=1^o,h=o?s-r:r-s;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>nl||Math.abs(this._y1-u)>nl)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%MC+MC),h>D8?this._append`A${n},${n},0,1,${d},${t-a},${i-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>nl&&this._append`A${n},${n},0,${+(h>=SC)},${d},${this._x1=t+n*Math.cos(r)},${this._y1=i+n*Math.sin(r)}`)}rect(t,i,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}};function yN(){return new sl}yN.prototype=sl.prototype;function vN(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{let n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new sl(t)}function M8(e){return e.innerRadius}function T8(e){return e.outerRadius}function I8(e){return e.startAngle}function A8(e){return e.endAngle}function E8(e){return e&&e.padAngle}function k8(e,t,i,n,s,r,o,a){var l=i-e,c=n-t,u=o-s,d=a-r,h=d*l-u*c;if(!(h*h<Gi))return h=(u*(t-r)-d*(e-s))/h,[e+h*l,t+h*c]}function oy(e,t,i,n,s,r,o){var a=e-i,l=t-n,c=(o?r:-r)/il(a*a+l*l),u=c*l,d=-c*a,h=e+u,p=t+d,f=i+u,g=n+d,y=(h+f)/2,x=(p+g)/2,v=f-h,_=g-p,C=v*v+_*_,w=s-r,D=h*g-f*p,M=(_<0?-1:1)*il(fN(0,w*w*C-D*D)),I=(D*_-v*M)/C,T=(-D*v-_*M)/C,A=(D*_+v*M)/C,E=(-D*v+_*M)/C,P=I-y,N=T-x,j=A-y,ae=E-x;return P*P+N*N>j*j+ae*ae&&(I=A,T=E),{cx:I,cy:T,x01:-u,y01:-d,x11:I*(s/w-1),y11:T*(s/w-1)}}function Nh(){var e=M8,t=T8,i=wi(0),n=null,s=I8,r=A8,o=E8,a=null,l=vN(c);function c(){var u,d,h=+e.apply(this,arguments),p=+t.apply(this,arguments),f=s.apply(this,arguments)-Lh,g=r.apply(this,arguments)-Lh,y=wC(g-f),x=g>f;if(a||(a=u=l()),p<h&&(d=p,p=h,h=d),!(p>Gi))a.moveTo(0,0);else if(y>nu-Gi)a.moveTo(p*jo(f),p*Es(f)),a.arc(0,0,p,f,g,!x),h>Gi&&(a.moveTo(h*jo(g),h*Es(g)),a.arc(0,0,h,g,f,x));else{var v=f,_=g,C=f,w=g,D=y,M=y,I=o.apply(this,arguments)/2,T=I>Gi&&(n?+n.apply(this,arguments):il(h*h+p*p)),A=ry(wC(p-h)/2,+i.apply(this,arguments)),E=A,P=A,N,j;if(T>Gi){var ae=DC(T/h*Es(I)),oe=DC(T/p*Es(I));(D-=ae*2)>Gi?(ae*=x?1:-1,C+=ae,w-=ae):(D=0,C=w=(f+g)/2),(M-=oe*2)>Gi?(oe*=x?1:-1,v+=oe,_-=oe):(M=0,v=_=(f+g)/2)}var re=p*jo(v),ie=p*Es(v),ne=h*jo(w),Ue=h*Es(w);if(A>Gi){var we=p*jo(_),Pe=p*Es(_),le=h*jo(C),Z=h*Es(C),ue;if(y<iu)if(ue=k8(re,ie,le,Z,we,Pe,ne,Ue)){var B=re-ue[0],xe=ie-ue[1],Me=we-ue[0],de=Pe-ue[1],_e=1/Es(gN((B*Me+xe*de)/(il(B*B+xe*xe)*il(Me*Me+de*de)))/2),Ge=il(ue[0]*ue[0]+ue[1]*ue[1]);E=ry(A,(h-Ge)/(_e-1)),P=ry(A,(p-Ge)/(_e+1))}else E=P=0}M>Gi?P>Gi?(N=oy(le,Z,re,ie,p,P,x),j=oy(we,Pe,ne,Ue,p,P,x),a.moveTo(N.cx+N.x01,N.cy+N.y01),P<A?a.arc(N.cx,N.cy,P,Di(N.y01,N.x01),Di(j.y01,j.x01),!x):(a.arc(N.cx,N.cy,P,Di(N.y01,N.x01),Di(N.y11,N.x11),!x),a.arc(0,0,p,Di(N.cy+N.y11,N.cx+N.x11),Di(j.cy+j.y11,j.cx+j.x11),!x),a.arc(j.cx,j.cy,P,Di(j.y11,j.x11),Di(j.y01,j.x01),!x))):(a.moveTo(re,ie),a.arc(0,0,p,v,_,!x)):a.moveTo(re,ie),!(h>Gi)||!(D>Gi)?a.lineTo(ne,Ue):E>Gi?(N=oy(ne,Ue,we,Pe,h,-E,x),j=oy(re,ie,le,Z,h,-E,x),a.lineTo(N.cx+N.x01,N.cy+N.y01),E<A?a.arc(N.cx,N.cy,E,Di(N.y01,N.x01),Di(j.y01,j.x01),!x):(a.arc(N.cx,N.cy,E,Di(N.y01,N.x01),Di(N.y11,N.x11),!x),a.arc(0,0,h,Di(N.cy+N.y11,N.cx+N.x11),Di(j.cy+j.y11,j.cx+j.x11),x),a.arc(j.cx,j.cy,E,Di(j.y11,j.x11),Di(j.y01,j.x01),!x))):a.arc(0,0,h,w,C,x)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-iu/2;return[jo(d)*u,Es(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:wi(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:wi(+u),c):t},c.cornerRadius=function(u){return arguments.length?(i=typeof u=="function"?u:wi(+u),c):i},c.padRadius=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:wi(+u),c):n},c.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:wi(+u),c):s},c.endAngle=function(u){return arguments.length?(r=typeof u=="function"?u:wi(+u),c):r},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:wi(+u),c):o},c.context=function(u){return arguments.length?(a=u??null,c):a},c}var tme=Array.prototype.slice;function xN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bN(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function _N(e){return e}function TC(){var e=_N,t=bN,i=null,n=wi(0),s=wi(nu),r=wi(0);function o(a){var l,c=(a=xN(a)).length,u,d,h=0,p=new Array(c),f=new Array(c),g=+n.apply(this,arguments),y=Math.min(nu,Math.max(-nu,s.apply(this,arguments)-g)),x,v=Math.min(Math.abs(y)/c,r.apply(this,arguments)),_=v*(y<0?-1:1),C;for(l=0;l<c;++l)(C=f[p[l]=l]=+e(a[l],l,a))>0&&(h+=C);for(t!=null?p.sort(function(w,D){return t(f[w],f[D])}):i!=null&&p.sort(function(w,D){return i(a[w],a[D])}),l=0,d=h?(y-c*_)/h:0;l<c;++l,g=x)u=p[l],C=f[u],x=g+(C>0?C*d:0)+_,f[u]={data:a[u],index:l,value:C,startAngle:g,endAngle:x,padAngle:v};return f}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:wi(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,i=null,o):t},o.sort=function(a){return arguments.length?(i=a,t=null,o):i},o.startAngle=function(a){return arguments.length?(n=typeof a=="function"?a:wi(+a),o):n},o.endAngle=function(a){return arguments.length?(s=typeof a=="function"?a:wi(+a),o):s},o.padAngle=function(a){return arguments.length?(r=typeof a=="function"?a:wi(+a),o):r},o}var NN=BV(wN(),1);var V8=["caretElm"],B8=e=>({model:e});function j8(e,t){}function z8(e,t){if(e&1&&(O(0,"span"),be(1,j8,0,0,"ng-template",5),V()),e&2){let i=$();R(),G("ngTemplateOutlet",i.template)("ngTemplateOutletContext",GA(2,B8,i.context))}}function G8(e,t){if(e&1&&Ae(0,"span",6),e&2){let i=$();G("innerHTML",i.title,OI)}}function H8(e,t){if(e&1&&(O(0,"header",4)(1,"span",5),ge(2),V()()),e&2){let i=$();R(2),vi(i.title)}}function U8(e,t){if(e&1){let i=on();O(0,"li",6)(1,"ngx-charts-legend-entry",7),Be("select",function(s){lt(i);let r=$();return ct(r.labelClick.emit(s))})("activate",function(s){lt(i);let r=$();return ct(r.activate(s))})("deactivate",function(s){lt(i);let r=$();return ct(r.deactivate(s))}),V()()}if(e&2){let i=t.$implicit,n=$();R(),G("label",i.label)("formattedLabel",i.formattedLabel)("color",i.color)("isActive",n.isActive(i))}}var $8=["*"];function W8(e,t){if(e&1&&Ae(0,"ngx-charts-scale-legend",4),e&2){let i=$();G("horizontal",i.legendOptions&&i.legendOptions.position===i.LegendPosition.Below)("valueRange",i.legendOptions.domain)("colors",i.legendOptions.colors)("height",i.view[1])("width",i.legendWidth)}}function Y8(e,t){if(e&1){let i=on();O(0,"ngx-charts-legend",5),Be("labelClick",function(s){lt(i);let r=$();return ct(r.legendLabelClick.emit(s))})("labelActivate",function(s){lt(i);let r=$();return ct(r.legendLabelActivate.emit(s))})("labelDeactivate",function(s){lt(i);let r=$();return ct(r.legendLabelDeactivate.emit(s))}),V()}if(e&2){let i=$();G("horizontal",i.legendOptions&&i.legendOptions.position===i.LegendPosition.Below)("data",i.legendOptions.domain)("title",i.legendOptions.title)("colors",i.legendOptions.colors)("height",i.view[1])("width",i.legendWidth)("activeEntries",i.activeEntries)}}var Z8=["ngx-charts-axis-label",""],ON=["ticksel"],X8=["ngx-charts-x-axis-ticks",""];function q8(e,t){e&1&&(ce(),Og(0))}function Q8(e,t){if(e&1&&(ce(),O(0,"tspan",10),ge(1),V()),e&2){let i=t.$implicit,n=t.index;Fe("y",n*12),R(),xi(" ",i," ")}}function K8(e,t){if(e&1&&(ce(),Co(0),be(1,Q8,2,2,"tspan",9),wo()),e&2){let i=t.ngIf;R(),G("ngForOf",i)}}function J8(e,t){if(e&1&&be(0,K8,2,1,"ng-container",6),e&2){let i=$(2).$implicit,n=$();G("ngIf",n.tickChunks(i))}}function e6(e,t){if(e&1&&ge(0),e&2){let i=$().ngIf,n=$(2);xi(" ",n.tickTrim(i)," ")}}function t6(e,t){if(e&1&&(ce(),Co(0),O(1,"title"),ge(2),V(),O(3,"text",7),be(4,q8,1,0,"ng-container",8),V(),be(5,J8,1,1,"ng-template",null,1,Dd)(7,e6,1,1,"ng-template",null,2,Dd),wo()),e&2){let i=t.ngIf,n=Do(6),s=Do(8),r=$(2);R(2),vi(i),R(),Fe("text-anchor",r.textAnchor)("transform",r.textTransform),R(),G("ngIf",r.isWrapTicksSupported)("ngIfThen",n)("ngIfElse",s)}}function i6(e,t){if(e&1&&(ce(),O(0,"g",5),be(1,t6,9,6,"ng-container",6),V()),e&2){let i=t.$implicit,n=$();Fe("transform",n.tickTransform(i)),R(),G("ngIf",n.tickFormat(i))}}function n6(e,t){if(e&1&&(ce(),O(0,"g"),Ae(1,"line",11),V()),e&2){let i=$(2);Fe("transform",i.gridLineTransform()),R(),Fe("y1",-i.gridLineHeight)}}function s6(e,t){if(e&1&&(ce(),O(0,"g"),be(1,n6,2,2,"g",6),V()),e&2){let i=t.$implicit,n=$();Fe("transform",n.tickTransform(i)),R(),G("ngIf",n.showGridLines)}}var r6=["ngx-charts-x-axis",""];function o6(e,t){if(e&1){let i=on();ce(),O(0,"g",2),Be("dimensionsChanged",function(s){lt(i);let r=$();return ct(r.emitTicksHeight(s))}),V()}if(e&2){let i=$();G("trimTicks",i.trimTicks)("rotateTicks",i.rotateTicks)("maxTickLength",i.maxTickLength)("tickFormatting",i.tickFormatting)("tickArguments",i.tickArguments)("tickStroke",i.tickStroke)("scale",i.xScale)("orient",i.xOrient)("showGridLines",i.showGridLines)("gridLineHeight",i.dims.height)("width",i.dims.width)("tickValues",i.ticks)("wrapTicks",i.wrapTicks)}}function a6(e,t){if(e&1&&(ce(),Ae(0,"g",3)),e&2){let i=$();G("label",i.labelText)("offset",i.labelOffset)("orient",i.orientation.Bottom)("height",i.dims.height)("width",i.dims.width)}}var l6=["ngx-charts-y-axis-ticks",""];function c6(e,t){e&1&&(ce(),Og(0))}function u6(e,t){if(e&1&&(ce(),O(0,"tspan",12),ge(1),V()),e&2){let i=t.$implicit,n=t.index,s=$(6);Fe("y",n*(8+s.tickSpacing)),R(),xi(" ",i," ")}}function d6(e,t){if(e&1&&(ce(),Co(0),be(1,u6,2,2,"tspan",11),wo()),e&2){let i=$().ngIf;R(),G("ngForOf",i)}}function h6(e,t){if(e&1&&(ce(),Co(0),be(1,d6,2,1,"ng-container",10),wo()),e&2){let i=t.ngIf;$(2);let n=Do(8);R(),G("ngIf",i.length>1)("ngIfElse",n)}}function p6(e,t){if(e&1&&be(0,h6,2,2,"ng-container",7),e&2){let i=$(2).$implicit,n=$();G("ngIf",n.tickChunks(i))}}function f6(e,t){if(e&1&&ge(0),e&2){let i=$().ngIf,n=$(2);xi(" ",n.tickTrim(i)," ")}}function g6(e,t){if(e&1&&(ce(),Co(0),O(1,"title"),ge(2),V(),O(3,"text",8),be(4,c6,1,0,"ng-container",9),V(),be(5,p6,1,1,"ng-template",null,1,Dd)(7,f6,1,1,"ng-template",null,2,Dd),wo()),e&2){let i=t.ngIf,n=Do(6),s=Do(8),r=$(2);R(2),vi(i),R(),ji("font-size","12px"),Fe("dy",r.dy)("x",r.x1)("y",r.y1)("text-anchor",r.textAnchor),R(),G("ngIf",r.wrapTicks)("ngIfThen",n)("ngIfElse",s)}}function m6(e,t){if(e&1&&(ce(),O(0,"g",6),be(1,g6,9,10,"ng-container",7),V()),e&2){let i=t.$implicit,n=$();Fe("transform",n.transform(i)),R(),G("ngIf",n.tickFormat(i))}}function y6(e,t){if(e&1&&(ce(),Ae(0,"path",13)),e&2){let i=$();Fe("d",i.referenceAreaPath)("transform",i.gridLineTransform())}}function v6(e,t){if(e&1&&(ce(),Ae(0,"line",15)),e&2){let i=$(3);Fe("x2",i.gridLineWidth)}}function x6(e,t){if(e&1&&(ce(),Ae(0,"line",15)),e&2){let i=$(3);Fe("x2",-i.gridLineWidth)}}function b6(e,t){if(e&1&&(ce(),O(0,"g"),be(1,v6,1,1,"line",14)(2,x6,1,1,"line",14),V()),e&2){let i=$(2);Fe("transform",i.gridLineTransform()),R(),G("ngIf",i.orient===i.Orientation.Left),R(),G("ngIf",i.orient===i.Orientation.Right)}}function _6(e,t){if(e&1&&(ce(),O(0,"g"),be(1,b6,3,3,"g",7),V()),e&2){let i=t.$implicit,n=$();Fe("transform",n.transform(i)),R(),G("ngIf",n.showGridLines)}}function C6(e,t){if(e&1&&(ce(),O(0,"g")(1,"title"),ge(2),V(),O(3,"text",17),ge(4),V()()),e&2){let i=$(2).$implicit,n=$();R(2),vi(n.tickTrim(n.tickFormat(i.value))),R(),Fe("dy",n.dy)("y",-6)("x",n.gridLineWidth)("text-anchor",n.textAnchor),R(),xi(" ",i.name," ")}}function w6(e,t){if(e&1&&(ce(),O(0,"g"),Ae(1,"line",16),be(2,C6,5,6,"g",7),V()),e&2){let i=$().$implicit,n=$();Fe("transform",n.transform(i.value)),R(),Fe("x2",n.gridLineWidth)("transform",n.gridLineTransform()),R(),G("ngIf",n.showRefLabels)}}function D6(e,t){if(e&1&&(ce(),O(0,"g"),be(1,w6,3,4,"g",7),V()),e&2){let i=$();R(),G("ngIf",i.showRefLines)}}var S6=["ngx-charts-y-axis",""];function M6(e,t){if(e&1){let i=on();ce(),O(0,"g",2),Be("dimensionsChanged",function(s){lt(i);let r=$();return ct(r.emitTicksWidth(s))}),V()}if(e&2){let i=$();G("trimTicks",i.trimTicks)("maxTickLength",i.maxTickLength)("tickFormatting",i.tickFormatting)("tickArguments",i.tickArguments)("tickValues",i.ticks)("tickStroke",i.tickStroke)("scale",i.yScale)("orient",i.yOrient)("showGridLines",i.showGridLines)("gridLineWidth",i.dims.width)("referenceLines",i.referenceLines)("showRefLines",i.showRefLines)("showRefLabels",i.showRefLabels)("height",i.dims.height)("wrapTicks",i.wrapTicks)}}function T6(e,t){if(e&1&&(ce(),Ae(0,"g",3)),e&2){let i=$();G("label",i.labelText)("offset",i.labelOffset)("orient",i.yOrient)("height",i.dims.height)("width",i.dims.width)}}var I6=["ngx-charts-svg-linear-gradient",""];function A6(e,t){if(e&1&&(ce(),Ae(0,"stop")),e&2){let i=t.$implicit;ji("stop-color",i.color)("stop-opacity",i.opacity),Fe("offset",i.offset+"%")}}var E6=["ngx-charts-svg-radial-gradient",""];function k6(e,t){if(e&1&&(ce(),Ae(0,"stop")),e&2){let i=t.$implicit;ji("stop-color",i.color)("stop-opacity",i.opacity),Fe("offset",i.offset+"%")}}var RN=["tooltipTemplate"];var PN=(e,t)=>[e,t];var FN=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var L6=["ngx-charts-bar",""];function N6(e,t){if(e&1&&(ce(),O(0,"defs"),Ae(1,"g",2),V()),e&2){let i=$();R(),G("orientation",i.orientation)("name",i.gradientId)("stops",i.gradientStops)}}var O6=["ngx-charts-bar-label",""];var R6=["ngx-charts-series-vertical",""];function P6(e,t){if(e&1){let i=on();ce(),O(0,"g",2),Be("select",function(s){lt(i);let r=$(2);return ct(r.onClick(s))})("activate",function(s){lt(i);let r=$(2);return ct(r.activate.emit(s))})("deactivate",function(s){lt(i);let r=$(2);return ct(r.deactivate.emit(s))}),V()}if(e&2){let i=t.$implicit,n=$(2);G("@animationState","active")("@.disabled",!n.animations)("width",i.width)("height",i.height)("x",i.x)("y",i.y)("fill",i.color)("stops",i.gradientStops)("data",i.data)("orientation",n.barOrientation.Vertical)("roundEdges",i.roundEdges)("gradient",n.gradient)("ariaLabel",i.ariaLabel)("isActive",n.isActive(i.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:i.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",i.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function F6(e,t){if(e&1&&(ce(),O(0,"g"),be(1,P6,1,22,"g",1),V()),e&2){let i=$();R(),G("ngForOf",i.bars)("ngForTrackBy",i.trackBy)}}function V6(e,t){if(e&1){let i=on();ce(),O(0,"g",2),Be("select",function(s){lt(i);let r=$(2);return ct(r.onClick(s))})("activate",function(s){lt(i);let r=$(2);return ct(r.activate.emit(s))})("deactivate",function(s){lt(i);let r=$(2);return ct(r.deactivate.emit(s))}),V()}if(e&2){let i=t.$implicit,n=$(2);G("width",i.width)("height",i.height)("x",i.x)("y",i.y)("fill",i.color)("stops",i.gradientStops)("data",i.data)("orientation",n.barOrientation.Vertical)("roundEdges",i.roundEdges)("gradient",n.gradient)("ariaLabel",i.ariaLabel)("isActive",n.isActive(i.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:i.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",i.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function B6(e,t){if(e&1&&(ce(),O(0,"g"),be(1,V6,1,20,"g",1),V()),e&2){let i=$();R(),G("ngForOf",i.bars)("ngForTrackBy",i.trackBy)}}function j6(e,t){if(e&1){let i=on();ce(),O(0,"g",4),Be("dimensionsChanged",function(s){let r=lt(i).index,o=$(2);return ct(o.dataLabelHeightChanged.emit({size:s,index:r}))}),V()}if(e&2){let i=t.$implicit,n=$(2);G("barX",i.x)("barY",i.y)("barWidth",i.width)("barHeight",i.height)("value",i.total)("valueFormatting",n.dataLabelFormatting)("orientation",n.barOrientation.Vertical)}}function z6(e,t){if(e&1&&(ce(),O(0,"g"),be(1,j6,1,7,"g",3),V()),e&2){let i=$();R(),G("ngForOf",i.barsForDataLabels)("ngForTrackBy",i.trackDataLabelBy)}}function G6(e,t){if(e&1){let i=on();ce(),O(0,"g",5),Be("dimensionsChanged",function(s){lt(i);let r=$();return ct(r.updateXAxisHeight(s))}),V()}if(e&2){let i=$();G("xScale",i.xScale)("dims",i.dims)("showGridLines",i.showGridLines)("showLabel",i.showXAxisLabel)("labelText",i.xAxisLabel)("trimTicks",i.trimXAxisTicks)("rotateTicks",i.rotateXAxisTicks)("maxTickLength",i.maxXAxisTickLength)("tickFormatting",i.xAxisTickFormatting)("ticks",i.xAxisTicks)("xAxisOffset",i.dataLabelMaxHeight.negative)("wrapTicks",i.wrapTicks)}}function H6(e,t){if(e&1){let i=on();ce(),O(0,"g",6),Be("dimensionsChanged",function(s){lt(i);let r=$();return ct(r.updateYAxisWidth(s))}),V()}if(e&2){let i=$();G("yScale",i.yScale)("dims",i.dims)("showGridLines",i.showGridLines)("showLabel",i.showYAxisLabel)("labelText",i.yAxisLabel)("trimTicks",i.trimYAxisTicks)("maxTickLength",i.maxYAxisTickLength)("tickFormatting",i.yAxisTickFormatting)("ticks",i.yAxisTicks)("wrapTicks",i.wrapTicks)}}var U6=["ngx-charts-pie-label",""];var $6=["ngx-charts-pie-arc",""];function W6(e,t){if(e&1&&(ce(),O(0,"defs"),Ae(1,"g",3),V()),e&2){let i=$();R(),G("color",i.fill)("name",i.radialGradientId)("startOpacity",i.startOpacity)}}var Y6=["ngx-charts-pie-series",""];function Z6(e,t){if(e&1&&(ce(),Ae(0,"g",3)),e&2){let i=$().$implicit,n=$();G("data",i)("radius",n.outerRadius)("color",n.color(i))("label",n.labelText(i))("labelTrim",n.trimLabels)("labelTrimSize",n.maxLabelLength)("max",n.max)("value",i.value)("explodeSlices",n.explodeSlices)("animations",n.animations)}}function X6(e,t){if(e&1){let i=on();ce(),O(0,"g"),be(1,Z6,1,10,"g",1),O(2,"g",2),Be("select",function(s){lt(i);let r=$();return ct(r.onClick(s))})("activate",function(s){lt(i);let r=$();return ct(r.activate.emit(s))})("deactivate",function(s){lt(i);let r=$();return ct(r.deactivate.emit(s))})("dblclick",function(s){lt(i);let r=$();return ct(r.dblclick.emit(s))}),V()()}if(e&2){let i=t.$implicit,n=$();R(),G("ngIf",n.labelVisible(i)),R(),G("startAngle",i.startAngle)("endAngle",i.endAngle)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("fill",n.color(i))("value",i.data.value)("gradient",n.gradient)("data",i.data)("max",n.max)("explodeSlices",n.explodeSlices)("isActive",n.isActive(i.data))("animate",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Top)("tooltipType",n.styleTypes.tooltip)("tooltipTitle",n.getTooltipTitle(i))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",i.data)}}var q6=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function Q6(e,t,i){i=i||{};let n,s,r,o=null,a=0;function l(){a=i.leading===!1?0:+new Date,o=null,r=e.apply(n,s)}return function(){let c=+new Date;!a&&i.leading===!1&&(a=c);let u=t-(c-a);return n=this,s=arguments,u<=0?(clearTimeout(o),o=null,a=c,r=e.apply(n,s)):!o&&i.trailing!==!1&&(o=setTimeout(l,u)),r}}function K6(e,t){return function(n,s,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:r.enumerable,value:Q6(r.value,e,t)}),this[s]}}}}var je=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(je||{}),Ho=7;function DN(e,t,i){if(i===je.Top)return e.top-Ho;if(i===je.Bottom)return e.top+e.height-t.height+Ho;if(i===je.Center)return e.top+e.height/2-t.height/2}function SN(e,t,i){if(i===je.Left)return e.left-Ho;if(i===je.Right)return e.left+e.width-t.width+Ho;if(i===je.Center)return e.left+e.width/2-t.width/2}var Rh=class e{static calculateVerticalAlignment(t,i,n){let s=DN(t,i,n);return s+i.height>window.innerHeight&&(s=window.innerHeight-i.height),s}static calculateVerticalCaret(t,i,n,s){let r;s===je.Top&&(r=t.height/2-n.height/2+Ho),s===je.Bottom&&(r=i.height-t.height/2-n.height/2-Ho),s===je.Center&&(r=i.height/2-n.height/2);let o=DN(t,i,s);return o+i.height>window.innerHeight&&(r+=o+i.height-window.innerHeight),r}static calculateHorizontalAlignment(t,i,n){let s=SN(t,i,n);return s+i.width>window.innerWidth&&(s=window.innerWidth-i.width),s}static calculateHorizontalCaret(t,i,n,s){let r;s===je.Left&&(r=t.width/2-n.width/2+Ho),s===je.Right&&(r=i.width-t.width/2-n.width/2-Ho),s===je.Center&&(r=i.width/2-n.width/2);let o=SN(t,i,s);return o+i.width>window.innerWidth&&(r+=o+i.width-window.innerWidth),r}static shouldFlip(t,i,n,s){let r=!1;return n===je.Right&&t.left+t.width+i.width+s>window.innerWidth&&(r=!0),n===je.Left&&t.left-i.width-s<0&&(r=!0),n===je.Top&&t.top-i.height-s<0&&(r=!0),n===je.Bottom&&t.top+t.height+i.height+s>window.innerHeight&&(r=!0),r}static positionCaret(t,i,n,s,r){let o=0,a=0;return t===je.Right?(a=-7,o=e.calculateVerticalCaret(n,i,s,r)):t===je.Left?(a=i.width,o=e.calculateVerticalCaret(n,i,s,r)):t===je.Top?(o=i.height,a=e.calculateHorizontalCaret(n,i,s,r)):t===je.Bottom&&(o=-7,a=e.calculateHorizontalCaret(n,i,s,r)),{top:o,left:a}}static positionContent(t,i,n,s,r){let o=0,a=0;return t===je.Right?(a=n.left+n.width+s,o=e.calculateVerticalAlignment(n,i,r)):t===je.Left?(a=n.left-i.width-s,o=e.calculateVerticalAlignment(n,i,r)):t===je.Top?(o=n.top-i.height-s,a=e.calculateHorizontalAlignment(n,i,r)):t===je.Bottom&&(o=n.top+n.height+s,a=e.calculateHorizontalAlignment(n,i,r)),{top:o,left:a}}static determinePlacement(t,i,n,s){if(e.shouldFlip(n,i,t,s)){if(t===je.Right)return je.Left;if(t===je.Left)return je.Right;if(t===je.Top)return je.Bottom;if(t===je.Bottom)return je.Top}return t}},J6=(()=>{class e{constructor(i,n,s){this.element=i,this.renderer=n,this.platformId=s}get cssClasses(){let i="ngx-charts-tooltip-content";return i+=` position-${this.placement}`,i+=` type-${this.type}`,i+=` ${this.cssClass}`,i}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Io(this.platformId))return;let i=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;let s=i.getBoundingClientRect();this.checkFlip(n,s),this.positionContent(i,n,s),this.showCaret&&this.positionCaret(n,s),setTimeout(()=>this.renderer.addClass(i,"animate"),1)}positionContent(i,n,s){let{top:r,left:o}=Rh.positionContent(this.placement,s,n,this.spacing,this.alignment);this.renderer.setStyle(i,"top",`${r}px`),this.renderer.setStyle(i,"left",`${o}px`)}positionCaret(i,n){let s=this.caretElm.nativeElement,r=s.getBoundingClientRect(),{top:o,left:a}=Rh.positionCaret(this.placement,n,i,r,this.alignment);this.renderer.setStyle(s,"top",`${o}px`),this.renderer.setStyle(s,"left",`${a}px`)}checkFlip(i,n){this.placement=Rh.determinePlacement(this.placement,n,i,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(i){return new(i||e)(W(vt),W(zn),W(yi))},e.\u0275cmp=ve({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(i,n){if(i&1&&Dc(V8,5),i&2){let s;Zs(s=Xs())&&(n.caretElm=s.first)}},hostVars:2,hostBindings:function(i,n){i&1&&Be("resize",function(){return n.onWindowResize()},!1,PI),i&2&&AA(n.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(i,n){i&1&&(O(0,"div"),Ae(1,"span",1,0),O(3,"div",2),be(4,z8,2,4,"span",3)(5,G8,1,1,"span",4),V()()),i&2&&(R(),FA("tooltip-caret position-",n.placement,""),G("hidden",!n.showCaret),R(3),G("ngIf",!n.title),R(),G("ngIf",n.title))},dependencies:[Wt,hE],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),tM([K6(100)],e.prototype,"onWindowResize",null),e})(),IC=class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,i){i=this.assignDefaults(i);let n=this.injectComponent(t,i);return this.register(t,n),n}destroy(t){let i=this.components.get(t.componentType);if(i&&i.length){let n=i.indexOf(t);n>-1&&(i[n].destroy(),i.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){let i=this.components.get(t);if(i&&i.length){let n=i.length-1;for(;n>=0;)this.destroy(i[n--])}}injectComponent(t,i){return this.injectionService.appendComponent(t,i)}assignDefaults(t){let i=S({},this.defaults.inputs),n=S({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),i&&(t.inputs=S(S({},i),t.inputs)),n&&(t.outputs=S(S({},n),t.outputs)),t}register(t,i){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(i)}};function e9(e){return e.element}var VN=(()=>{class e{constructor(i,n,s){this.applicationRef=i,this.componentFactoryResolver=n,this.injector=s}static setGlobalRootViewContainer(i){e.globalRootViewContainer=i}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(i){this._container=i}getComponentRootNode(i){return e9(i)?i.element.nativeElement:i.hostView&&i.hostView.rootNodes.length>0?i.hostView.rootNodes[0]:i.location.nativeElement}getRootViewContainerNode(i){return this.getComponentRootNode(i)}projectComponentBindings(i,n){if(n){if(n.inputs!==void 0){let s=Object.getOwnPropertyNames(n.inputs);for(let r of s)i.instance[r]=n.inputs[r]}if(n.outputs!==void 0){let s=Object.getOwnPropertyNames(n.outputs);for(let r of s)i.instance[r]=n.outputs[r]}}return i}appendComponent(i,n={},s){s||(s=this.getRootViewContainer());let r=this.getComponentRootNode(s),o=new Sm(r,this.componentFactoryResolver,this.applicationRef,this.injector),a=new ch(i),l=o.attach(a);return this.projectComponentBindings(l,n),l}}return e.globalRootViewContainer=null,e.\u0275fac=function(i){return new(i||e)(ee(qs),ee(vo),ee(ni))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),EC=(()=>{class e extends IC{constructor(i){super(i),this.type=J6}}return e.\u0275fac=function(i){return new(i||e)(ee(VN))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Uo=function(e){return e.Right="right",e.Below="below",e}(Uo||{}),Oh=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Oh||{}),rt=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(rt||{}),t9=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(i){let n=this.gradientString(this.colors.range(),this.colors.domain()),s=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${s}, ${n})`}gradientString(i,n){n.push(1);let s=[];return i.reverse().forEach((r,o)=>{s.push(`${r} ${Math.round(n[o]*100)}%`)}),s.join(", ")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[at],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(i,n){i&1&&(O(0,"div",0)(1,"div",1)(2,"span"),ge(3),V()(),Ae(4,"div",2),O(5,"div",1)(6,"span"),ge(7),V()()()),i&2&&(ji("height",n.horizontal?void 0:n.height,"px")("width",n.width,"px"),Gn("horizontal-legend",n.horizontal),R(3),vi(n.valueRange[1].toLocaleString()),R(),ji("background",n.gradient),R(3),vi(n.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),e})();function Ph(e){return e instanceof Date?e=e.toLocaleDateString():e=e.toLocaleString(),e}function BN(e){return e.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[t])}var i9=(()=>{class e{constructor(){this.isActive=!1,this.select=new K,this.activate=new K,this.deactivate=new K,this.toggle=new K}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(i,n){i&1&&Be("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(i,n){i&1&&(O(0,"span",0),Be("click",function(){return n.select.emit(n.formattedLabel)}),O(1,"span",1),Be("click",function(){return n.toggle.emit(n.formattedLabel)}),V(),O(2,"span",2),ge(3),V()()),i&2&&(Gn("active",n.isActive),G("title",n.formattedLabel),R(),ji("background-color",n.color),R(2),xi(" ",n.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),n9=(()=>{class e{constructor(i){this.cd=i,this.horizontal=!1,this.labelClick=new K,this.labelActivate=new K,this.labelDeactivate=new K,this.legendEntries=[]}ngOnChanges(i){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let i=[];for(let n of this.data){let s=Ph(n);i.findIndex(o=>o.label===s)===-1&&i.push({label:n,formattedLabel:s,color:this.colors.getColor(n)})}return i}isActive(i){return this.activeEntries?this.activeEntries.find(s=>i.label===s.name)!==void 0:!1}activate(i){this.labelActivate.emit(i)}deactivate(i){this.labelDeactivate.emit(i)}trackBy(i,n){return n.label}}return e.\u0275fac=function(i){return new(i||e)(W(Hn))},e.\u0275cmp=ve({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[at],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(i,n){i&1&&(O(0,"div"),be(1,H8,3,1,"header",0),O(2,"div",1)(3,"ul",2),be(4,U8,2,4,"li",3),V()()()),i&2&&(ji("width",n.width,"px"),R(),G("ngIf",(n.title==null?null:n.title.length)>0),R(2),ji("max-height",n.height-45,"px"),Gn("horizontal-legend",n.horizontal),R(),G("ngForOf",n.legendEntries)("ngForTrackBy",n.trackBy))},dependencies:[i9,Wt,Ks],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),e})(),jN=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new K,this.legendLabelActivate=new K,this.legendLabelDeactivate=new K,this.LegendPosition=Uo,this.LegendType=Oh}ngOnChanges(i){this.update()}update(){let i=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Uo.Right)&&(this.legendType===Oh.ScaleLegend?i=1:i=2));let n=12-i;this.chartWidth=Math.floor(this.view[0]*n/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===Uo.Right?Math.floor(this.view[0]*i/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===rt.Linear?Oh.ScaleLegend:Oh.Legend}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Ga([EC]),at],ngContentSelectors:$8,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(i,n){i&1&&(BA(),O(0,"div",0),ce(),O(1,"svg",1),jA(2),V(),be(3,W8,1,5,"ngx-charts-scale-legend",2)(4,Y8,1,7,"ngx-charts-legend",3),V()),i&2&&(ji("width",n.view[0],"px")("height",n.view[1],"px"),R(),Fe("width",n.chartWidth)("height",n.view[1]),R(2),G("ngIf",n.showLegend&&n.legendType===n.LegendType.ScaleLegend),R(),G("ngIf",n.showLegend&&n.legendType===n.LegendType.Legend))},dependencies:[t9,n9,Wt],encapsulation:2,changeDetection:0}),e})(),s9=(()=>{class e{constructor(i,n){this.element=i,this.zone=n,this.visible=new K,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let i=()=>{if(!this.element)return;let{offsetHeight:n,offsetWidth:s}=this.element.nativeElement;n&&s?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>i(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>i())})}}return e.\u0275fac=function(i){return new(i||e)(W(vt),W(We))},e.\u0275dir=Tt({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function MN(e){return toString.call(e)==="[object Date]"}var zN=(()=>{class e{constructor(i,n,s,r){this.chartElement=i,this.zone=n,this.cd=s,this.platformId=r,this.scheme="cool",this.schemeType=rt.Ordinal,this.animations=!0,this.select=new K}ngOnInit(){Ao(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new s9(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(i){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let i=this.getContainerDims();i&&(this.width=i.width,this.height=i.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let i,n,s=this.chartElement.nativeElement;if(Io(this.platformId)&&s.parentNode!==null){let r=s.parentNode.getBoundingClientRect();i=r.width,n=r.height}return i&&n?{width:i,height:n}:null}formatDates(){for(let i=0;i<this.results.length;i++){let n=this.results[i];if(n.label=n.name,MN(n.label)&&(n.label=n.label.toLocaleDateString()),n.series)for(let s=0;s<n.series.length;s++){let r=n.series[s];r.label=r.name,MN(r.label)&&(r.label=r.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Io(this.platformId))return;let n=nd(window,"resize").pipe(tc(200)).subscribe(s=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=n}cloneData(i){let n=[];for(let s of i){let r={};if(s.name!==void 0&&(r.name=s.name),s.value!==void 0&&(r.value=s.value),s.series!==void 0){r.series=[];for(let o of s.series){let a=Object.assign({},o);r.series.push(a)}}s.extra!==void 0&&(r.extra=JSON.parse(JSON.stringify(s.extra))),s.source!==void 0&&(r.source=s.source),s.target!==void 0&&(r.target=s.target),n.push(r)}return n}}return e.\u0275fac=function(i){return new(i||e)(W(vt),W(We),W(Hn),W(yi))},e.\u0275cmp=ve({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[at],decls:1,vars:0,template:function(i,n){i&1&&Ae(0,"div")},encapsulation:2}),e})(),Si=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(Si||{}),GN=(()=>{class e{constructor(i){this.textHeight=25,this.margin=5,this.element=i.nativeElement}ngOnChanges(i){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Si.Top:this.y=this.offset,this.x=this.width/2;break;case Si.Bottom:this.y=this.offset,this.x=this.width/2;break;case Si.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Si.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}}return e.\u0275fac=function(i){return new(i||e)(W(vt))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[at],attrs:Z8,decls:2,vars:6,template:function(i,n){i&1&&(ce(),O(0,"text"),ge(1),V()),i&2&&(Fe("stroke-width",n.strokeWidth)("x",n.x)("y",n.y)("text-anchor",n.textAnchor)("transform",n.transform),R(),xi(" ",n.label," "))},encapsulation:2,changeDetection:0}),e})();function kC(e,t=16){return typeof e!="string"?typeof e=="number"?e+"":"":(e=e.trim(),e.length<=t?e:`${e.slice(0,t)}...`)}function HN(e,t){if(e.length>t){let i=[],n=Math.floor(e.length/t);for(let s=0;s<e.length;s++)s%n===0&&i.push(e[s]);e=i}return e}function UN(e,t,i){let n=(e||"").toString(),s=[];if(/\s/.test(n))s=n.split(/\s+/).reduce((r,o)=>{let a=(r.pop()||"")+" ";return a.length+o.length>t?[...r,a.trim(),o.trim()]:[...r,a+o]},[]);else{let r=0;for(;r<n.length;)s.push(n.substring(r,r+t)),r+=t}return s.length>i&&(s=s.splice(0,i),s[s.length-1]+="..."),s}var ks=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(ks||{}),TN=(()=>{class e{constructor(i){this.platformId=i,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new K,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=ks.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(i){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Io(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let i=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);i!==this.height&&(this.height=i,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let i=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:i.tickFormat?this.tickFormat=i.tickFormat.apply(i,this.tickArguments):this.tickFormat=function(s){return s.constructor.name==="Date"?s.toLocaleDateString():s.toLocaleString()};let n=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(s){return this.scale(s)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",n&&n!==0?(this.textTransform=`rotate(${n})`,this.textAnchor=ks.End,this.verticalSpacing=10):this.textAnchor=ks.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(i){let n=0;this.maxTicksLength=0;for(let d=0;d<i.length;d++){let h=this.tickFormat(i[d]).toString(),p=h.length;this.trimTicks&&(p=this.tickTrim(h).length),p>this.maxTicksLength&&(this.maxTicksLength=p)}let s=Math.min(this.maxTicksLength,this.maxAllowedLength),r=7,o=s*r,a=o,l=Math.floor(this.width/i.length);for(;a>l&&n>-90;)n-=30,a=Math.cos(n*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){let d=this.ticks.reduce((p,f)=>f.length>p.length?f:p,"");c=14*(this.tickChunks(d).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(d)}let u=n!==0?Math.max(Math.abs(Math.sin(n*Math.PI/180))*this.maxTickLength*r,10):c;return this.approxHeight=Math.min(u,200),n}getTicks(){let i,n=this.getMaxTicks(20),s=this.getMaxTicks(100);return this.tickValues?i=this.tickValues:this.scale.ticks?i=this.scale.ticks.apply(this.scale,[s]):(i=this.scale.domain(),i=HN(i,n)),i}getMaxTicks(i){return Math.floor(this.width/i)}tickTransform(i){return"translate("+this.adjustedScale(i)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(i){return this.trimTicks?kC(i,this.maxTickLength):i}getMaxPossibleLengthForTick(i){if(this.scale.bandwidth){let s=Math.floor(this.scale.bandwidth()/7),r=i.slice(0,s);return Math.max(r.length,this.maxTickLength)}return this.maxTickLength}tickChunks(i){if(i.toString().length>this.maxTickLength&&this.scale.bandwidth){let s=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(s<=1)return[this.tickTrim(i)];let r=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Io(this.platformId)||(r=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),s=Math.min(s,5),UN(i,r,s<1?1:s)}return[this.tickTrim(i)]}}return e.\u0275fac=function(i){return new(i||e)(W(yi))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(i,n){if(i&1&&Dc(ON,5),i&2){let s;Zs(s=Xs())&&(n.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[at],attrs:X8,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(i,n){i&1&&(ce(),O(0,"g",null,0),be(2,i6,2,2,"g",3),V(),be(3,s6,2,2,"g",4)),i&2&&(R(2),G("ngForOf",n.ticks),R(),G("ngForOf",n.ticks))},dependencies:[Ks,Wt],encapsulation:2,changeDetection:0}),e})(),r9=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Si.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new K,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Si}ngOnChanges(i){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:i}){let n=i+25+5;n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({height:i})},0))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(i,n){if(i&1&&Dc(TN,5),i&2){let s;Zs(s=Xs())&&(n.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[at],attrs:r6,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,n){i&1&&(ce(),O(0,"g"),be(1,o6,1,13,"g",0)(2,a6,1,5,"g",1),V()),i&2&&(Fe("class",n.xAxisClassName)("transform",n.transform),R(),G("ngIf",n.xScale),R(),G("ngIf",n.showLabel))},dependencies:[TN,GN,Wt],encapsulation:2,changeDetection:0}),e})();function zo(e,t,i,n,s,[r,o,a,l]){let c="";return i=Math.floor(i),n=Math.floor(n),i=i===0?1:i,n=n===0?1:n,c=`M${[e+s,t]}`,c+=`h${i-2*s}`,o?c+=`a${[s,s]} 0 0 1 ${[s,s]}`:c+=`h${s}v${s}`,c+=`v${n-2*s}`,l?c+=`a${[s,s]} 0 0 1 ${[-s,s]}`:c+=`v${s}h${-s}`,c+=`h${2*s-i}`,a?c+=`a${[s,s]} 0 0 1 ${[-s,-s]}`:c+=`h${-s}v${-s}`,c+=`v${2*s-n}`,r?c+=`a${[s,s]} 0 0 1 ${[s,-s]}`:c+=`v${-s}h${s}`,c+="z",c}var IN=(()=>{class e{constructor(i){this.platformId=i,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new K,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=ks.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Si}ngOnChanges(i){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Io(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let i=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);i!==this.width&&(this.width=i,this.dimensionsChanged.emit({width:i}),setTimeout(()=>this.updateDims()))}update(){let i=this.scale,n=this.orient===Si.Top||this.orient===Si.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:i.tickFormat?this.tickFormat=i.tickFormat.apply(i,this.tickArguments):this.tickFormat=function(s){return s.constructor.name==="Date"?s.toLocaleDateString():s.toLocaleString()},this.adjustedScale=i.bandwidth?s=>{let r=i(s)+i.bandwidth()*.5;if(this.wrapTicks&&s.toString().length>this.maxTickLength){let o=this.tickChunks(s).length;if(o===1)return r;let a=i.bandwidth(),l=o*8,c=a*.5-l*.5;return i(s)+c}return r}:i,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Si.Top:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=ks.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case Si.Bottom:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=ks.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case Si.Left:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=ks.End,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;case Si.Right:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=ks.Start,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(i=>i.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(i=>i.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=zo(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let i,n=this.getMaxTicks(20),s=this.getMaxTicks(50);return this.tickValues?i=this.tickValues:this.scale.ticks?i=this.scale.ticks.apply(this.scale,[s]):(i=this.scale.domain(),i=HN(i,n)),i}getMaxTicks(i){return Math.floor(this.height/i)}tickTransform(i){return`translate(${this.adjustedScale(i)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(i){return this.trimTicks?kC(i,this.maxTickLength):i}getApproximateAxisWidth(){return Math.max(...this.ticks.map(s=>this.tickTrim(this.tickFormat(s)).length))*7}tickChunks(i){if(i.toString().length>this.maxTickLength&&this.scale.bandwidth){let n=this.maxTickLength,s=Math.floor(this.scale.bandwidth()/15);return s<=1?[this.tickTrim(i)]:UN(i,n,Math.min(s,5))}return[this.tickFormat(i)]}}return e.\u0275fac=function(i){return new(i||e)(W(yi))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(i,n){if(i&1&&Dc(ON,5),i&2){let s;Zs(s=Xs())&&(n.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[at],attrs:l6,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(i,n){i&1&&(ce(),O(0,"g",null,0),be(2,m6,2,2,"g",3),V(),be(3,y6,1,2,"path",4)(4,_6,2,2,"g",5)(5,D6,2,1,"g",5)),i&2&&(R(2),G("ngForOf",n.ticks),R(),G("ngIf",n.referenceLineLength>1&&n.refMax&&n.refMin&&n.showRefLines),R(),G("ngForOf",n.ticks),R(),G("ngForOf",n.referenceLines))},dependencies:[Ks,Wt],encapsulation:2,changeDetection:0}),e})(),o9=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=Si.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new K,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(i){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Si.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:i}){i!==this.labelOffset&&this.yOrient===Si.Right?(this.labelOffset=i+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:i})},0)):i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({width:i})},0))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(i,n){if(i&1&&Dc(IN,5),i&2){let s;Zs(s=Xs())&&(n.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[at],attrs:S6,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,n){i&1&&(ce(),O(0,"g"),be(1,M6,1,15,"g",0)(2,T6,1,5,"g",1),V()),i&2&&(Fe("class",n.yAxisClassName)("transform",n.transform),R(),G("ngIf",n.yScale),R(),G("ngIf",n.showLabel))},dependencies:[IN,GN,Wt],encapsulation:2,changeDetection:0}),e})(),AN=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Ha]]}),e})(),ly=function(e){return e.popover="popover",e.tooltip="tooltip",e}(ly||{}),ru=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(ru||{}),$N=(()=>{class e{constructor(i,n,s){this.tooltipService=i,this.viewContainerRef=n,this.renderer=s,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=je.Top,this.tooltipAlignment=je.Center,this.tooltipType=ly.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=ru.all,this.tooltipImmediateExit=!1,this.show=new K,this.hide=new K}get listensForFocus(){return this.tooltipShowEvent===ru.all||this.tooltipShowEvent===ru.focus}get listensForHover(){return this.tooltipShowEvent===ru.all||this.tooltipShowEvent===ru.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(i){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(i))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(i){if(this.component||this.tooltipDisabled)return;let n=i?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let s=this.createBoundOptions();this.component=this.tooltipService.create(s),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},n)}addHideListeners(i){this.mouseEnterContentEvent=this.renderer.listen(i,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(i,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",n=>{i.contains(n.target)||this.hideTooltip()}))}hideTooltip(i=!1){if(!this.component)return;let n=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),i?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(i){return new(i||e)(W(EC),W(_s),W(zn))},e.\u0275dir=Tt({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(i,n){i&1&&Be("focusin",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(r){return n.onMouseLeave(r.target)})("click",function(){return n.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),EN=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({providers:[VN,EC],imports:[[Ha]]}),e})(),kN={};function LC(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,kN[e]?LC():(kN[e]=!0,e)}var Li=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(Li||{}),a9=(()=>{class e{constructor(){this.orientation=Li.Vertical}ngOnChanges(i){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Li.Horizontal?this.x2="100%":this.orientation===Li.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[at],attrs:I6,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,n){i&1&&(ce(),O(0,"linearGradient",0),be(1,A6,1,5,"stop",1),V()),i&2&&(G("id",n.name),Fe("x1",n.x1)("y1",n.y1)("x2",n.x2)("y2",n.y2),R(),G("ngForOf",n.stops))},dependencies:[Ks],encapsulation:2,changeDetection:0}),e})();var l9=(()=>{class e{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(i){this.stopsInput=i}ngOnChanges(i){this.r="30%",("color"in i||"startOpacity"in i||"endOpacity"in i)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[at],attrs:E6,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,n){i&1&&(ce(),O(0,"radialGradient",0),be(1,k6,1,5,"stop",1),V()),i&2&&(G("id",n.name),Fe("cx",n.cx)("cy",n.cy)("r",n.r),R(),G("ngForOf",n.stops))},dependencies:[Ks],encapsulation:2,changeDetection:0}),e})();var AC;typeof window<"u"?AC=window:typeof global<"u"&&(AC=global);var dye=AC.MouseEvent;var Mn=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Ha,AN,EN],Ha,AN,EN]}),e})();function WN({width:e,height:t,margins:i,showXAxis:n=!1,showYAxis:s=!1,xAxisHeight:r=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u=rt.Ordinal,legendPosition:d=Uo.Right,columns:h=12}){let p=i[3],f=e,g=t-i[0]-i[2];return c&&d===Uo.Right&&(u===rt.Ordinal?h-=2:h-=1),f=f*h/12,f=f-i[1]-i[3],n&&(g-=5,g-=r,a&&(g-=30)),s&&(f-=5,f-=o,p+=o,p+=10,l&&(f-=30,p+=30)),f=Math.max(0,f),g=Math.max(0,g),{width:Math.floor(f),height:Math.floor(g),xOffset:Math.floor(p)}}var LN=[{name:"vivid",selectable:!0,group:rt.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:rt.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:rt.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:rt.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:rt.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:rt.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:rt.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:rt.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:rt.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:rt.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:rt.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:rt.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:rt.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:rt.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:rt.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],ay=class{constructor(t,i,n,s){typeof t=="string"&&(t=LN.find(r=>r.name===t)),this.colorDomain=t.domain,this.scaleType=i,this.domain=n,this.customColors=s,this.scale=this.generateColorScheme(t,i,this.domain)}generateColorScheme(t,i,n){typeof t=="string"&&(t=LN.find(r=>r.name===t));let s;switch(i){case rt.Quantile:s=kh().range(t.domain).domain(n);break;case rt.Ordinal:s=el().range(t.domain).domain(n);break;case rt.Linear:{let r=[...t.domain];r.length===1&&(r.push(r[0]),this.colorDomain=r);let o=Jc(0,1,1/r.length);s=Bo().range(r).domain(o)}break;default:break}return s}getColor(t){if(t==null)throw new Error("Value can not be null");if(this.scaleType===rt.Linear){let i=Bo().domain(this.domain).range([0,1]);return this.scale(i(t))}else{if(typeof this.customColors=="function")return this.customColors(t);let i=t.toString(),n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(s=>s.name.toLowerCase()===i.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,i){i===void 0&&(i=this.domain[0]);let n=Bo().domain(this.domain).range([0,1]),s=eu().domain(this.colorDomain).range([0,1]),r=this.getColor(t),o=n(i),a=this.getColor(i),l=n(t),c=1,u=o,d=[];for(d.push({color:a,offset:o,originalOffset:o,opacity:1});u<l&&c<this.colorDomain.length;){let h=this.colorDomain[c],p=s(h);if(p<=o){c++;continue}if(p.toFixed(4)>=(l-s.bandwidth()).toFixed(4))break;d.push({color:h,offset:p,opacity:1}),u=p,c++}if(d[d.length-1].offset<100&&d.push({color:r,offset:l,opacity:1}),l===o)d[0].offset=0,d[1].offset=100;else if(d[d.length-1].offset!==100)for(let h of d)h.offset=(h.offset-o)/(l-o)*100;return d}};var c9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})(),u9=(()=>{class e{constructor(i){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new K,this.activate=new K,this.deactivate=new K,this.hasGradient=!1,this.hideBar=!1,this.element=i.nativeElement}ngOnChanges(i){i.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+LC().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let i=fh(this.element).select(".bar"),n=this.getPath();this.animations?i.transition().duration(500).attr("d",n):i.attr("d",n)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let i=this.getRadius(),n;return this.roundEdges?this.orientation===Li.Vertical?(i=Math.min(this.height,i),n=zo(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Li.Horizontal&&(i=Math.min(this.width,i),n=zo(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Li.Vertical?n=zo(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Li.Horizontal&&(n=zo(this.x,this.y,1,this.height,0,this.edges)),n}getPath(){let i=this.getRadius(),n;return this.roundEdges?this.orientation===Li.Vertical?(i=Math.min(this.height,i),n=zo(this.x,this.y,this.width,this.height,i,this.edges)):this.orientation===Li.Horizontal&&(i=Math.min(this.width,i),n=zo(this.x,this.y,this.width,this.height,i,this.edges)):n=zo(this.x,this.y,this.width,this.height,i,this.edges),n}getRadius(){let i=0;return this.roundEdges&&this.height>5&&this.width>5&&(i=Math.floor(Math.min(5,this.height/2,this.width/2))),i}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let i=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Li.Vertical?this.data.value>0?i=[!0,!0,!1,!1]:i=[!1,!1,!0,!0]:this.orientation===Li.Horizontal&&(this.data.value>0?i=[!1,!0,!1,!0]:i=[!0,!1,!0,!1])),i}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Li.Vertical&&this.height===0||this.orientation===Li.Horizontal&&this.width===0)}}return e.\u0275fac=function(i){return new(i||e)(W(vt))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(i,n){i&1&&Be("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[at],attrs:L6,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(i,n){i&1&&(be(0,N6,2,3,"defs",0),ce(),O(1,"path",1),Be("click",function(){return n.select.emit(n.data)}),V()),i&2&&(G("ngIf",n.hasGradient),R(),Gn("active",n.isActive)("hidden",n.hideBar),Fe("d",n.path)("aria-label",n.ariaLabel)("fill",n.hasGradient?n.gradientFill:n.fill))},dependencies:[a9,Wt],encapsulation:2,changeDetection:0}),e})(),Go=function(e){return e.Standard="standard",e.Normalized="normalized",e.Stacked="stacked",e}(Go||{}),ou=function(e){return e.positive="positive",e.negative="negative",e}(ou||{}),d9=(()=>{class e{constructor(i){this.dimensionsChanged=new K,this.horizontalPadding=2,this.verticalPadding=5,this.element=i.nativeElement}ngOnChanges(i){this.update()}getSize(){let i=this.element.getBoundingClientRect().height,n=this.element.getBoundingClientRect().width;return{height:i,width:n,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=Ph(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return e.\u0275fac=function(i){return new(i||e)(W(vt))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[at],attrs:O6,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(i,n){i&1&&(ce(),O(0,"text",0),ge(1),V()),i&2&&(Fe("text-anchor",n.textAnchor)("transform",n.transform)("x",n.x)("y",n.y),R(),xi(" ",n.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})();var h9=(()=>{class e{constructor(i){this.platformId=i,this.type=Go.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new K,this.activate=new K,this.deactivate=new K,this.dataLabelHeightChanged=new K,this.barsForDataLabels=[],this.barOrientation=Li,this.isSSR=!1}ngOnInit(){Ao(this.platformId)&&(this.isSSR=!0)}ngOnChanges(i){this.update()}update(){this.updateTooltipSettings();let i;this.series.length&&(i=this.xScale.bandwidth()),i=Math.round(i);let n=Math.max(this.yScale.domain()[0],0),s={[ou.positive]:0,[ou.negative]:0},r=ou.positive,o;this.type===Go.Normalized&&(o=this.series.map(a=>a.value).reduce((a,l)=>a+l,0)),this.bars=this.series.map((a,l)=>{let c=a.value,u=this.getLabel(a),d=Ph(u),h=this.roundEdges;r=c>0?ou.positive:ou.negative;let p={value:c,label:u,roundEdges:h,data:a,width:i,formattedLabel:d,height:0,x:0,y:0};if(this.type===Go.Standard)p.height=Math.abs(this.yScale(c)-this.yScale(n)),p.x=this.xScale(u),c<0?p.y=this.yScale(0):p.y=this.yScale(c);else if(this.type===Go.Stacked){let g=s[r],y=g+c;s[r]+=c,p.height=this.yScale(g)-this.yScale(y),p.x=0,p.y=this.yScale(y),p.offset0=g,p.offset1=y}else if(this.type===Go.Normalized){let g=s[r],y=g+c;s[r]+=c,o>0?(g=g*100/o,y=y*100/o):(g=0,y=0),p.height=this.yScale(g)-this.yScale(y),p.x=0,p.y=this.yScale(y),p.offset0=g,p.offset1=y,c=(y-g).toFixed(2)+"%"}this.colors.scaleType===rt.Ordinal?p.color=this.colors.getColor(u):this.type===Go.Standard?(p.color=this.colors.getColor(c),p.gradientStops=this.colors.getLinearGradientStops(c)):(p.color=this.colors.getColor(p.offset1),p.gradientStops=this.colors.getLinearGradientStops(p.offset1,p.offset0));let f=d;return p.ariaLabel=d+" "+c.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(f=`${this.seriesName} \u2022 ${d}`,p.data.series=this.seriesName,p.ariaLabel=this.seriesName+" "+p.ariaLabel),p.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${BN(f)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(c):c.toLocaleString()}</span>
      `,p}),this.updateDataLabels()}updateDataLabels(){if(this.type===Go.Stacked){this.barsForDataLabels=[];let i={};i.series=this.seriesName;let n=this.series.map(r=>r.value).reduce((r,o)=>o>0?r+o:r,0),s=this.series.map(r=>r.value).reduce((r,o)=>o<0?r+o:r,0);i.total=n+s,i.x=0,i.y=0,i.total>0?i.height=this.yScale(n):i.height=this.yScale(s),i.width=this.xScale.bandwidth(),this.barsForDataLabels.push(i)}else this.barsForDataLabels=this.series.map(i=>{let n={};return n.series=this.seriesName??i.label,n.total=i.value,n.x=this.xScale(i.label),n.y=this.yScale(0),n.height=this.yScale(n.total)-this.yScale(0),n.width=this.xScale.bandwidth(),n})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:je.Top,this.tooltipType=this.tooltipDisabled?void 0:ly.tooltip}isActive(i){return this.activeEntries?this.activeEntries.find(s=>i.name===s.name&&i.value===s.value)!==void 0:!1}onClick(i){this.select.emit(i)}getLabel(i){return i.label?i.label:i.name}trackBy(i,n){return n.label}trackDataLabelBy(i,n){return i+"#"+n.series+"#"+n.total}}return e.\u0275fac=function(i){return new(i||e)(W(yi))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[at],attrs:R6,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(i,n){i&1&&be(0,F6,2,2,"g",0)(1,B6,2,2,"g",0)(2,z6,2,2,"g",0),i&2&&(G("ngIf",!n.isSSR),R(),G("ngIf",n.isSSR),R(),G("ngIf",n.showDataLabel))},dependencies:[u9,d9,Wt,Ks,$N],encapsulation:2,data:{animation:[lk("animationState",[uk(":leave",[G_({opacity:1}),ck(500,G_({opacity:0}))])])]},changeDetection:0}),e})(),YN=(()=>{class e extends zN{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Uo.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new K,this.deactivate=new K,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=WN({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();let i=this.xDomain.length/(this.dims.width/this.barPadding+1);return eu().range([0,this.dims.width]).paddingInner(i).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();let i=Bo().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?i.nice():i}getXDomain(){return this.results.map(i=>i.label)}getYDomain(){let i=this.results.map(r=>r.value),n=this.yScaleMin?Math.min(this.yScaleMin,...i):Math.min(0,...i);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(n=Math.min(n,...this.yAxisTicks));let s=this.yScaleMax?Math.max(this.yScaleMax,...i):Math.max(0,...i);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(s=Math.max(s,...this.yAxisTicks)),[n,s]}onClick(i){this.select.emit(i)}setColors(){let i;this.schemeType===rt.Ordinal?i=this.xDomain:i=this.yDomain,this.colors=new ay(this.scheme,this.schemeType,i,this.customColors)}getLegendOptions(){let i={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return i.scaleType===rt.Ordinal?(i.domain=this.xDomain,i.colors=this.colors,i.title=this.legendTitle):(i.domain=this.yDomain,i.colors=this.colors.scale),i}updateYAxisWidth({width:i}){this.yAxisWidth=i,this.update()}updateXAxisHeight({height:i}){this.xAxisHeight=i,this.update()}onDataLabelMaxHeightChanged(i){i.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,i.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,i.size.height),i.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(i,n=!1){i=this.results.find(r=>n?r.label===i.name:r.name===i.name),!(this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series)>-1)&&(this.activeEntries=[i,...this.activeEntries],this.activate.emit({value:i,entries:this.activeEntries}))}onDeactivate(i,n=!1){i=this.results.find(r=>n?r.label===i.name:r.name===i.name);let s=this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series);this.activeEntries.splice(s,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:i,entries:this.activeEntries})}}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ar(e)))(n||e)}})(),e.\u0275cmp=ve({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(i,n,s){if(i&1&&wd(s,RN,5),i&2){let r;Zs(r=Xs())&&(n.tooltipTemplate=r.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[rn],decls:5,vars:25,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activate","deactivate","select","dataLabelHeightChanged","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks"]],template:function(i,n){i&1&&(O(0,"ngx-charts-chart",0),Be("legendLabelClick",function(r){return n.onClick(r)})("legendLabelActivate",function(r){return n.onActivate(r,!0)})("legendLabelDeactivate",function(r){return n.onDeactivate(r,!0)}),ce(),O(1,"g",1),be(2,G6,1,12,"g",2)(3,H6,1,10,"g",3),O(4,"g",4),Be("activate",function(r){return n.onActivate(r)})("deactivate",function(r){return n.onDeactivate(r)})("select",function(r){return n.onClick(r)})("dataLabelHeightChanged",function(r){return n.onDataLabelMaxHeightChanged(r)}),V()()()),i&2&&(G("view",ub(22,PN,n.width,n.height))("showLegend",n.legend)("legendOptions",n.legendOptions)("activeEntries",n.activeEntries)("animations",n.animations),R(),Fe("transform",n.transform),R(),G("ngIf",n.xAxis),R(),G("ngIf",n.yAxis),R(),G("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("series",n.results)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("showDataLabel",n.showDataLabel)("dataLabelFormatting",n.dataLabelFormatting)("activeEntries",n.activeEntries)("roundEdges",n.roundEdges)("animations",n.animations)("noBarWhenZero",n.noBarWhenZero))},dependencies:[jN,r9,o9,h9,Wt],styles:[FN],encapsulation:2,changeDetection:0}),e})();var ZN=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})(),hye=(0,NN.default)();var p9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})();var f9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})();var g9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})();var XN=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})(),m9=(()=>{class e{constructor(i){this.platformId=i,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=kC}ngOnChanges(i){this.setTransforms(),this.update()}setTransforms(){if(Ao(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let i=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=i?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=i?`translate(${this.textX},${this.textY})`:null,this.textTransition=i||!this.animations?null:"transform 0.75s"}}update(){let i=this.radius;this.explodeSlices&&(i=this.radius*this.value/this.max);let s=Nh().innerRadius(i).outerRadius(i).centroid(this.data),r=this.data.pos[1]/s[1];(this.data.pos[1]===0||s[1]===0)&&(r=1);let o=[r*s[0],r*s[1]];this.line=`M${s}L${o}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?ks.Start:ks.End}midAngle(i){return i.startAngle+(i.endAngle-i.startAngle)/2}}return e.\u0275fac=function(i){return new(i||e)(W(yi))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[at],attrs:U6,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(i,n){i&1&&(O(0,"title"),ge(1),V(),ce(),O(2,"g")(3,"text",0),ge(4),V()(),Ae(5,"path",1)),i&2&&(R(),vi(n.label),R(),ji("transform",n.styleTransform)("transition",n.textTransition),Fe("transform",n.attrTransform),R(),ji("text-anchor",n.textAnchor())("shape-rendering","crispEdges"),Gn("animation",n.animations),R(),xi(" ",n.labelTrim?n.trimLabel(n.label,n.labelTrimSize):n.label," "),R(),Gn("animation",n.animations),Fe("d",n.line)("stroke",n.color))},encapsulation:2,changeDetection:0}),e})();var pye=2*Math.PI;var y9=(()=>{class e{constructor(i){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new K,this.activate=new K,this.deactivate=new K,this.dblclick=new K,this.barOrientation=Li,this.initialized=!1,this.element=i.nativeElement}ngOnChanges(i){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let i=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+LC().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=i.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let i=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(i=this.outerRadius*this.value/this.max),Nh().innerRadius(this.innerRadius).outerRadius(i).cornerRadius(this.cornerRadius)}loadAnimation(){let i=fh(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),n=this.calculateArc();i.transition().attrTween("d",function(s){this._current=this._current||s;let r=Object.assign({},s);r.endAngle=r.startAngle;let o=As(r,r);return this._current=o(0),function(a){return n(o(a))}}).transition().duration(750).attrTween("d",function(s){this._current=this._current||s;let r=As(this._current,s);return this._current=r(0),function(o){return n(r(o))}})}updateAnimation(){let i=fh(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),n=this.calculateArc();i.transition().duration(750).attrTween("d",function(s){this._current=this._current||s;let r=As(this._current,s);return this._current=r(0),function(o){return n(r(o))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(i){i.preventDefault(),i.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:i})}}return e.\u0275fac=function(i){return new(i||e)(W(vt))},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[at],attrs:$6,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(i,n){i&1&&(ce(),O(0,"g",0),be(1,W6,2,3,"defs",1),O(2,"path",2),Be("click",function(){return n.onClick()})("dblclick",function(r){return n.onDblClick(r)})("mouseenter",function(){return n.activate.emit(n.data)})("mouseleave",function(){return n.deactivate.emit(n.data)}),V()()),i&2&&(R(),G("ngIf",n.gradient),R(),ji("pointer-events",n.getPointerEvents()),Gn("active",n.isActive),Fe("d",n.path)("fill",n.getGradient()))},dependencies:[l9,Wt],encapsulation:2,changeDetection:0}),e})(),v9=(()=>{class e{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new K,this.activate=new K,this.deactivate=new K,this.dblclick=new K,this.placementTypes=je,this.styleTypes=ly}ngOnChanges(i){this.update()}update(){let n=TC().value(s=>s.value).sort(null)(this.series);this.max=ey(n,s=>s.value),this.data=this.calculateLabelPositions(n),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(i){return i.startAngle+(i.endAngle-i.startAngle)/2}outerArc(){return Nh().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(i){let r=i;r.forEach(o=>{o.pos=this.outerArc().centroid(o),o.pos[0]=1.5*this.outerRadius*(this.midAngle(o)<Math.PI?1:-1)});for(let o=0;o<r.length-1;o++){let a=r[o];if(this.labelVisible(a))for(let l=o+1;l<r.length;l++){let c=r[l];if(this.labelVisible(c)&&c.pos[0]*a.pos[0]>0){let u=10-Math.abs(c.pos[1]-a.pos[1]);u>0&&(c.pos[1]+=Math.sign(c.pos[0])*u)}}}return r}labelVisible(i){return this.showLabels&&i.endAngle-i.startAngle>Math.PI/30}getTooltipTitle(i){return this.tooltipTemplate?void 0:this.tooltipText(i)}labelText(i){return this.labelFormatting?this.labelFormatting(i.data.name):this.label(i)}label(i){return Ph(i.data.name)}defaultTooltipText(i){let n=this.label(i),s=Ph(i.data.value);return`
      <span class="tooltip-label">${BN(n)}</span>
      <span class="tooltip-val">${s}</span>
    `}color(i){return this.colors.getColor(this.label(i))}trackBy(i,n){return n.data.name}onClick(i){this.select.emit(i)}isActive(i){return this.activeEntries?this.activeEntries.find(s=>i.name===s.name&&i.series===s.series)!==void 0:!1}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[at],attrs:Y6,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(i,n){i&1&&be(0,X6,3,19,"g",0),i&2&&G("ngForOf",n.data)("ngForTrackBy",n.trackBy)},dependencies:[m9,y9,Ks,Wt,$N],encapsulation:2,changeDetection:0}),e})();var qN=(()=>{class e extends zN{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=Uo.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new K,this.select=new K,this.activate=new K,this.deactivate=new K}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=WN({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let i=this.margins[3]+this.dims.width/2,n=this.margins[0]+this.dims.height/2;this.translation=`translate(${i}, ${n})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((s,r)=>this.domain.indexOf(s.name)-this.domain.indexOf(r.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(i=>i.label)}onClick(i){this.select.emit(i)}setColors(){this.colors=new ay(this.scheme,rt.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:rt.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(i,n=!1){i=this.results.find(r=>n?r.label===i.name:r.name===i.name),!(this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series)>-1)&&(this.activeEntries=[i,...this.activeEntries],this.activate.emit({value:i,entries:this.activeEntries}))}onDeactivate(i,n=!1){i=this.results.find(r=>n?r.label===i.name:r.name===i.name);let s=this.activeEntries.findIndex(r=>r.name===i.name&&r.value===i.value&&r.series===i.series);this.activeEntries.splice(s,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:i,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ar(e)))(n||e)}})(),e.\u0275cmp=ve({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(i,n,s){if(i&1&&wd(s,RN,5),i&2){let r;Zs(r=Xs())&&(n.tooltipTemplate=r.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[rn],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(i,n){i&1&&(O(0,"ngx-charts-chart",0),Be("legendLabelActivate",function(r){return n.onActivate(r,!0)})("legendLabelDeactivate",function(r){return n.onDeactivate(r,!0)})("legendLabelClick",function(r){return n.onClick(r)}),ce(),O(1,"g",1)(2,"g",2),Be("dblclick",function(r){return n.dblclick.emit(r)})("select",function(r){return n.onClick(r)})("activate",function(r){return n.onActivate(r)})("deactivate",function(r){return n.onDeactivate(r)}),V()()()),i&2&&(G("view",ub(21,PN,n.width,n.height))("showLegend",n.legend)("legendOptions",n.legendOptions)("activeEntries",n.activeEntries)("animations",n.animations),R(),Fe("transform",n.translation),R(),G("colors",n.colors)("series",n.data)("showLabels",n.labels)("labelFormatting",n.labelFormatting)("trimLabels",n.trimLabels)("maxLabelLength",n.maxLabelLength)("activeEntries",n.activeEntries)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("explodeSlices",n.explodeSlices)("gradient",n.gradient)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("tooltipText",n.tooltipText))},dependencies:[jN,v9],styles:[FN,q6],encapsulation:2,changeDetection:0}),e})();var NC=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})(),x9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn,NC,XN]]}),e})();var b9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})();var _9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})();var C9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn,NC,ZN]]}),e})();function w9(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var D9=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[[Mn]]}),e})(),QN=(()=>{class e{constructor(){w9()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Ye({imports:[Mn,c9,ZN,p9,f9,g9,D9,XN,x9,b9,NC,_9,C9]}),e})();var M9=()=>[1e3,400],T9=()=>[1e3,300],KN=(()=>{class e{bitcoinService;saleData=[{name:"11/23/2021",value:49476255634959996e-8},{name:"11/24/2021",value:48019947588900006e-8},{name:"11/25/2021",value:3324094387548e-4},{name:"11/26/2021",value:289094884176e-3},{name:"11/27/2021",value:7774925830165e-4},{name:"11/28/2021",value:277078998492e-3},{name:"11/29/2021",value:25273629937800002e-8},{name:"11/30/2021",value:36782653049249995e-8},{name:"12/1/2021",value:52250621422769994e-8},{name:"12/2/2021",value:4796689442496e-4},{name:"12/3/2021",value:4318852712832e-4}];trades$;subscription;constructor(i){this.bitcoinService=i}ngOnInit(){return L(this,null,function*(){this.trades$=this.bitcoinService.getTradeVolume()})}static \u0275fac=function(n){return new(n||e)(W(zc))};static \u0275cmp=ve({type:e,selectors:[["chart"]],decls:3,vars:20,consts:[[3,"view","results","xAxisLabel","legendTitle","yAxisLabel","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","gradient"],[3,"results","legend","legendTitle","view","labels"]],template:function(n,s){n&1&&(Ae(0,"ngx-charts-bar-vertical",0),kr(1,"async"),Ae(2,"ngx-charts-pie-chart",1)),n&2&&(G("view",Mc(18,M9))("results",Lr(1,16,s.trades$))("xAxisLabel","USD Exchange Trade Volume")("legendTitle","Day")("yAxisLabel","Trade Volume (USD)")("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxis",!0)("yAxis",!0)("gradient",!0),R(2),G("results",s.saleData)("legend",!1)("legendTitle","Product Sale Report")("view",Mc(19,T9))("labels",!0))},dependencies:[YN,qN,To],styles:["[_nghost-%COMP%]{display:flex;margin-block:2em}"]})}return e})();var A9=()=>({display:"block"}),JN=(()=>{class e{bitcoinService=F(zc);marketValues;confirmedTransactions;ngOnInit(){return L(this,null,function*(){try{}catch(i){console.log("Statistic page -> Had issues loading statistic",i)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["statistic-page"]],decls:6,vars:2,consts:[[1,"statistic-page"],[1,"main-heading"],[1,"charts-container","flex"],[1,"chart-container","flex","justify-center"],[3,"ngStyle"]],template:function(n,s){n&1&&(O(0,"section",0)(1,"h1",1),ge(2,"Bitcoin statistics"),V(),O(3,"div",2)(4,"div",3),Ae(5,"chart",4),V()()()),n&2&&(R(5),G("ngStyle",Mc(1,A9)))},dependencies:[dE,KN],styles:[".statistic-page[_ngcontent-%COMP%]{min-height:calc(100dvh - 60px);background-color:#f3fe8e}.statistic-page[_ngcontent-%COMP%]   .main-heading[_ngcontent-%COMP%]{padding-block-start:3rem;text-align:center;font-size:3.2em}.statistic-page[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]{justify-content:space-around}"]})}return e})();function E9(e,t){if(e&1){let i=on();O(0,"button",18),Be("click",function(){lt(i);let s=$();return ct(s.onRemoveContact(s.contact._id))}),V()}}var OC=(()=>{class e{contactService=F(Wn);route=F(Ss);router=F(Ms);contact=this.contactService.getEmptyContact();ngOnInit(){this.route.data.pipe(me(i=>i.contact),gi(i=>i)).subscribe(i=>{this.contact=i})}onSaveContact(){this.contactService.saveContact(this.contact).subscribe({next:()=>this.router.navigateByUrl("/contact"),error:i=>console.log("err:",i)})}onRemoveContact(i){this.contactService.deleteContact(i).pipe(ii(1)).subscribe({next:()=>this.router.navigateByUrl("/contact"),error:n=>console.log("err:",n)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["contact-edit"]],decls:26,vars:8,consts:[["editForm","ngForm"],["name","ngModel"],["email","ngModel"],["phone","ngModel"],[1,"contact-edit","flex","column","align-center"],[1,"main-heading"],[1,"flex","column",3,"ngSubmit"],[1,"input-container","flex","column"],["for","name",1,"edit-label"],["type","text","name","name","id","name","placeholder","Enter name","required","",1,"edit-input",3,"ngModelChange","ngModel"],["for","email",1,"edit-label"],["type","email","name","email","id","email","placeholder","Enter email","required","",1,"edit-input",3,"ngModelChange","ngModel"],["for","phone",1,"edit-label"],["type","tel","name","phone","id","phone","placeholder","Enter phone","required","",1,"edit-input",3,"ngModelChange","ngModel"],[1,"actions-container","flex","justify-center"],["type","button",1,"btn",3,"routerLink"],["class","btn btn-action btn-delete-contact","type","button",3,"click",4,"ngIf"],[1,"btn","btn-action","btn-submit",3,"disabled"],["type","button",1,"btn","btn-action","btn-delete-contact",3,"click"]],template:function(n,s){if(n&1){let r=on();O(0,"section",4)(1,"h2",5),ge(2),V(),O(3,"form",6,0),Be("ngSubmit",function(){return lt(r),ct(s.onSaveContact())}),O(5,"div",7)(6,"label",8),ge(7,"Name"),V(),O(8,"input",9,1),za("ngModelChange",function(a){return lt(r),Sc(s.contact.name,a)||(s.contact.name=a),ct(a)}),V()(),O(10,"div",7)(11,"label",10),ge(12,"Email address"),V(),O(13,"input",11,2),za("ngModelChange",function(a){return lt(r),Sc(s.contact.email,a)||(s.contact.email=a),ct(a)}),V()(),O(15,"div",7)(16,"label",12),ge(17,"Phone number"),V(),O(18,"input",13,3),za("ngModelChange",function(a){return lt(r),Sc(s.contact.phone,a)||(s.contact.phone=a),ct(a)}),V()(),O(20,"section",14)(21,"button",15),ge(22," Back "),V(),be(23,E9,1,0,"button",16),O(24,"button",17),ge(25," Save "),V()()()()}if(n&2){let r=Do(4);R(2),xi("",s.contact._id?"Edit":"Add"," Contact"),R(6),ja("ngModel",s.contact.name),R(5),ja("ngModel",s.contact.email),R(5),ja("ngModel",s.contact.phone),R(3),Cs("routerLink","/contact/",s.contact._id,""),R(2),G("ngIf",s.contact._id),R(),G("disabled",r.invalid)}},dependencies:[Wt,an,nk,Yc,wm,Q1,V_,ah,F_],styles:['.contact-edit[_ngcontent-%COMP%]{min-height:calc(100dvh - 60px);gap:3em;background-color:#b1f4ad;padding-block-start:3em}.contact-edit[_ngcontent-%COMP%]   .main-heading[_ngcontent-%COMP%]{font-size:3.2em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:30vw;gap:1.5em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{gap:.5em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .edit-label[_ngcontent-%COMP%]{font-size:1.6em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .edit-input[_ngcontent-%COMP%]{padding:1rem;padding-inline-start:1.2em;border:none;font-size:1.6em;border-radius:0 20px 20px 0}.contact-edit[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{gap:2em;margin-block-start:2em}.contact-edit[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.7em 1.4em;border-radius:16px;font-size:1.6em}.contact-edit[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-action.btn-submit[_ngcontent-%COMP%]{font-family:FigtreeBold,sans-serif;background-color:#3870e8;color:#fff}.contact-edit[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-action.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-action.btn-delete-contact[_ngcontent-%COMP%]{background-color:#fc6d6d;color:#fff}.contact-edit[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn.btn-action.btn-delete-contact[_ngcontent-%COMP%]:after{font-family:faSolid;content:"\\f1f8"}']})}return e})();function k9(e,t){if(e&1&&(O(0,"div",0)(1,"div",2)(2,"div",3),Ae(3,"button",4)(4,"button",5),V(),O(5,"h3",6),ge(6),V(),O(7,"p",7),ge(8," Phone number: "),O(9,"span"),ge(10),V()(),O(11,"p",8),ge(12," Email address: "),O(13,"span"),ge(14),V()(),Ae(15,"img",9),V()()),e&2){let i=t.ngIf;R(4),Cs("routerLink","/contact/edit/",i._id,""),R(2),vi(i.name),R(4),xi(" ",i.phone,""),R(4),xi(" ",i.email," "),R(),Cs("src","https://robohash.org/",i._id,"?set=set2",Cd)}}var eO=(()=>{class e{route=F(Ss);contact$=this.route.data.pipe(me(i=>i.contact));static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["contact-details-page"]],decls:3,vars:3,consts:[[1,"contact-details"],["class","contact-details",4,"ngIf"],[1,"main-details","flex","column","align-center"],[1,"btn-container","flex","justify-between"],["routerLink","/contact","title","Back to list",1,"btn","btn-go-back","flex","align-center","justify-center"],["title","Edit contact",1,"btn","btn-edit-contact","flex","align-center","justify-center",3,"routerLink"],[1,"contact-name"],[1,"contact-phone"],[1,"contact-email"],["alt","Contact picture",1,"contact-img",3,"src"]],template:function(n,s){n&1&&(O(0,"section",0),be(1,k9,16,7,"div",1),kr(2,"async"),V()),n&2&&(R(),G("ngIf",Lr(2,1,s.contact$)))},dependencies:[Wt,an,To],styles:['.contact-details[_ngcontent-%COMP%]{min-height:calc(100dvh - 60px);background-color:#b1f4ad}.contact-details[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{width:40vw;margin-block-start:2em}.contact-details[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:1.6rem;border-radius:2rem;font-size:1.6em;background-color:#49deaa}.contact-details[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:after{font-family:faSolid}.contact-details[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn.btn-go-back[_ngcontent-%COMP%]:after{content:"\\f060"}.contact-details[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn.btn-edit-contact[_ngcontent-%COMP%]:after{content:"\\f4ff"}.contact-details[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#25cf94}.contact-details[_ngcontent-%COMP%]   .main-details[_ngcontent-%COMP%]{gap:1em;margin-block-end:3em}.contact-details[_ngcontent-%COMP%]   .main-details[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:3.2em}.contact-details[_ngcontent-%COMP%]   .main-details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.contact-name){font-size:1.8em}.contact-details[_ngcontent-%COMP%]   .main-details[_ngcontent-%COMP%]   .contact-img[_ngcontent-%COMP%]{margin-block-start:1.5em}.contact-details[_ngcontent-%COMP%]   .funds-container[_ngcontent-%COMP%]{width:50vw;margin:auto}']})}return e})();var RC=(e,t)=>{let i=e.params.contactId;return F(Wn).getContactById(i)};var L9=[{path:"home",component:k1},{path:"contact",component:ak},{path:"contact/edit",component:OC},{path:"contact/edit/:contactId",component:OC,resolve:{contact:RC}},{path:"contact/:contactId",component:eO,resolve:{contact:RC}},{path:"statistics",component:JN},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/home"}],tO=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Ze({type:e});static \u0275inj=Ye({imports:[T_.forRoot(L9,{useHash:!0}),T_]})}return e})();var iO=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["app-header"]],decls:14,vars:0,consts:[[1,"app-header","flex","align-center","justify-between"],[1,"main-heading"],[1,"main-nav"],[1,"main-nav-list","clean-list","flex","align-center"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/contact","routerLinkActive","active",1,"nav-link"],["routerLink","/statistics","routerLinkActive","active",1,"nav-link"]],template:function(n,s){n&1&&(O(0,"header",0)(1,"h1",1),ge(2,"Mister "),O(3,"span"),ge(4,"BIT"),V(),ge(5,"coin"),V(),O(6,"nav",2)(7,"ul",3)(8,"li",4),ge(9," Home "),V(),O(10,"li",5),ge(11," Contacts "),V(),O(12,"li",6),ge(13," Statistics "),V()()()())},dependencies:[an,w1],styles:[".app-header[_ngcontent-%COMP%]{height:60px}.app-header[_ngcontent-%COMP%]   .main-heading[_ngcontent-%COMP%]{font-size:2.8em}.app-header[_ngcontent-%COMP%]   .main-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3870e8}.app-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   .main-nav-list[_ngcontent-%COMP%]{gap:2em}.app-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   .main-nav-list[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1.6em;cursor:pointer}.app-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   .main-nav-list[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-weight:700;color:#3870e8}"]})}return e})();var nO=(()=>{class e{contactService=F(Wn);ngOnInit(){this.contactService.loadContacts().pipe(ii(1)).subscribe({error:i=>console.log("Had issues loading contacts:",i)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(n,s){n&1&&(O(0,"section",0),Ae(1,"app-header"),O(2,"main"),Ae(3,"router-outlet"),V()())},dependencies:[b_,iO]})}return e})();var gR=Object.defineProperty,O9=Object.getOwnPropertyDescriptor,pr=(e,t)=>{for(var i in t)gR(e,i,{get:t[i],enumerable:!0})},m=(e,t,i,n)=>{for(var s=n>1?void 0:n?O9(t,i):t,r=e.length-1,o;r>=0;r--)(o=e[r])&&(s=(n?o(t,i,s):o(s))||s);return n&&s&&gR(t,i,s),s},R9={ariaAnnounceVisible:"visible",ariaAnnounceHidden:"hidden",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number], ",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here"};var P9={},F9=void 0;F9=P9;var V9=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"],mR=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(mR||{}),B9={},j9=void 0;j9=B9;var z9={};pr(z9,{TimeInterval:()=>El,day:()=>Hw,friday:()=>DR,hour:()=>Gw,millisecond:()=>Bw,minute:()=>zw,monday:()=>bR,month:()=>$w,saturday:()=>SR,second:()=>jw,sunday:()=>Uw,thursday:()=>wR,tuesday:()=>_R,utcDay:()=>IR,utcHour:()=>TR,utcMinute:()=>MR,utcMonth:()=>AR,utcYear:()=>ER,wednesday:()=>CR,year:()=>Ww});var ow=new Map;function aw(e,t){ow.has(t)||(ow.set(t,!0),e())}aw.clear=()=>ow.clear();function sO(e){return e}function*cy(...e){for(let t of e)yield*$p(t)}function rO(e,t=0,i){let{leading:n=!0,trailing:s=!0}=i??{},r,o,a=!1;function l(){s&&o?(r=setTimeout(l,t),e(...o)):a=!1,o=null}function c(...u){a?o=u:(a=!0,r=setTimeout(l,t),n?e(...u):o=u)}return Object.assign(c,{cancel(){clearTimeout(r),a=!1,o=null}})}function G9(...e){return()=>{for(let t of e)t()}}var z={log(...e){console.log(...e)},warn(e,...t){console.warn(`AG Charts - ${e}`,...t)},error(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)},table(...e){console.table(...e)},warnOnce(e,...t){aw(()=>z.warn(e,...t),`Logger.warn: ${e}`)},errorOnce(e,...t){aw(()=>z.error(e,...t),`Logger.error: ${e}`)}},El=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){let t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){let t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,i){let n=this._rangeCallback?.(e,t),s=this._encode(i?this.floor(e):this.ceil(e)),r=this._encode(i?this.ceil(t):this.floor(t));if(r<s)return[];let o=[];for(let a=s;a<=r;a++){let l=this._decode(a);o.push(l)}return n?.(),o}},kn=class extends El{getOffset(e,t){let i=typeof e=="number"||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%t}every(e,t){let i=0,n,s=e;e=Math.max(1,Math.round(e)),s!==e&&z.warnOnce(`interval step of [${s}] rounded to [${e}].`);let{snapTo:r="start"}=t??{};if(typeof r=="string"){let l=i;n=(c,u)=>{let d=r==="start"?c:u;return i=this.getOffset(d,e),()=>i=l}}else typeof r=="number"?i=this.getOffset(new Date(r),e):r instanceof Date&&(i=this.getOffset(r,e));let o=l=>{let c=this._encode(l);return Math.floor((c-i)/e)},a=l=>this._decode(l*e+i);return new El(o,a,n)}};function H9(e){return e.getTime()}function U9(e){return new Date(e)}var Bw=new kn(H9,U9),$9=Bw,Zye=new Date(0).getFullYear(),Xo=1e3,Ii=Xo*60,Hi=Ii*60,rs=Hi*24,Wr=rs*7,Fh=rs*30,_u=rs*365,yR=new Date().getTimezoneOffset()*Ii;function W9(e){return Math.floor((e.getTime()-yR)/Xo)}function Y9(e){return new Date(yR+e*Xo)}var jw=new kn(W9,Y9),zh=jw,vR=new Date().getTimezoneOffset()*Ii;function Z9(e){return Math.floor((e.getTime()-vR)/Ii)}function X9(e){return new Date(vR+e*Ii)}var zw=new kn(Z9,X9),Gh=zw,xR=new Date().getTimezoneOffset()*Ii;function q9(e){return Math.floor((e.getTime()-xR)/Hi)}function Q9(e){return new Date(xR+e*Hi)}var Gw=new kn(q9,Q9),Hh=Gw;function K9(e){let t=e.getTimezoneOffset()*Ii;return Math.floor((e.getTime()-t)/rs)}function J9(e){let t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var Hw=new kn(K9,J9),lw=Hw;function Ll(e){let i=(7+e-4)%7;function n(r){let o=r.getTimezoneOffset()*Ii;return Math.floor((r.getTime()-o)/Wr-i/7)}function s(r){let o=new Date(1970,0,1);return o.setDate(o.getDate()+r*7+i),o}return new kn(n,s)}var Uw=Ll(0),bR=Ll(1),_R=Ll(2),CR=Ll(3),wR=Ll(4),DR=Ll(5),SR=Ll(6),Ty=Uw;function eZ(e){return e.getFullYear()*12+e.getMonth()}function tZ(e){let t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var $w=new kn(eZ,tZ),au=$w;function iZ(e){return e.getFullYear()}function nZ(e){let t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var Ww=new kn(iZ,nZ),Yw=Ww;function sZ(e){return Math.floor(e.getTime()/Ii)}function rZ(e){return new Date(e*Ii)}var MR=new kn(sZ,rZ);function oZ(e){return Math.floor(e.getTime()/Hi)}function aZ(e){return new Date(e*Hi)}var TR=new kn(oZ,aZ);function lZ(e){return Math.floor(e.getTime()/rs)}function cZ(e){let t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var IR=new kn(lZ,cZ);function uZ(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function dZ(e){let t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var AR=new kn(uZ,dZ);function hZ(e){return e.getUTCFullYear()}function pZ(e){let t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var ER=new kn(hZ,pZ),kR={};pr(kR,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ui,fromToMotion:()=>Pt,staticFromToMotion:()=>fr});var cw=new Map;function LR(){cw.clear()}function ls(e){let t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);let n=(cw.get(i)??0)+1;return cw.set(i,n),`${i}-${n}`}function fZ(){return URL.createObjectURL(new Blob).split("/").at(-1)}function NR(e){return typeof e!="object"||e==null||!(Symbol.iterator in e)?RR(e):e}function*OR(...e){for(let t of e)for(let i of t)yield i}function*RR(...e){for(let t of e)yield t}var Ky="$interpolate",oO=e=>e[Ky]!=null;function Jy(e,t,i,n=1/0){let s={nearest:void 0,distanceSquared:n};for(let r of i){let o=r.distanceSquared(e,t);if(o===0)return{nearest:r,distanceSquared:0};o<s.distanceSquared&&(s.nearest=r,s.distanceSquared=o)}return s}function gZ(e,t,i,n=1/0){let{x:s,y:r}=i.transformPoint(e,t),o={nearest:void 0,distanceSquared:n};for(let a of i.children){let{nearest:l,distanceSquared:c}=a.nearestSquared(s,r,o.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<o.distanceSquared&&(o.nearest=l,o.distanceSquared=c)}return o}function De(e,t,i){return Math.min(i,Math.max(e,t))}function Py(e,t){let[i,n]=An(t);return De(i,e,n)}function An(e){if(e.length===0)return[];let t=[1/0,-1/0];for(let i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function Cu(e){let[t,i]=An(e);return i-t}function _l(e,t,i=1e-10){return Math.abs(e-t)<i}function Cp(e){return Math.sign(e)===-1||Object.is(e,-0)}function e0(e,t=2){let i=10**t;return Math.round(e*i)/i}function t0(e,t=2){let i=Math.floor(Math.log(Math.abs(e))/Math.LN10);return i>=0||!isFinite(i)?e.toFixed(t):e.toFixed(Math.abs(i)-1+t)}function i0(e,t){return Math.floor(e%t+(e<0?t:0))}function wp(e){return Math.floor(e)===e?0:String(e).split(".")[1]?.length??0}function Zw(e,t){return t=t??navigator.language,new Intl.NumberFormat(t,{style:"percent"}).format(e)}function Xw(e,t){return Zw(e/100,t)}var ap=class lu{constructor(t,i,n,s){this.x=t,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:t,y:i,width:n,height:s}){return new lu(t,i,n,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){let{x:t,y:i,width:n,height:s}=this;return new lu(t,i,n,s)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height}intersection(t){if(!this.collidesBBox(t))return;let i=De(t.x,this.x,t.x+t.width),n=De(t.y,this.y,t.y+t.height),s=De(t.x,this.x+this.width,t.x+t.width),r=De(t.y,this.y+this.height,t.y+t.height);return new lu(i,n,s-i,r-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;let n=t-De(this.x,t,this.x+this.width),s=i-De(this.y,i,this.y+this.height);return n*n+s*s}static nearestBox(t,i,n){return Jy(t,i,n)}clip(t){if(t===void 0)return this;let i=Math.max(this.x,t.x),n=Math.max(this.y,t.y),s=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.y=n,this.width=Math.max(0,s-i),this.height=Math.max(0,r-n),this}shrink(t,i){let n=(s,r)=>{switch(s){case"top":this.y+=r;case"bottom":this.height-=r;break;case"left":this.x+=r;case"right":this.width-=r;break;case"vertical":this.y+=r,this.height-=r*2;break;case"horizontal":this.x+=r,this.width-=r*2;break;case void 0:this.x+=r,this.width-=r*2,this.y+=r,this.height-=r*2;break;default:}};return typeof t=="number"?n(i,t):typeof t=="object"&&Object.entries(t).forEach(([s,r])=>n(s,r)),this}grow(t,i){if(typeof t=="number")this.shrink(-t,i);else{let n=S({},t);for(let s in n)n[s]*=-1;this.shrink(n)}return this}translate(t,i){return this.x+=t,this.y+=i,this}combine(t){let{x:i,y:n,width:s,height:r}=this;this.x=Math.min(i,t.x),this.y=Math.min(n,t.y),this.width=Math.max(i+s,t.x+t.width)-this.x,this.height=Math.max(n+r,t.y+t.height)-this.y}static merge(t){let i=1/0,n=1/0,s=-1/0,r=-1/0;for(let o of t)o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height);return new lu(i,n,s-i,r-n)}[Ky](t,i){return new lu(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};ap.zero=Object.freeze(new ap(0,0,0,0));ap.NaN=Object.freeze(new ap(NaN,NaN,NaN,NaN));var X=ap,Jo=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(Jo||{});function Y(e){return function(t,i){let n=`__${i}`;t[i]||mZ(t,i,n,e)}}function mZ(e,t,i,n){let{redraw:s=1,type:r="normal",changeCb:o,convertor:a,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:s,type:r,changeCb:o,checkDirtyOnAssignment:l,convertor:a},u;switch(r){case"normal":u=bZ(i,c);break;case"transform":u=_Z(i,c);break;case"path":u=CZ(i,c);break;case"font":u=wZ(i,c);break}u=xZ(vZ(yZ(u,c),c),c),Object.defineProperty(e,t,{set:u,get:function(){return this[i]},enumerable:!0,configurable:!0})}function yZ(e,t){let{convertor:i}=t;return i?function(n){e.call(this,i(n))}:e}var Eu=Symbol("no-change");function vZ(e,t){let{changeCb:i}=t;return i?function(n){let s=e.call(this,n);return s!==Eu&&i.call(this,this),s}:e}function xZ(e,t){let{checkDirtyOnAssignment:i}=t;return i?function(n){let s=e.call(this,n);return s!==Eu&&n!=null&&n._dirty>0&&this.markDirty(n,n._dirty),s}:e}function bZ(e,t){let{redraw:i=1,changeCb:n}=t;return function(s){let r=this[e];return s!==r?(this[e]=s,this.markDirty(this,i),n?.(this),s):Eu}}function _Z(e,t){let{redraw:i=1}=t;return function(n){let s=this[e];return n!==s?(this[e]=n,this.markDirtyTransform(i),n):Eu}}function CZ(e,t){let{redraw:i=1}=t;return function(n){let s=this[e];return n!==s?(this[e]=n,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,i)),n):Eu}}function wZ(e,t){let{redraw:i=1}=t;return function(n){let s=this[e];return n!==s?(this[e]=n,this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,i)),n):Eu}}var DZ=class{constructor(){this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},uw=class Uh{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){let i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){let t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,i,n){let s=t[0]*i[0]+t[2]*i[1],r=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],a=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],c=t[1]*i[4]+t[3]*i[5]+t[5];n=n??t,n[0]=s,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){let i=new Array(6);return this.AxB(this.elements,t.elements,i),new Uh(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){let t=this.elements,i=t[0],n=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=1/(i*r-n*s);return i*=l,n*=l,s*=l,r*=l,new Uh([r,-n,-s,i,s*a-r*o,n*o-i*a])}inverseTo(t){let i=this.elements,n=i[0],s=i[1],r=i[2],o=i[3],a=i[4],l=i[5],c=1/(n*o-s*r);return n*=c,s*=c,r*=c,o*=c,t.setElements([o,-s,-r,n,r*l-o*a,s*a-n*l]),this}invertSelf(){let t=this.elements,i=t[0],n=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=1/(i*r-n*s);return i*=l,n*=l,s*=l,r*=l,t[0]=r,t[1]=-n,t[2]=-s,t[3]=i,t[4]=s*a-r*o,t[5]=n*o-i*a,this}transformPoint(t,i){let n=this.elements;return{x:t*n[0]+i*n[2]+n[4],y:t*n[1]+i*n[3]+n[5]}}transformBBox(t,i){let n=this.elements,s=n[0],r=n[1],o=n[2],a=n[3],l=t.width*.5,c=t.height*.5,u=t.x+l,d=t.y+c,h=Math.abs(l*s)+Math.abs(c*o),p=Math.abs(l*r)+Math.abs(c*a);return i??(i=new X(0,0,0,0)),i.x=u*s+d*o+n[4]-h,i.y=u*r+d*a+n[5]-p,i.width=h+h,i.height=p+p,i}toContext(t){if(this.identity)return;let i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static flyweight(t){return Uh.instance.setElements(t.elements)}static updateTransformMatrix(t,i,n,s,r,o,a){let l=i,c=n,u,d;l===1&&c===1?(u=0,d=0):(u=a?.scalingCenterX??0,d=a?.scalingCenterY??0);let h=s,p=Math.cos(h),f=Math.sin(h),g,y;h===0?(g=0,y=0):(g=a?.rotationCenterX??0,y=a?.rotationCenterY??0);let x=r,v=o,_=u*(1-l)-g,C=d*(1-c)-y;return t.setElements([p*l,f*l,-f*c,p*c,p*_-f*C+g+x,f*_+p*C+y+v]),t}static fromContext(t){let i=t.getTransform();return new Uh([i.a,i.b,i.c,i.d,i.e,i.f])}};uw.instance=new uw;var qo=uw,PR=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(PR||{}),Ln=(()=>{let e=class FR extends DZ{constructor({isVirtual:i,tag:n,zIndex:s,name:r}={}){super(),this.serialNumber=FR._nextSerialNumber++,this.id=ls(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new qo,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this._childNodeCounts={groups:0,nonGroups:0},this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.name=r,this.isVirtual=i??!1,this.tag=n??NaN,this.zIndex=s??0}get datum(){return this._datum??this._parent?.datum}get previousDatum(){return this._previousDatum}set datum(i){this._datum!==i&&(this._previousDatum=this._datum),this._datum=i}_setLayerManager(i){this._layerManager=i,this._debug=i?.debug;for(let n of this._children)n._setLayerManager(i);for(let n of this._virtualChildren)n._setLayerManager(i)}get layerManager(){return this._layerManager}*ancestors(){let i=this;for(;i=i.parent;)yield i}*traverseUp(){yield this,yield*$p(this.ancestors())}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap(i=>i.children)):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(i,n){if(n)for(let s of n)this[s]=i[s];else Object.assign(this,i);return this}append(i){i=NR(i);for(let n of i){if(n.parent)throw new Error(`${n} already belongs to another parent: ${n.parent}.`);if(n.layerManager)throw new Error(`${n} already belongs to a scene: ${n.layerManager}.`);if(this.childSet[n.id])throw new Error(`Duplicate ${n.constructor.name} node: ${n}`);n.isVirtual?this._virtualChildren.push(n):this._children.push(n),this.childSet[n.id]=!0,n._parent=this,n._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(i){return this.append(i),i}removeChild(i){let n=()=>{throw new Error("The node to be removed is not a child of this node.")};if(i.parent!==this&&n(),i.isVirtual){let s=this._virtualChildren.indexOf(i);s<0&&n(),this._virtualChildren.splice(s,1)}else{let s=this._children.indexOf(i);s<0&&n(),this._children.splice(s,1)}return delete this.childSet[i.id],i._parent=void 0,i._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(i,3),i}clear(){for(let i of OR(this._virtualChildren,this._children))i._parent=void 0,i._setLayerManager();this._virtualChildren.length=0,this._children.length=0,this.childSet={}}calculateCumulativeMatrix(){this.computeTransformMatrix();let i=qo.flyweight(this.matrix);for(let n of this.ancestors())n.computeTransformMatrix(),i.preMultiplySelf(n.matrix);return i}transformPoint(i,n){return this.calculateCumulativeMatrix().invertSelf().transformPoint(i,n)}inverseTransformPoint(i,n){return this.calculateCumulativeMatrix().transformPoint(i,n)}transformBBox(i){return this.calculateCumulativeMatrix().invertSelf().transformBBox(i)}inverseTransformBBox(i){return this.calculateCumulativeMatrix().transformBBox(i)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}destroy(){this.parent?.removeChild(this)}containsPoint(i,n){return!1}pickNode(i,n){if(!this.visible||this.pointerEvents===1||!this.containsPoint(i,n))return;let{children:s}=this;if(s.length>1e3)for(let r=s.length-1;r>=0;r--){let o=s[r],l=o.computeTransformedBBox()?.containsPoint(i,n)?o.pickNode(i,n):void 0;if(l)return l}else if(s.length)for(let r=s.length-1;r>=0;r--){let o=s[r].pickNode(i,n);if(o)return o}else if(!this.isContainerNode)return this}getBBox(i=!1){return(this.cachedBBox==null||i)&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}computeTransformedBBox(){let i=this.getBBox()?.clone();if(!i)return;this.computeTransformMatrix();let n=qo.flyweight(this.matrix);for(let s of this.ancestors())s.computeTransformMatrix(),n.preMultiplySelf(s.matrix);return n.transformBBox(i,i),i}computeTransformMatrix(){if(!this.dirtyTransform)return;let{matrix:i,scalingX:n,scalingY:s,rotation:r,translationX:o,translationY:a,scalingCenterX:l,scalingCenterY:c,rotationCenterX:u,rotationCenterY:d}=this;qo.updateTransformMatrix(i,n,s,r,o,a,{scalingCenterX:l,scalingCenterY:c,rotationCenterX:u,rotationCenterY:d}),this.dirtyTransform=!1}transformRenderContext(i,n){return this.computeTransformMatrix(),this.matrix.toContext(n??i.ctx),this.matrix}preRender(){this._childNodeCounts.groups=0,this._childNodeCounts.nonGroups=1;for(let i of this.children){let n=i.preRender();this._childNodeCounts.groups+=n.groups,this._childNodeCounts.nonGroups+=n.nonGroups}return this._childNodeCounts}render(i){let{stats:n}=i;this._dirty=0,this.cachedBBox=this.computeBBox(),n&&n.nodesRendered++}markDirty(i,n=1,s=n){this.cachedBBox=void 0,!(this._dirty>n||this._dirty===n&&n===s)&&(this._dirty=n,this.parent?this.parent.markDirty(this,s):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(i){let{force:n=!1,recursive:s=!0}=i??{};if(!(this._dirty===0&&!n)){if(this._dirty=0,s!==!1)for(let r of this._virtualChildren)r.markClean({force:n});if(s===!0)for(let r of this._children)r.markClean({force:n})}}onVisibleChange(){}get nodeCount(){let i=1,n=this._dirty>=0||this.dirtyTransform?1:0,s=this.visible?1:0,r=o=>{let{count:a,visibleCount:l,dirtyCount:c}=o.nodeCount;i+=a,s+=l,n+=c};for(let o of this._children)r(o);for(let o of this._virtualChildren)r(o);return{count:i,visibleCount:s,dirtyCount:n}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};return e._nextSerialNumber=0,e})();m([Y({type:"transform"})],Ln.prototype,"scalingX",2);m([Y({type:"transform"})],Ln.prototype,"scalingY",2);m([Y({type:"transform"})],Ln.prototype,"scalingCenterX",2);m([Y({type:"transform"})],Ln.prototype,"scalingCenterY",2);m([Y({type:"transform"})],Ln.prototype,"rotationCenterX",2);m([Y({type:"transform"})],Ln.prototype,"rotationCenterY",2);m([Y({type:"transform"})],Ln.prototype,"rotation",2);m([Y({type:"transform"})],Ln.prototype,"translationX",2);m([Y({type:"transform"})],Ln.prototype,"translationY",2);m([Y({redraw:3,changeCb:e=>e.onVisibleChange()})],Ln.prototype,"visible",2);m([Y({redraw:1,changeCb:e=>e.onZIndexChange()})],Ln.prototype,"zIndex",2);m([Y({redraw:1,changeCb:e=>e.onZIndexChange()})],Ln.prototype,"zIndexSubOrder",2);var ku=Ln,uy=(e,t,i)=>e*(1-i)+t*i,PC=e=>{let t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},FC=e=>{let t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},SZ=(()=>{let e=class ft{constructor(i,n,s,r=1){this.r=De(0,i||0,1),this.g=De(0,n||0,1),this.b=De(0,s||0,1),this.a=De(0,r||0,1)}static validColorString(i){return i.indexOf("#")>=0?!!ft.parseHex(i):i.indexOf("rgb")>=0?!!ft.stringToRgba(i):!!ft.nameToHex[i.toLowerCase()]}static fromString(i){if(i.indexOf("#")>=0)return ft.fromHexString(i);let n=ft.nameToHex[i.toLowerCase()];if(n)return ft.fromHexString(n);if(i.indexOf("rgb")>=0)return ft.fromRgbaString(i);throw new Error(`Invalid color string: '${i}'`)}static parseHex(i){i=i.replace(/ /g,"").slice(1);let n;switch(i.length){case 6:case 8:n=[];for(let s=0;s<i.length;s+=2)n.push(parseInt(`${i[s]}${i[s+1]}`,16));break;case 3:case 4:n=i.split("").map(s=>parseInt(s,16)).map(s=>s+s*16);break}if(n?.length>=3&&n.every(s=>s>=0))return n.length===3&&n.push(255),n}static fromHexString(i){let n=ft.parseHex(i);if(n){let[s,r,o,a]=n;return new ft(s/255,r/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${i}'`)}static stringToRgba(i){let n=-1,s=-1;for(let l=0;l<i.length;l++){let c=i[l];if(n===-1&&c==="(")n=l;else if(c===")"){s=l;break}}if(n===-1||s===-1)return;let o=i.substring(n+1,s).split(","),a=[];for(let l=0;l<o.length;l++){let c=o[l],u=parseFloat(c);if(!Number.isFinite(u))return;c.indexOf("%")>=0?(u=De(0,u,100),u/=100):l===3?u=De(0,u,1):(u=De(0,u,255),u/=255),a.push(u)}return a}static fromRgbaString(i){let n=ft.stringToRgba(i);if(n){if(n.length===3)return new ft(n[0],n[1],n[2]);if(n.length===4)return new ft(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${i}'`)}static fromArray(i){if(i.length===4)return new ft(i[0],i[1],i[2],i[3]);if(i.length===3)return new ft(i[0],i[1],i[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(i,n,s,r=1){let o=ft.HSBtoRGB(i,n,s);return new ft(o[0],o[1],o[2],r)}static fromHSL(i,n,s,r=1){let o=ft.HSLtoRGB(i,n,s);return new ft(o[0],o[1],o[2],r)}static fromOKLCH(i,n,s,r=1){let o=ft.OKLCHtoRGB(i,n,s);return new ft(o[0],o[1],o[2],r)}static padHex(i){return i.length===1?"0"+i:i}toHexString(){let i="#"+ft.padHex(Math.round(this.r*255).toString(16))+ft.padHex(Math.round(this.g*255).toString(16))+ft.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(i+=ft.padHex(Math.round(this.a*255).toString(16))),i}toRgbaString(i=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],s=Math.pow(10,i);return this.a!==1?(n.push(Math.round(this.a*s)/s),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ft.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(i,n,s){let r=PC(i),o=PC(n),a=PC(s),l=Math.cbrt(.4122214708*r+.5363325363*o+.0514459929*a),c=Math.cbrt(.2119034982*r+.6806995451*o+.1073969566*a),u=Math.cbrt(.0883024619*r+.2817188376*o+.6299787005*a),d=.2104542553*l+.793617785*c-.0040720468*u,h=1.9779984951*l-2.428592205*c+.4505937099*u,p=.0259040371*l+.7827717662*c-.808675766*u,f=Math.atan2(p,h)*180/Math.PI,g=d,y=Math.hypot(h,p),x=f>=0?f:f+360;return[g,y,x]}static OKLCHtoRGB(i,n,s){let r=i,o=n*Math.cos(s*Math.PI/180),a=n*Math.sin(s*Math.PI/180),l=(r+.3963377774*o+.2158037573*a)**3,c=(r-.1055613458*o-.0638541728*a)**3,u=(r-.0894841775*o-1.291485548*a)**3,d=4.0767416621*l-3.3077115913*c+.2309699292*u,h=-1.2684380046*l+2.6097574011*c-.3413193965*u,p=-.0041960863*l-.7034186147*c+1.707614701*u,f=FC(d),g=FC(h),y=FC(p);return[f,g,y]}static RGBtoHSL(i,n,s){let r=Math.min(i,n,s),o=Math.max(i,n,s),a=(o+r)/2,l,c;if(o===r)l=0,c=0;else{let u=o-r;c=a>.5?u/(2-o-r):u/(o+r),o===i?l=(n-s)/u+(n<s?6:0):o===n?l=(s-i)/u+2:l=(i-n)/u+4,l*=60}return[l,c,a]}static HSLtoRGB(i,n,s){if(i=(i%360+360)%360,n===0)return[s,s,s];let r=s<.5?s*(1+n):s+n-s*n,o=2*s-r;function a(d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?o+(r-o)*6*d:d<.5?r:d<.6666666666666666?o+(r-o)*(.6666666666666666-d)*6:o}let l=a(i/360+1/3),c=a(i/360),u=a(i/360-1/3);return[l,c,u]}static RGBtoHSB(i,n,s){let r=Math.min(i,n,s),o=Math.max(i,n,s),a=o===0?0:(o-r)/o,l=0;if(r!==o){let c=o-r,u=(o-i)/c,d=(o-n)/c,h=(o-s)/c;i===o?l=h-d:n===o?l=2+u-h:l=4+d-u,l/=6,l<0&&(l=l+1)}return[l*360,a,o]}static HSBtoRGB(i,n,s){i=(i%360+360)%360/360;let r=0,o=0,a=0;if(n===0)r=o=a=s;else{let l=(i-Math.floor(i))*6,c=l-Math.floor(l),u=s*(1-n),d=s*(1-n*c),h=s*(1-n*(1-c));switch(l>>0){case 0:r=s,o=h,a=u;break;case 1:r=d,o=s,a=u;break;case 2:r=u,o=s,a=h;break;case 3:r=u,o=d,a=s;break;case 4:r=h,o=u,a=s;break;case 5:r=s,o=u,a=d;break}}return[r,o,a]}static mix(i,n,s){return new ft(uy(i.r,n.r,s),uy(i.g,n.g,s),uy(i.b,n.b,s),uy(i.a,n.a,s))}};return e.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e})(),ar=SZ;function VR(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function BR(e,t){if(typeof e=="string")try{e=ar.fromString(e)}catch{e=ar.fromArray([0,0,0])}if(typeof t=="string")try{t=ar.fromString(t)}catch{t=ar.fromArray([0,0,0])}return i=>ar.mix(e,t,i).toRgbaString()}var Fy=Symbol("BREAK"),fu="__decorator_config";function jR(e,t){Object.getOwnPropertyDescriptor(e,fu)==null&&Object.defineProperty(e,fu,{value:{}});let i=e[fu],n=t.toString();if(typeof i[n]<"u")return i[n];let s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};let r=Object.getOwnPropertyDescriptor(e,t),o=r?.set,a=r?.get;return Object.defineProperty(e,t,{set:function(u){let{setters:d,observers:h}=i[n],p;d.some(f=>f.length>2)&&(p=a?a.call(this):s.get(this));for(let f of d)if(u=f(this,t,u,p),u===Fy)return;o?o.call(this,u):s.set(this,u);for(let f of h)f(this,u,p)},get:function(){let u=a?a.call(this):s.get(this);for(let d of i[n].getters)if(u=d(this,t,u),u===Fy)return;return u},enumerable:!0,configurable:!1}),i[n]}function qr(e,t,i){return(n,s)=>{let r=jR(n,s);r.setters.push(e),t&&r.getters.unshift(t),i&&Object.assign(r,i)}}function MZ(e){return(t,i)=>{jR(t,i).observers.push(e)}}function n0(e){return typeof e<"u"&&fu in e}function gu(e){let t=new Set;for(;n0(e);)t.add(e?.[fu]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function TZ(e){return gu(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function IZ(e,t){let i=t.toString();for(;n0(e);){let n=e[fu];if(Object.hasOwn(n,i))return n[i];e=Object.getPrototypeOf(e)}}function lp(e){return e!=null}function St(e){return Array.isArray(e)}function qw(e){return typeof e=="boolean"}function Dp(e){return e instanceof Date}function Sp(e){return Dp(e)&&!isNaN(Number(e))}function zR(e){return e instanceof RegExp}function Qr(e){return typeof e=="function"}function pn(e){return typeof e=="object"&&e!==null&&!St(e)}function AZ(e){return St(e)||os(e)}function os(e){return typeof e=="object"&&e!==null&&e.constructor===Object}function fn(e){return typeof e=="string"}function In(e){return typeof e=="number"}function He(e){return Number.isFinite(e)}function GR(e){return typeof window<"u"&&e instanceof HTMLElement}function EZ(e,t){return fn(t)&&Object.keys(e).includes(t)}function HR(e,t){return Object.values(e).includes(t)}function UR(e){return typeof e=="symbol"}function kZ(...e){return Ve(...e.reverse())}function Ve(...e){let t={};for(let i of e){if(!pn(i))continue;let n=n0(i)?gu(i):Object.keys(i);for(let s of n)os(t[s])&&os(i[s])?t[s]=Ve(t[s],i[s]):t[s]??(t[s]=i[s])}return t}function dw(e,...t){return t&&St(e)?e.map(i=>Ve(i,...t)):e}function Qw(e,t){return Object.entries(e).reduce((i,[n,s])=>(i[n]=t(s,n,e),i),{})}function hw(e,t){let i=S({},e);for(let n of t)delete i[n];return i}function Kw(e,t){return(St(t)?t:t.split(".")).reduce((n,s)=>n[s],e)}var Jw=new Set(["__proto__","constructor","prototype"]);function eD(e,t,i){let n=St(t)?t.slice():t.split("."),s=n.pop();if(n.some(o=>Jw.has(o)))return;let r=n.reduce((o,a)=>o[a],e);return r[s]=i,r[s]}function yl(e,t,i){if(i===void 0)return t;for(let n of e){let s=i[n];s!==void 0&&(t[n]=s)}return t}var Te=class{set(e){let{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return z.warn(`unable to set ${t} - expecting a properties object`),this;let i=new Set(Object.keys(e));for(let n of gu(this))if(i.has(n)){let s=e[n],r=this;ur(r[n])?r[n]=r[n]instanceof s0?r[n].reset(s):r[n].set(s):r[n]=s,i.delete(n)}for(let n of i)z.warn(`unable to set [${n}] in ${t} - property is unknown`);return this}isValid(e){return gu(this).every(t=>{let{optional:i}=IZ(this,t),n=i===!0||typeof this[t]<"u";return n||z.warnOnce(`${e??""}[${t}] is required.`),n})}toJson(){return gu(this).reduce((e,t)=>{let i=this[t];return e[t]=ur(i)?i.toJson():i,e},{})}},s0=class $R extends Array{constructor(t,...i){super(i.length);let s=(r=>!!r?.prototype?.constructor?.name)(t)?r=>new t().set(r):t;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(St(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){return new $R(this.itemFactory,...t)}toJson(){return this.map(t=>t?.toJson?.()??t)}};function ur(e){return e instanceof Te||e instanceof s0}var pw="class-instance";function En(e,t,i){if(St(t)){if(!St(e)||e.length!==t.length||t.some((n,s)=>En(e[s],n)!=null))return t}else if(os(t)){if(!os(e))return t;let n={},s=new Set([...Object.keys(e),...Object.keys(t)]);for(let r of s)if(!(e[r]===t[r]||i?.includes(r)))if(typeof e[r]==typeof t[r]){let o=En(e[r],t[r]);o!==null&&(n[r]=o)}else n[r]=t[r];return Object.keys(n).length?n:null}else if(e!==t)return t;return null}function Ti(e,t){return St(e)?e.map(i=>Ti(i,t)):os(e)?Qw(e,(i,n)=>t?.shallow?.includes(n)?Vy(i):Ti(i,t)):Vy(e)}function Vy(e){return St(e)?[...e]:os(e)?S({},e):Dp(e)?new Date(e):zR(e)?new RegExp(e.source,e.flags):e}function cr(e,t,i,...n){if(St(e))t(e,...n),e.forEach((s,r)=>{cr(s,t,i,...aO(n,r))});else if(os(e)){t(e,...n);for(let s of Object.keys(e)){if(i?.skip?.includes(s))continue;let r=e[s];(St(r)||os(r))&&cr(r,t,i,...aO(n,s))}}}function mu(e,t,i={}){let{path:n,matcherPath:s=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(t==null)return e;if(ur(e))return e.set(t);let o=e,a=VC(e);for(let l in t){if(Jw.has(l))continue;let c=`${s?s+".":""}${l}`;if(r.includes(c))continue;let u=t[l],d=`${n?n+".":""}${l}`,h=o.constructor,p=o[l];try{let f=VC(p),g=VC(u);if(a===pw&&!(l in e)){z.warn(`unable to set [${d}] in ${h?.name} - property is unknown`);continue}if(f!=null&&g!=null&&g!==f&&(f!==pw||g!=="object")){z.warn(`unable to set [${d}] in ${h?.name} - can't apply type of [${g}], allowed types are: [${f}]`);continue}ur(p)?o[l].set(u):g==="object"?(p==null&&(o[l]={}),mu(p??o[l],u,k(S({},i),{path:d,matcherPath:c}))):o[l]=u}catch(f){z.warn(`unable to set [${d}] in [${h?.name}]; nested error is: ${f.message}`)}}return e}function aO(e,t){return e.map(i=>i?.[t])}function VC(e){return e==null?null:GR(e)||Dp(e)?"primitive":St(e)?"array":pn(e)?os(e)?"object":pw:Qr(e)?"function":"primitive"}var tD={};pr(tD,{easeIn:()=>LZ,easeInOut:()=>NZ,easeInOutQuad:()=>PZ,easeInQuad:()=>OZ,easeOut:()=>cp,easeOutQuad:()=>RZ,inverseEaseOut:()=>YR,linear:()=>WR});var WR=e=>e,LZ=e=>1-Math.cos(e*Math.PI/2),cp=e=>Math.sin(e*Math.PI/2),NZ=e=>-(Math.cos(e*Math.PI)-1)/2,OZ=e=>e*e,RZ=e=>1-(1-e)**2,PZ=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,YR=e=>2*Math.asin(e)/Math.PI,By=.2,cu=["initial","remove","update","add","trailing","end","none"],up={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:By,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+By,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},ZR=(e=>(e.Loop="loop",e.Reverse="reverse",e))(ZR||{});function FZ(e){return e.every(t=>t instanceof ku)}function r0(e){return FZ(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}var XR=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??WR,this.phase=e.phase;let t=e.duration??up[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return e.from===e.to?0:(typeof e.from=="object"?En(e.from,e.to):null)?t:0}play(e=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);let t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;let i=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(i,!1,this);let n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(n-t)):0}get delta(){return this.ease(De(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||oO(t))return this.interpolateValue(e,t);let i=[];for(let n in t){let s=this.interpolateValue(e[n],t[n]);s!=null&&i.push([n,s])}return n=>{let s={};for(let[r,o]of i)s[r]=o(n);return s}}interpolateValue(e,t){if(!(e===void 0||t===void 0)){if(oO(e))return i=>e[Ky](t,i);try{switch(typeof e){case"number":return VR(e,t);case"string":return BR(e,t);case"boolean":if(e===t)return()=>e;break}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},Ui={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Pt(e,t,i,n,s,r,o){let{fromFn:a,toFn:l,intermediateFn:c}=s,{nodes:u,selections:d}=r0(n),h=(f,g)=>{let y,x=0,v=0;for(let w of g){let D=f[x]===w,M={last:v>=g.length-1,lastLive:x>=f.length-1,prev:g[v-1],prevFromProps:y,prevLive:f[x-1],next:g[v+1],nextLive:f[x+(D?1:0)]},I=`${e}_${t}_${w.id}`;i.stopByAnimationId(I);let T="unknown";D?r&&o&&(T=VZ(w,w.datum,r,o)):T="removed";let _=a(w,w.datum,T,M),{phase:A,start:E,finish:P,delay:N,duration:j}=_,ae=mt(_,["phase","start","finish","delay","duration"]),C=l(w,w.datum,T,M),{phase:oe,start:re,finish:ie,delay:ne,duration:Ue}=C,we=mt(C,["phase","start","finish","delay","duration"]),Pe=P==null&&ie==null;i.animate({id:I,groupId:e,phase:A??oe??"update",duration:j??Ue,delay:N??ne,from:ae,to:we,ease:cp,collapsable:Pe,onPlay:()=>{w.setProperties(S(S({},E),re))},onUpdate(le){w.setProperties(le),c&&w.setProperties(c(w,w.datum,T,M))},onStop:()=>{w.setProperties(S(S(S(S(S(S({},E),re),ae),we),P),ie))}}),D&&x++,v++,y=ae}},p=0;for(let f of d){let g=f.nodes(),y=g.filter(x=>!f.isGarbage(x));h(y,g),i.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:cp,onStop(){f.cleanup()}}),p++}h(u,u)}function fr(e,t,i,n,s,r,o){let{nodes:a,selections:l}=r0(n),{start:c,finish:u,phase:d}=o,h=u==null;i.animate({id:`${e}_${t}`,groupId:e,phase:d??"update",from:s,to:r,ease:cp,collapsable:h,onPlay:()=>{if(c){for(let p of a)p.setProperties(c);for(let p of l)for(let f of p.nodes())f.setProperties(c)}},onUpdate(p){for(let f of a)f.setProperties(p);for(let f of l)for(let g of f.nodes())g.setProperties(p)},onStop:()=>{for(let p of a)p.setProperties(S(S({},r),u));for(let p of l){for(let f of p.nodes())f.setProperties(S(S({},r),u));p.cleanup()}}})}function VZ(e,t,i,n){let s=i(e,t);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var dy={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function iD(e,t=new Date(e.getFullYear(),0,1)){let i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function lO(e,t){let n=new Date(e.getFullYear(),0,1).getDay(),s=(t-n+7)%7,r=new Date(e.getFullYear(),0,s+1);return r<=e?Math.floor(iD(e,r)/7)+1:0}var BZ=0,qR=1,cO=4;function QR(e,t=e.getFullYear()){let n=new Date(t,0,1).getDay(),s=(cO-n+7)%7,r=new Date(t,0,s-(cO-qR)+1);return r<=e?Math.floor(iD(e,r)/7)+1:QR(e,t-1)}function jZ(e){let t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${Mi(Math.floor(i/60),2,"0")}${Mi(Math.floor(i%60),2,"0")}`}var zZ={a:e=>dy.shortDays[e.getDay()],A:e=>dy.days[e.getDay()],b:e=>dy.shortMonths[e.getMonth()],B:e=>dy.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Mi(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Mi(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>Mi(e.getHours(),2,t??"0"),I:(e,t)=>{let i=e.getHours()%12;return i===0?"12":Mi(i,2,t??"0")},j:(e,t)=>Mi(iD(e)+1,3,t??"0"),m:(e,t)=>Mi(e.getMonth()+1,2,t??"0"),M:(e,t)=>Mi(e.getMinutes(),2,t??"0"),L:(e,t)=>Mi(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Mi(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Mi(lO(e,BZ),2,t??"0"),V:(e,t)=>Mi(QR(e),2,t??"0"),w:(e,t)=>Mi(e.getDay(),2,t??"0"),W:(e,t)=>Mi(lO(e,qR),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Mi(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Mi(e.getFullYear(),4,t??"0"),Z:e=>jZ(e),"%":()=>"%"},GZ={_:" ",0:"0","-":""};function Mi(e,t,i){let n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function Mp(e){let t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){let a=i>0?e.substring(0,i):e;t.push(a)}if(i<0)break;let n=e[i+1],s=GZ[n];s!=null&&i++;let r=e[i+1],o=zZ[r];if(typeof o=="function")t.push([o,s]);else if(typeof o=="string"){let a=Mp(o);t.push([a,s])}else t.push(`${s??""}${r}`);e=e.substring(i+2)}return i=>{let n=typeof i=="number"?new Date(i):i;return t.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}function dn(e){return e instanceof Date?e.getTime():e}function nD(e,t,i){let n=KR(e,t,i),s=Mp(n);return r=>s(r)}function KR(e=[],t=e,i=0){let n=1/0;for(let l=1;l<e.length;l++)n=Math.min(n,Math.abs(e[l]-e[l-1]));let s=new Date(t[0]).getFullYear(),o=new Date(t.at(-1)).getFullYear()-s>0,a=isFinite(n)?HZ(n,e):UZ(e[0]);return WZ(Math.max(a-i,0),o,e)}function HZ(e,t){return e<Xo?0:e<Ii?1:e<Hi?2:e<rs?3:e<Wr?4:e<rs*28||e<rs*31&&$Z(t)?5:e<_u?6:7}function UZ(e){return zh.floor(e)<e?0:Gh.floor(e)<e?1:Hh.floor(e)<e?2:lw.floor(e)<e?3:au.floor(e)<e?Ty.floor(e)<e?4:5:Yw.floor(e)<e?6:7}function $Z(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){let n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}function WZ(e,t,i){let n=dn(i[0]),s=dn(i.at(-1)),r=Math.abs(s-n),o=t||e===7,a=r===0,c=[["hour",6*Hi,14*rs,3,"%I %p"],["hour",Ii,6*Hi,3,"%I:%M"],["second",1e3,6*Hi,1,":%S"],["ms",0,6*Hi,0,".%L"],["am/pm",Ii,6*Hi,3,"%p"]," ",["day",rs,Wr,4,"%a"],["month",a?0:Wr,52*Wr,5,"%b %d"],["month",5*Wr,10*_u,6,"%B"]," ",["year",o?0:_u,1/0,7,"%Y"]].filter(h=>{if(typeof h=="string")return!0;let[p,f,g,y]=h;return y>=e&&f<=r&&r<g}).reduce((h,p)=>(typeof p=="string"?h.result.push(p):h.used.has(p[0])||(h.result.push(p),h.used.add(p[0])),h),{result:[],used:new Set}).result,u=c.findIndex(h=>typeof h!="string"),d=c.length-[...c].reverse().findIndex(h=>typeof h!="string");return c.slice(u,d).map(h=>typeof h=="string"?h:h[4]).join("").replaceAll(/\s+/g," ").trim()}var ui=(e,t)=>{let i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},o0=class JR{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof JR}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&z.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(let i of t){let n=dn(i);this.getIndex(n)===void 0&&this.index.set(n,this._domain.push(i)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){this.refresh();let i=this.getIndex(t);return i==null?NaN:this.ordinalRange[i]??NaN}invert(t){this.refresh();let i=this.ordinalRange.findIndex(n=>n===t);return this.domain[i]}invertNearest(t){this.refresh();let i=-1,n=1/0,s=this.ordinalRange.findIndex((r,o)=>{if(r===t)return!0;let a=Math.abs(t-r);return a<n&&(n=a,i=o),!1});return this.domain[s]??this.domain[i]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=De(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=De(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=De(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){let t=this._domain.length;if(t===0)return;let[i,n]=this.range,{_paddingInner:s}=this,{_paddingOuter:r,round:o}=this,a=n-i,l,c,u;t===1?(s=0,l=a*(1-r*2),c=o?Math.round(l):l,u=a*r):(l=a/Math.max(1,t-s+r*2),c=o?Math.floor(l):l,u=i+(a-c*(t-s))/2);let d=c*(1-s);o&&(u=Math.round(u),d=Math.round(d)),this._step=c,this._inset=u,this._bandwidth=d,this._rawBandwidth=l*(1-s),this.ordinalRange=this._domain.map((h,p)=>u+c*p)}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};m([ui],o0.prototype,"range",2);m([ui],o0.prototype,"round",2);m([ui],o0.prototype,"interval",2);var sa=o0;function b(e,t={}){let{optional:i=!1,property:n}=t;return qr((s,r,o)=>{let a=k(S({},t),{target:s,property:r});if(i&&typeof o>"u"||e(o,a))return ur(s[r])&&!ur(o)?(s[r].set(o),s[r]):o;let l=n??String(r).replace(/^_*/,""),c=s.constructor.className??s.constructor.name.replace(/Properties$/,""),u=Qh(o),d=50;if(u!=null&&u.length>d){let h=u.length-d;u=u.slice(0,d)+`... (+${h} characters)`}return z.warn(`Property [${l}] of [${c}] cannot be set to [${u}]${e.message?`; expecting ${Tp(e,a)}`:""}, ignoring.`),Fy},void 0,{optional:i})}var cs=(...e)=>{let t=[];return ot((i,n)=>(t.length=0,e.every(s=>{let r=s(i,n);return r||t.push(Tp(s,n)),r})),()=>t.filter(Boolean).join(" AND "))},Nl=(...e)=>ot((t,i)=>e.some(n=>n(t,i)),t=>e.map(eX(t)).filter(Boolean).join(" OR ")),Q=c2(ot((e,t)=>ur(e)||pn(e)&&ur(t.target[t.property]),"a properties object")),e2=c2(ot(e=>pn(e),"an object")),pe=ot(qw,"a boolean"),mn=ot(Qr,"a function"),U=ot(fn,"a string"),dt=iX(ot(He,"a number")),a0=ot(e=>In(e)&&isNaN(e),"NaN"),H=dt.restrict({min:0}),Ke=dt.restrict({min:0,max:1}),oa=dt.restrict({min:-360,max:360}),Lu=Nl(dt,a0),Nu=tX(ot(St,"an array")),Kr=(e,t)=>ot((i,n)=>St(i)&&i.every(s=>e(s,n)),i=>{let n=Tp(Nu,i)??"";return t?`${n} of ${t}`:n}),jy=e=>He(e)||Sp(e),Ou=e=>ot((t,i)=>!jy(t)||!jy(i.target[e])||t<i.target[e],`to be less than ${e}`),Ru=e=>ot((t,i)=>!jy(t)||!jy(i.target[e])||t>i.target[e],`to be greater than ${e}`),sD=ot(Sp,"Date object"),rD=Nl(sD,H),t2="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",it=ot(e=>fn(e)&&ar.validColorString(e),`color String. ${t2}`),us=ot(Kr(it),`color strings. ${t2}`),YZ=Kr(pe,"boolean values"),l0=Kr(dt,"numbers"),i2=Kr(U,"strings"),ZZ=ot(Kr(sD),"Date objects"),n2=ot(Kr(Q),"objects"),XZ=ht(["butt","round","square"],"a line cap"),qZ=ht(["round","bevel","miter"],"a line join"),Jr=ot(Kr(H),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),oD=ht(["top","right","bottom","left"],"a position"),aa=ht(["normal","italic","oblique"],"a font style"),la=Nl(ht(["normal","bold","bolder","lighter"],"a font weight"),dt.restrict({min:1,max:1e3})),c0=ht(["never","always","hyphenate","on-space"],"a text wrap strategy"),s2=ht(["left","center","right"],"a text align"),QZ=ht(["top","middle","bottom"],"a vertical align"),KZ=ht(["ellipsis","hide"],"an overflow strategy"),r2=ht(["horizontal","vertical"],"a direction"),o2=ht(["inside","outside"],"a placement"),u0=Nl(ht(["exact","nearest"],"interaction range"),dt),aD=ht(["top","bottom","left","right"]);function ht(e,t="a"){return ot(i=>e.includes(i),`${t} keyword such as ${JZ(e)}`)}var a2=Nl(cs(dt.restrict({min:1}),Ou("maxSpacing")),a0),l2=Nl(cs(dt.restrict({min:1}),Ru("minSpacing")),a0);function ot(e,t){return e.message=t,e}function JZ(e){let t=e.map(n=>`'${n}'`);if(t.length===1)return t[0];let i=t.pop();return`${t.join(", ")} or ${i}`}function Tp(e,t){return Qr(e.message)?e.message(t):e.message}function eX(e){return t=>Tp(t,e)}function tX(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let n="an array";return In(i)&&i>0?n="a non-empty array":In(t)&&(n=`an array of length ${t}`),ot(s=>St(s)&&(In(t)?s.length===t:!0)&&(In(i)?s.length>=i:!0),n)}})}function iX(e){return Object.assign(e,{restrict({min:t,max:i}={}){let n=["a number"],s=In(t),r=In(i);return s&&r?n.push(`between ${t} and ${i} inclusive`):s?n.push(`greater than or equal to ${t}`):r&&n.push(`less than or equal to ${i}`),ot(o=>He(o)&&(s?o>=t:!0)&&(r?o<=i:!0),n.join(" "))}})}function c2(e){return Object.assign(e,{restrict(t){return ot(i=>i instanceof t,i=>Tp(e,i)??`an instance of ${t.name}`)}})}function Qh(e){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var lD=(e=>(e.X="x",e.Y="y",e))(lD||{}),cD=class{constructor(){this.moduleMap=new Map}*modules(){let e=["toolbar","navigator"];for(let t of this.moduleMap.values())e.includes(t.module.optionsKey)||(yield t.moduleInstance);for(let t of e){let i=this.moduleMap.get(t);i&&(yield i.moduleInstance)}}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){let t=fn(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(fn(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(fn(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){for(let e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},u2={};pr(u2,{resetMotion:()=>Gt});function Gt(e,t){let{nodes:i,selections:n}=r0(e);for(let s of n){for(let r of s.nodes()){let o=t(r,r.datum);r.setProperties(o)}s.cleanup()}for(let s of i){let r=t(s,s.datum);s.setProperties(r)}}var ca=(()=>{let e=class fw{constructor(i,n){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=fw.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=i,this.range=n}static is(i){return i instanceof fw}transform(i){return i}transformInvert(i){return i}calcBandwidth(i=1){let n=this.getDomain(),s=this.getPixelRange(),r=Math.abs(n[1]-n[0])/i+1,o=Math.floor(s),a=Math.min(r,o);return s/Math.max(1,a)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(i,n){let s=n?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();let r=this.getDomain().map(d=>this.transform(d)),[o,a]=r,{range:l}=this,[c,u]=l;if(i=this.transform(i),s==="clamped"){let[d,h]=An(r.map(Number));if(Number(i)<d)return c;if(Number(i)>h)return u}return o===a?(c+u)/2:i===o?c:i===a?u:c+(Number(i)-Number(o))/(Number(a)-Number(o))*(u-c)}invert(i){this.refresh();let n=this.getDomain().map(p=>this.transform(p)),[s,r]=n,{range:o}=this,[a,l]=o,c=a>l,u=c?l:a,d=c?a:l,h;return i<u?c?r:s:i>d?c?s:r:(a===l?h=this.toDomain((Number(s)+Number(r))/2):h=this.toDomain(Number(s)+(i-a)/(l-a)*(Number(r)-Number(s))),this.transformInvert(h))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&z.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){let[i,n]=this.range;return Math.abs(n-i)}};return e.defaultTickCount=5,e.defaultMaxTickCount=6,e})();m([ui],ca.prototype,"domain",2);m([ui],ca.prototype,"range",2);m([ui],ca.prototype,"nice",2);m([ui],ca.prototype,"interval",2);m([ui],ca.prototype,"tickCount",2);m([ui],ca.prototype,"minTickCount",2);m([ui],ca.prototype,"maxTickCount",2);var st=ca;function d2(e){let t,i,n=sX.exec(e);n&&([,t,e,i]=n);let s=nX.exec(e);if(!s)throw new Error(`The number formatter is invalid: ${e}`);let[,r,o,a,l,c,u,d,h,p,f]=s;return{fill:r,align:o,sign:a,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:!!p,type:f,prefix:t,suffix:i}}function h2(e){let t=typeof e=="string"?d2(e):e,{fill:i,align:n,sign:s="-",symbol:r,zero:o,width:a,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=t,{trim:p}=t,f=h==null||isNaN(h),g;if(!c)g=is.g,p=!0;else if(c in is&&c in du)g=f?du[c]:is[c];else if(c in is)g=is[c];else if(c in du)g=du[c];else throw new Error(`The number formatter type is invalid: ${c}`);let y;return h==null||f?y=c?6:12:y=h,x=>{let v=g(x,y);return p&&(v=aX(v)),l&&(v=lX(v,l)),v=uX(x,v,s),r&&r!=="#"&&(v=`${r}${v}`),r==="#"&&c==="x"&&(v=`0x${v}`),c==="s"&&(v=`${v}${cX(x)}`),(c==="%"||c==="p")&&(v=`${v}%`),a!=null&&!isNaN(a)&&(v=dX(v,a,i??o,n)),v=`${u}${v}${d}`,v}}var nX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,sX=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,du={b:e=>hy(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>hy(e).toString(8),x:e=>hy(e).toString(16),X:e=>du.x(e).toUpperCase(),n:e=>du.d(e),"%":e=>`${hy(e*100).toFixed(0)}`},is={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>is.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>is.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";let i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>is.g(e,t).toUpperCase(),n:(e,t)=>is.g(e,t),p:(e,t)=>is.r(e*100,t),r:(e,t)=>{if(e===0)return"0";let i=Math.abs(e),s=Math.floor(Math.log10(i))-(t-1);if(s<=0)return i.toFixed(-s);let r=10**s;return(Math.round(i/r)*r).toFixed()},s:(e,t)=>{let i=g2(e);return is.r(e/10**i,t)},"%":(e,t)=>is.f(e*100,t)},p2=-24,f2=24,rX={[p2]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[f2]:"Y"},oX="\u2212";function hy(e){return Math.floor(Math.abs(e))}function aX(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function lX(e,t){let i=e.indexOf(".");i<0&&(i=e.length);let n=e.substring(0,i).split(""),s=e.substring(i);for(let r=n.length-3;r>0;r-=3)n.splice(r,0,t);return`${n.join("")}${s}`}function cX(e){return rX[g2(e)]}function g2(e){return De(p2,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,f2)}function uX(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;let n=i==="+"?"+":"";return`${e>=0?n:oX}${t}`}function dX(e,t,i=" ",n=">"){let s=e;if(n===">"||!n)s=s.padStart(t,i);else if(n==="<")s=s.padEnd(t,i);else if(n==="^"){let r=Math.max(0,t-s.length),o=Math.ceil(r/2),a=Math.floor(r/2);s=s.padStart(o+s.length,i),s=s.padEnd(a+s.length,i)}return s}function m2(e,t){let i=[];for(let n=0;n<e;n++)i.push(t(n));return i}function gr(e){if(e.length===0)return;let t=1/0,i=-1/0;for(let s of e)s instanceof Date&&(s=s.getTime()),typeof s=="number"&&(s<t&&(t=s),s>i&&(i=s));let n=[t,i];if(n.every(isFinite))return n}function y2(e,t,i){return Ip(e,t,i).extent}function Ip(e,t,i){let n=!1;return e.length>2&&(e=gr(e)??[NaN,NaN]),isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}function Cl(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!Cl(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function gw(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function d0(e){return Array.from(new Set(e))}function uD(e,t){return e.reduce((i,n)=>{let s=t(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function mw(e,t,i=0){if(e.length===0)return[];let n=[];for(let s=0;s<t;s++)n.push(e.at((s+i)%e.length));return n}function v2(e,t){return t.reduce(([i,n],s)=>e(s)?[[...i,s],n]:[i,[...n,s]],[[],[]])}function*hX(e,t){for(let i of e)yield t(i)}function pX(e,t){return e.includes(t)}function fX(e,t){return pX(e,t)}function gX(e,t){return!t.some(i=>!fX(e,i))}var At=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),$h=[At(zh,Xo,1),At(zh,Xo,5),At(zh,Xo,15),At(zh,Xo,30),At(Gh,Ii,1),At(Gh,Ii,5),At(Gh,Ii,15),At(Gh,Ii,30),At(Hh,Hi,1),At(Hh,Hi,3),At(Hh,Hi,6),At(Hh,Hi,12),At(lw,rs,1),At(lw,rs,2),At(Ty,Wr,1),At(Ty,Wr,2),At(Ty,Wr,3),At(au,Fh,1),At(au,Fh,2),At(au,Fh,3),At(au,Fh,4),At(au,Fh,6),At(Yw,_u,1)],x2=[1,2,5,10];function h0(e,t,i,n,s){if(i<2)return dp(e,t,t-e);let r=wu(e,t,i,n,s);return isNaN(r)?[]:(e=Math.ceil(e/r)*r,t=Math.floor(t/r)*r,dp(e,t,r))}function uO(e,t,i,n,s,r){let o=r??Math.abs(t-e)/Math.max(i,1),a=0;for(let h of $h){if(o<=h.duration)break;a++}if(a===0){let h=Math.max(wu(e,t,i,n,s),1);return $9.every(h)}else if(a===$h.length){let h=r==null?wu(e/_u,t/_u,i,n,s):1;return Yw.every(h)}let l=$h[a-1],c=$h[a],{timeInterval:u,step:d}=o-l.duration<c.duration-o?l:c;return u.every(d)}function wu(e,t,i,n=0,s=1/0){if(e===t)return 1;if(i<1)return NaN;let r=Math.abs(t-e),o=10**Math.floor(Math.log10(r/i)),a=NaN,l=1/0,c=!1;for(let u of x2){let d=Math.ceil(r/(u*o)),h=d>=n&&d<=s;if(c&&!h)continue;let p=Math.abs(d-i);(l>p||c!==h)&&(c||(c=h),l=p,a=u)}return a*o}function dO(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function b2(e,t){let i=d2(t??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s))return 0;let[r,o]=s.toExponential((i.type?6:12)-1).split(/\.|e/g);return(r!=="1"&&r!=="-1"?1:0)+dO(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s)||s===0)return 0;let r=Math.floor(Math.log10(Math.abs(s))),o=i.type?6:12,[a,l]=s.toExponential(o-1).split(/\.|e/g),c=dO(l);return Math.max(0,c-r)}))));let n=h2(i);return s=>n(Number(s))}function dp(e,t,i){let n=Math.ceil(Math.abs(t-e)/i),s=10**wp(i),r=Math.min(e,t);return m2(n+1,o=>Math.round((r+i*o)*s)/s)}function hp(e,t){return e>=t?(z.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function mX(e,t){let i=Math.abs(t-e),n=10**Math.floor(Math.log10(i)),s=1/0,r=[e,t];for(let o of x2){let a=o*n,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,u=1-i/Math.abs(c-l);s>u&&(s=u,r=[l,c])}return r}function yX(e,t,i,n,s){s=Math.max(s,e/(n+1)),isNaN(t)&&(t=s),isNaN(i)&&(i=e),t>i&&(t===s?t=i:i=t);let r=De(1,Math.floor(e/t),Math.min(Math.floor(e),100)),o=Math.min(r,Math.ceil(e/i)),a=De(o,n,r);return{minTickCount:o,maxTickCount:r,tickCount:a}}var _2=class yw extends st{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=sO,this.basePow=sO,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,z.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=yw.getBaseLogMethod(this.base),this.basePow=yw.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){let[t,i]=this.domain,n=t>i?Math.ceil:Math.floor,s=t>i?Math.floor:Math.ceil,r=this.pow(n(this.log(t))),o=this.pow(s(this.log(i)));this.niceDomain=[r,o]}ticks(){let t=this.tickCount??10;if(!this.domain||this.domain.length<2||t<1)return[];this.refresh();let i=this.base,[n,s]=this.getDomain(),r=Math.min(n,s),o=Math.max(n,s),a=this.log(r),l=this.log(o);if(this.interval){let g=v=>v>=r&&v<=o,y=Math.min(Math.abs(this.interval),Math.abs(l-a)),x=dp(a,l,y).map(this.pow).filter(g);if(!hp(x.length,this.getPixelRange()))return x}let c=i%1===0,u=l-a>=t;if(!c||u)return h0(a,l,Math.min(l-a,t)).map(this.pow);let d=[],h=r>0;a=Math.floor(a)-1,l=Math.round(l)+1;let p=Cu(this.range)/t,f=1/0;for(let g=a;g<=l;g++){let y=this.convert(this.pow(g+1));for(let x=1;x<i;x++){let v=h?x:i-x+1,_=this.pow(g)*v,C=this.convert(_),w=Math.abs(f-C),D=Math.abs(C-y),M=w>=p&&D>=p;_>=r&&_<=o&&(x===1||M||d.length===0)&&(d.push(_),f=C)}}return d}tickFormat({count:t,ticks:i,specifier:n}){return t!==1/0&&i==null&&this.ticks(),n??(n=this.base===10?".0e":","),fn(n)?h2(n):n}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:let i=Math.log(t);return n=>Math.log(n)/i}}static getBasePowerMethod(t){switch(t){case 10:return i=>i>=0?10**i:1/10**-i;case Math.E:return Math.exp;default:return i=>t**i}}};m([ui],_2.prototype,"base",2);var dD=_2,p0=class Iy extends st{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,i){return super.convert(new Date(t),i)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();let{interval:t,nice:i,tickCount:n,minTickCount:s,maxTickCount:r}=this,[o,a]=An(this.getDomain().map(dn));return t!=null?Iy.getTicksForInterval({start:o,stop:a,interval:t,availableRange:this.getPixelRange()})??Iy.getDefaultTicks({start:o,stop:a,tickCount:n,minTickCount:s,maxTickCount:r}):i&&n===2?this.niceDomain:i&&n===1?this.niceDomain.slice(0,1):Iy.getDefaultTicks({start:o,stop:a,tickCount:n,minTickCount:s,maxTickCount:r})}static getDefaultTicks({start:t,stop:i,tickCount:n,minTickCount:s,maxTickCount:r}){let o=uO(t,i,n,s,r);return o?o.range(new Date(t),new Date(i)):[]}static getTicksForInterval({start:t,stop:i,interval:n,availableRange:s}){if(!n)return[];if(n instanceof El){let d=n.range(new Date(t),new Date(i));return hp(d.length,s)?void 0:d}let r=Math.abs(n);if(hp((i-t)/r,s))return;let a=[...$h].reverse().find(d=>r%d.duration===0);if(a)return a.timeInterval.every(r/(a.duration/a.step)).range(new Date(t),new Date(i));let l=new Date(t),c=new Date(i),u=[];for(;l<=c;)u.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+r);return u}tickFormat({ticks:t,domain:i,specifier:n,formatOffset:s}){return n==null?nD(t,i,s):Mp(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[i,n]=this.domain;for(let s=0;s<4;s++){this.updateNiceDomainIteration(i,n);let[r,o]=this.niceDomain;if(dn(i)===dn(r)&&dn(n)===dn(o))break;i=r,n=o}}updateNiceDomainIteration(t,i){let n=Math.min(dn(t),dn(i)),s=Math.max(dn(t),dn(i)),r=t>i,{interval:o}=this,a;if(o instanceof El)a=o;else{let l=typeof o=="number"?(s-n)/Math.max(o,1):this.tickCount;a=uO(n,s,l,this.minTickCount,this.maxTickCount)}if(a){let l=a.range(new Date(n),new Date(s),!0),c=r?[...l].reverse():l,u=c[0],d=c.at(-1);this.niceDomain=[u,d]}}};function vX(e,t){return e-t}var Ap=class C2 extends sa{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=st.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof C2}setVisibleRange(t){this.visibleRange=t}set domain(t){if(this.invalid=!0,t.length===0){this._domain=[];return}this._domain=t,this.timestamps=d0(t.map(dn)),this.sortedTimestamps=this.timestamps.slice().sort(vX)}get domain(){return this._domain}ticks(){this.refresh();let[t,i]=[this.timestamps[0],this.timestamps.at(-1)],n=Math.min(t,i),s=Math.max(t,i),r=t>i,o;if(this.interval==null)o=this.getDefaultTicks(this.maxTickCount,r);else{let[l,c]=this.range,u=Math.abs(c-l);o=p0.getTicksForInterval({start:n,stop:s,interval:this.interval,availableRange:u})??[]}let a=new Set;return o.filter(l=>{let c=this.convert(l);return isNaN(c)||a.has(c)?!1:(a.add(c),!0)})}getDefaultTicks(t,i){let n=[],s=this.timestamps.length,r=Math.ceil(s*(this.visibleRange[1]-this.visibleRange[0])/t),o=Math.floor(r/2);for(let[a,l]of this.timestamps.entries())r>0&&(a+o)%r||(i?n.push(new Date(this.timestamps[s-a-1])):n.push(new Date(l)));return n}convert(t){this.refresh();let i=Number(t);if(i<this.sortedTimestamps[0])return NaN;let n=this.findInterval(i);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),this.ordinalRange[n]??NaN}findInterval(t){let{sortedTimestamps:i}=this,n=0,s=i.length-1;for(;n<=s;){let r=Math.floor((n+s)/2);if(i[r]===t)return r;i[r]<t?n=r+1:s=r-1}return n}tickFormat({ticks:t,domain:i,specifier:n}){return n==null?nD(t,i):Mp(n)}invert(t){this.refresh();let i=this.ordinalRange.findIndex(n=>t<=n);return this.domain[i]}invertNearest(t){return new Date(super.invertNearest(t))}};m([ui],Ap.prototype,"tickCount",2);m([ui],Ap.prototype,"minTickCount",2);m([ui],Ap.prototype,"maxTickCount",2);m([ui],Ap.prototype,"interval",2);var Rs=Ap;function w2(e,t){return typeof e=="number"&&typeof t=="number"?e-t:typeof e=="string"&&typeof t=="string"?e.localeCompare(t):e==null&&t==null?0:e==null?-1:t==null?1:String(e).localeCompare(String(t))}function hO(e){return typeof e=="function"?e():e}function D2(e,t,i){for(let n in e){let s=i(hO(e[n]),hO(t[n]));if(s!==0)return s}return 0}var S2=(()=>{let e=class Ay extends ku{constructor(i){super({isVirtual:i?.isVirtual,name:i?.name}),this.opts=i,this.opacity=1,this.lastBBox=void 0;let{zIndex:n,zIndexSubOrder:s}=i??{};this.isContainerNode=!0,n!==void 0&&(this.zIndex=n),s!==void 0&&(this.zIndexSubOrder=s)}static is(i){return i instanceof Ay}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}isLayer(){return this.layer!=null}_setLayerManager(i){if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");super._setLayerManager(i)}initialiseLayer(){this.layer||!this._layerManager||this.opts?.layer!==!0||(this.layer=this._layerManager.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()}))}getComputedOpacity(){let i=1;for(let n of this.traverseUp())n instanceof Ay&&(i*=n.opacity);return i}getVisibility(){for(let i of this.traverseUp())if(!i.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(i,n=1){if(this.isVirtual){super.markDirty(i,n);return}let s=n;(n<2||this.layer!=null)&&(s=1),super.markDirty(i,n,s)}containsPoint(i,n){return!0}computeBBox(){return this.computeTransformMatrix(),Ay.computeBBox(this.children)}computeTransformedBBox(){return this.getBBox()}computeTransformedRegionBBox(){return this.clipRect?(this.computeTransformMatrix(),this.matrix.transformBBox(this.clipRect)):this.computeTransformedBBox()}preRender(){let i=super.preRender();return i.groups+=1,i.nonGroups-=1,this.opts?.layer!==!0||this.layer!=null||(i.nonGroups>0&&this.initialiseLayer(),this.opts?.nonEmptyChildDerivedZIndex&&i.nonGroups>0&&this.deriveZIndexFromChildren()),i}deriveZIndexFromChildren(){let i=this.children.filter(s=>s._childNodeCounts.nonGroups>0);this.sortChildren(i);let n=i.at(-1);this.zIndex=n?.zIndex??-1/0,this.zIndexSubOrder=n?.zIndexSubOrder}render(i){let{opts:{name:n=void 0}={},_debug:s}=this,{dirty:r,dirtyZIndex:o,layer:a,children:l,clipRect:c,dirtyTransform:u}=this,{ctx:d,forceRender:h,clipBBox:p}=i,{resized:f,stats:g}=i,y=d.getTransform(),x=r>=2||o||f,v=x,_=!1;for(let A of l)if(v||(v=A.layerManager==null&&A.dirty>=1),_||(_=A.layerManager!=null&&A.dirty>=1),v)break;if(n&&s?.({name:n,group:this,isDirty:x,isChildDirty:v,dirtyTransform:u,renderCtx:i,forceRender:h}),u)h="dirtyTransform";else if(a){let A=this.getBBox();(this.lastBBox===void 0||!this.lastBBox.equals(A))&&(h="dirtyTransform",this.lastBBox=A)}if(!x&&!v&&!_&&!h){n&&g&&s?.({name:n,result:"skipping",renderCtx:i,counts:this.nodeCount,group:this}),a&&g&&(g.layersSkipped++,g.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}let C=this.visible;if(a){if(d=a.context,d.save(),d.setTransform(a.pixelRatio,0,0,a.pixelRatio,0,0),h!=="dirtyTransform"&&(h=v||o),h&&a.clear(),p){let{width:A,height:E,x:P,y:N}=p;s?.(()=>({name:n,clipBBox:p,ctxTransform:d.getTransform(),renderCtx:i,group:this})),d.beginPath(),d.rect(P,N,A,E),d.clip()}d.setTransform(y)}else d.globalAlpha*=this.opacity;let w=this.transformRenderContext(i,d);if(c){let{x:A,y:E,width:P,height:N}=c;d.save(),s?.(()=>({name:n,clipRect:c,ctxTransform:d.getTransform(),renderCtx:i,group:this})),d.beginPath(),d.rect(A,E,P,N),d.clip(),p=w.transformBBox(c)}let D=this.hasVirtualChildren();o?(this.sortChildren(l),h!=="dirtyTransform"&&(h=!0)):D&&this.sortChildren(l);let I=h!==i.forceRender||p!==i.clipBBox||d!==i.ctx?k(S({},i),{ctx:d,forceRender:h,clipBBox:p}):i,T=0;for(let A of l){if(!A.visible||!C){A.markClean(),g&&(T+=A.nodeCount.count);continue}if(!h&&A.dirty===0){g&&(T+=A.nodeCount.count);continue}d.save(),A.render(I),d.restore()}if(g&&(g.nodesSkipped+=T),super.render(i),c&&d.restore(),D)for(let A of this.virtualChildren)A.markClean({recursive:"virtual"});a&&(g&&g.layersRendered++,d.restore(),h&&a.snapshot(),a.context.verifyDepthZero?.()),n&&g&&s?.({name:n,result:"rendered",skipped:T,renderCtx:i,counts:this.nodeCount,group:this})}sortChildren(i){this.dirtyZIndex=!1,i.sort((n,s)=>D2([n.zIndex,...n.zIndexSubOrder??[void 0,void 0],n.serialNumber],[s.zIndex,...s.zIndexSubOrder??[void 0,void 0],s.serialNumber],w2))}static computeBBox(i,n){let s=1/0,r=-1/0,o=1/0,a=-1/0,l=n?.skipInvisible??!0;for(let c of i){if(l&&!c.visible)continue;let u=c.computeTransformedBBox();if(!u)continue;let{x:d,y:h,width:p,height:f}=u;d<s&&(s=d),h<o&&(o=h),d+p>r&&(r=d+p),h+f>a&&(a=h+f)}return new X(s,o,r-s,a-o)}setClipRectInGroupCoordinateSpace(i){this.clipRect=i?this.transformBBox(i):void 0}};return e.className="Group",e})();m([Y({redraw:3,convertor:e=>De(0,e,1)})],S2.prototype,"opacity",2);var se=S2,dr={};typeof window<"u"?dr.window=window:typeof global<"u"&&(dr.window=global.window);typeof document<"u"?dr.document=document:typeof global<"u"&&(dr.document=global.document);function Ps(e){return e?dr.document?.[e]:dr.document}function Vs(e){return e?dr.window?.[e]:dr.window}function Vt(e,t,i){let n=Ps().createElement(e);return typeof t=="object"&&(i=t,t=void 0),t&&n.classList.add(t),i&&Object.assign(n.style,i),n}function vw(e,t){return Ps().createElementNS(e,t)}function M2(e,t){let{body:i}=Ps(),n=Vt("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}function T2(e){dr.document=e}function I2(e){dr.window=e}function ea(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`)}var xX=2e3,pO=Date.now(),bX=()=>{let e=Date.now()-pO;if(e>xX){let t=(Math.floor(e/100)/10).toFixed(1);z.log(`**** ${t}s since last log message ****`)}pO=Date.now()},ut={create(...e){return Object.assign((...i)=>{ut.check(...e)&&(typeof i[0]=="function"&&(i=gw(i[0]())),bX(),z.log(...i))},{check:()=>ut.check(...e)})},check(...e){return e.length===0&&e.push(!0),gw(Vs("agChartsDebug")).some(i=>e.includes(i))}},bt=class gl{constructor(t,i,n=!0){this.parentNode=t,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=ut.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(ku,i)?()=>new i:i}static select(t,i,n=!0){return new gl(t,i,n)}static selectAll(t,i){let n=[],s=r=>{i(r)&&n.push(r),r.children.forEach(s)};return s(t),n}static selectByClass(t,i,...n){return gl.selectAll(t,s=>s instanceof i||n.some(r=>s instanceof r))}static selectByTag(t,i){return gl.selectAll(t,n=>n.tag===i)}createNode(t,i,n){let s=this.nodeFactory(t);return s.datum=t,i?.(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(t,i,n){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),n){let s=new Map(t.map((r,o)=>[n(r),[r,o]]));for(let[r,o]of this._nodesMap.entries())if(s.has(o)){let[a]=s.get(o);r.datum=a,this.garbageBin.delete(r),s.delete(o)}else this.garbageBin.add(r);for(let[r,[o,a]]of s.entries())this._nodesMap.set(this.createNode(o,i,a),r)}else{let s=Math.max(t.length,this.data.length);for(let r=0;r<s;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],i):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(let i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){let i=this._nodes[t],n=this._nodes[t].datum;yield{node:i,datum:n,index:t}}}select(t){return gl.selectAll(this.parentNode,t)}selectByClass(t){return gl.selectByClass(this.parentNode,t)}selectByTag(t){return gl.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}},ss=Math.PI*2;function _t(e){return e%=ss,e+=ss,e%=ss,e}function _X(e){return e%=ss,e+=ss,e!==ss&&(e%=ss),e}function pp(e){return e%=ss,e<-Math.PI?e+=ss:e>=Math.PI&&(e-=ss),e}function Qo(e,t,i){let n=_t(e),s=_t(t),r=_t(i);return s<r?s<=n&&n<=r:s>r?s<=n||n<=r:!0}function $i(e){return e/180*Math.PI}function CX(e){return e/Math.PI*180}function A2(e,t,i){i&&([e,t]=[t,e]);let n=_t(e);return(_t(t)+ss-n)%ss}function f0(e,t){return e=_t(e),t=_t(t),t-e+(e>t?2*Math.PI:0)}function wX(e,t,i,n){let s=e+i*Math.cos(n),r=t+i*Math.sin(n);return{x:s,y:r}}function Kh(e,t,i,n){let s=e-i,r=t-n;return s*s+r*r}function Ey(e,t,i,n,s,r,o){if(i===s&&n===r)return Math.min(o,Kh(e,t,i,n));let a=s-i,l=r-n,c=Math.max(0,Math.min(1,((e-i)*a+(t-n)*l)/(a*a+l*l))),u=i+c*a,d=n+c*l;return Math.min(o,Kh(e,t,u,d))}function DX(e,t,i,n,s,r,o,a,l){a&&([o,r]=[r,o]);let c=Math.atan2(t-n,e-i);if(!Qo(c,r,o)){let d=i+Math.cos(r)*s,h=n+Math.sin(r)*s,p=i+Math.cos(r)*s,f=n+Math.sin(r)*s;return Math.min(l,Kh(e,t,d,h),Kh(e,t,p,f))}let u=s-Math.sqrt(Kh(e,t,i,n));return Math.min(l,u*u)}var SX=class{constructor(e=[]){this.stops=e}},MX=class extends SX{constructor(e,t=0){super(e),this.angle=t}createGradient(e,t){let{stops:n,angle:s}=this,r=_t($i(s+90)),o=Math.cos(r),a=Math.sin(r),l=t.width,c=t.height,u=t.x+l*.5,d=t.y+c*.5;if(l>0&&c>0){let h=Math.sqrt(c*c+l*l)/2,p=Math.atan2(c,l),f;r<Math.PI/2?f=r:r<Math.PI?f=Math.PI-r:r<1.5*Math.PI?f=r-Math.PI:f=2*Math.PI-r;let g=h*Math.abs(Math.cos(f-p)),y=e.createLinearGradient(u+o*g,d+a*g,u-o*g,d-a*g);for(let x of n)y.addColorStop(x.offset,x.color);return y}return"black"}},TX=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,Nn=(()=>{let e=class sr extends ku{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=sr.defaultStyles.fill,this.stroke=sr.defaultStyles.stroke,this.strokeWidth=sr.defaultStyles.strokeWidth,this.lineDash=sr.defaultStyles.lineDash,this.lineDashOffset=sr.defaultStyles.lineDashOffset,this.lineCap=sr.defaultStyles.lineCap,this.lineJoin=sr.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=sr.defaultStyles.opacity,this.fillShadow=sr.defaultStyles.fillShadow}restoreOwnStyles(){let{defaultStyles:i}=this.constructor;Object.assign(this,i)}onFillChange(){let{fill:i}=this,n;if(i?.startsWith("linear-gradient")&&(n=TX.exec(i))){let s=parseFloat(n[1]),r=[],o=n[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,l;for(;l=a.exec(o);)r.push(l[0]);this.gradient=new MX(r.map((c,u)=>({color:c,offset:u/(r.length-1)})),s)}else this.gradient=void 0}align(i,n){let s=this.layerManager?.canvas?.pixelRatio??1,r=Math.round(i*s)/s;return n==null?r:n===0?0:n<1?Math.ceil(n*s)/s:Math.round((n+i)*s)/s-r}fillStroke(i,n){this.renderFill(i,n),this.renderStroke(i,n)}renderFill(i,n){if(this.fill){let{globalAlpha:s}=i;this.applyFill(i),this.applyFillAlpha(i),this.applyShadow(i),this.executeFill(i,n),i.globalAlpha=s}i.shadowColor="rgba(0, 0, 0, 0)"}executeFill(i,n){n?i.fill(n):i.fill()}applyFill(i){i.fillStyle=this.gradient?.createGradient(i,this.getBBox())??this.fill}applyFillAlpha(i){i.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(i){let n=this.layerManager?.canvas.pixelRatio??1,s=this.fillShadow;s?.enabled&&(i.shadowColor=s.color,i.shadowOffsetX=s.xOffset*n,i.shadowOffsetY=s.yOffset*n,i.shadowBlur=s.blur*n)}renderStroke(i,n){if(this.stroke&&this.strokeWidth){let{globalAlpha:s}=i;i.strokeStyle=this.stroke,i.globalAlpha*=this.opacity*this.strokeOpacity,i.lineWidth=this.strokeWidth,this.lineDash&&i.setLineDash(this.lineDash),this.lineDashOffset&&(i.lineDashOffset=this.lineDashOffset),this.lineCap&&(i.lineCap=this.lineCap),this.lineJoin&&(i.lineJoin=this.lineJoin),this.miterLimit!=null&&(i.miterLimit=this.miterLimit),this.executeStroke(i,n),i.globalAlpha=s}}executeStroke(i,n){n?i.stroke(n):i.stroke()}containsPoint(i,n){return this.isPointInPath(i,n)}};return e.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},e})();m([Y({redraw:2})],Nn.prototype,"fillOpacity",2);m([Y({redraw:2})],Nn.prototype,"strokeOpacity",2);m([Y({redraw:2,changeCb:e=>e.onFillChange()})],Nn.prototype,"fill",2);m([Y({redraw:2})],Nn.prototype,"stroke",2);m([Y({redraw:2})],Nn.prototype,"strokeWidth",2);m([Y({redraw:2})],Nn.prototype,"lineDash",2);m([Y({redraw:2})],Nn.prototype,"lineDashOffset",2);m([Y({redraw:2})],Nn.prototype,"lineCap",2);m([Y({redraw:2})],Nn.prototype,"lineJoin",2);m([Y({redraw:2})],Nn.prototype,"miterLimit",2);m([Y({redraw:2,convertor:e=>De(0,e,1)})],Nn.prototype,"opacity",2);m([Y({redraw:2,checkDirtyOnAssignment:!0})],Nn.prototype,"fillShadow",2);var as=Nn,li=class extends as{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}computeBBox(){return new X(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){if(this.x1===this.x2||this.y1===this.y2){let{x:i,y:n}=this.transformPoint(e,t);return this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(i,n)}return!1}distanceSquared(e,t){let{x1:i,y1:n,x2:s,y2:r}=this;return Ey(e,t,i,n,s,r,1/0)}render(e){let{ctx:t,forceRender:i,stats:n,devicePixelRatio:s}=e;if(this.dirty===0&&!i){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.transformRenderContext(e);let{x1:r,y1:o,x2:a,y2:l}=this;if(r===a){let{strokeWidth:c}=this,u=Math.round(r*s)/s+Math.trunc(c*s)%2/(s*2);r=u,a=u}else if(o===l){let{strokeWidth:c}=this,u=Math.round(o*s)/s+Math.trunc(c*s)%2/(s*2);o=u,l=u}t.beginPath(),t.moveTo(r,o),t.lineTo(a,l),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}};li.className="Line";li.defaultStyles=Object.assign({},as.defaultStyles,{fill:void 0,strokeWidth:1});m([Y({redraw:3})],li.prototype,"x1",2);m([Y({redraw:3})],li.prototype,"y1",2);m([Y({redraw:3})],li.prototype,"x2",2);m([Y({redraw:3})],li.prototype,"y2",2);function IX(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var hD=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;let t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){let i=this.store.keys(),n=this.store.size-this.maxCacheSize;for(;n>0;){let s=i.next();s.done||this.store.delete(s.value),n--}}return t}clear(){this.store.clear()}},eo=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){let t=typeof e.font=="string"?e.font:Ht.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){let n=IX();n.font=e,n.textAlign=t.textAlign??"start",n.textBaseline=t.textBaseline??"alphabetic";let s=new E2(n,t);return this.instanceMap.set(i,s),s}};eo.instanceMap=new hD(10);var E2=class{constructor(e,t){this.ctx=e,this.measureMap=new hD(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=typeof t.font=="string"?t.font:Ht.toFontString(t.font),this.textMeasurer=new pD(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){let t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},Ht=(()=>{let e=class{static toFontString({fontSize:t=10,fontStyle:i,fontWeight:n,fontFamily:s,lineHeight:r}){let o="";return i&&(o+=`${i} `),n&&(o+=`${n} `),o+=`${t}px`,r&&(o+=`/${r}px`),o+=` ${s}`,o.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};return e.EllipsisChar="\u2026",e.defaultLineHeight=1.15,e.lineSplitter=/\r?\n/g,e})(),pD=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){let t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,s=0,r=0,o=Ht.getVerticalModifier(this.textBaseline),a=[],l=0,c=e.length;for(let u of e){let d=this.measureTextFn(u);d.fontBoundingBoxAscent??(d.fontBoundingBoxAscent=d.emHeightAscent),d.fontBoundingBoxDescent??(d.fontBoundingBoxDescent=d.emHeightDescent),t<d.width&&(t=d.width),s<d.actualBoundingBoxLeft&&(s=d.actualBoundingBoxLeft),l===0?(i+=d.actualBoundingBoxAscent,n+=d.actualBoundingBoxAscent):r+=d.fontBoundingBoxAscent,l===c-1?i+=d.actualBoundingBoxDescent:r+=d.fontBoundingBoxDescent,a.push({text:u,width:d.width,height:d.actualBoundingBoxAscent+d.actualBoundingBoxDescent,lineHeight:d.fontBoundingBoxAscent+d.fontBoundingBoxDescent,offsetTop:d.actualBoundingBoxAscent,offsetLeft:d.actualBoundingBoxLeft}),l++}return i+=r,n+=r*o,{width:t,height:i,offsetTop:n,offsetLeft:s,lineMetrics:a}}textWidth(e,t){if(t){let i=0;for(let n=0;n<e.length;n++)i+=this.textWidth(e.charAt(n));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){let t=typeof e=="string"?e.split(Ht.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){let{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}};function g0(e){let{redraw:t=3,changeCb:i}=e??{};return Y({redraw:t,type:"font",changeCb:i})}var yn=class ky extends as{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=ky.defaultStyles.textAlign,this.textBaseline=ky.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split(`
`).map(t=>t.trim())??[]}static computeBBox(t,i,n,s){let{offsetTop:r,offsetLeft:o,width:a,height:l}=eo.measureLines(t,s);return new X(i-o,n-r,a,l)}computeBBox(){let{x:t,y:i,lines:n,textBaseline:s,textAlign:r}=this;return ky.computeBBox(n,t,i,{font:this,textBaseline:s,textAlign:r})}isPointInPath(t,i){let n=this.transformPoint(t,i),s=this.getBBox();return s?s.containsPoint(n.x,n.y):!1}render(t){let{ctx:i,forceRender:n,stats:s}=t;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){s&&(s.nodesSkipped+=this.nodeCount.count);return}this.transformRenderContext(t);let{fill:r,stroke:o,strokeWidth:a}=this,{pixelRatio:l}=this.layerManager.canvas;if(i.font=Ht.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,r){i.fillStyle=r,i.globalAlpha*=this.opacity*this.fillOpacity;let{fillShadow:c}=this;c?.enabled&&(i.shadowColor=c.color,i.shadowOffsetX=c.xOffset*l,i.shadowOffsetY=c.yOffset*l,i.shadowBlur=c.blur*l),this.renderLines((u,d,h)=>i.fillText(u,d,h))}if(o&&a){i.strokeStyle=o,i.lineWidth=a,i.globalAlpha*=this.opacity*this.strokeOpacity;let{lineDash:c,lineDashOffset:u,lineCap:d,lineJoin:h}=this;c&&i.setLineDash(c),u&&(i.lineDashOffset=u),d&&(i.lineCap=d),h&&(i.lineJoin=h),this.renderLines((p,f,g)=>i.strokeText(p,f,g))}super.render(t)}renderLines(t){let{lines:i,x:n,y:s}=this,r=this.lineHeight??Ht.getLineHeight(this.fontSize),o=(r-r*i.length)*Ht.getVerticalModifier(this.textBaseline);for(let a of i)t(a,n,s+o),o+=r}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}};yn.className="Text";yn.defaultLineHeightRatio=1.15;yn.defaultStyles=Object.assign({},as.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});m([Y({redraw:3})],yn.prototype,"x",2);m([Y({redraw:3})],yn.prototype,"y",2);m([Y({redraw:3,changeCb:e=>e.onTextChange()})],yn.prototype,"text",2);m([g0()],yn.prototype,"fontStyle",2);m([g0()],yn.prototype,"fontWeight",2);m([g0()],yn.prototype,"fontSize",2);m([g0()],yn.prototype,"fontFamily",2);m([Y({redraw:3})],yn.prototype,"textAlign",2);m([Y({redraw:3})],yn.prototype,"textBaseline",2);m([Y({redraw:3})],yn.prototype,"lineHeight",2);var gt=yn;function AX(e,t,i,n,s,r){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<i?l=i:o>i+s&&(l=i+s);let c=a;a<n?c=n:a>n+r&&(c=n+r);let u=o-l,d=a-c;return Math.sqrt(u*u+d*d)<=e.size*.5}function k2(e,t,i,n,s){let r=e.x+e.width>t&&e.x<t+n,o=e.y+e.height>i&&e.y<i+s;return r&&o}function EX(e,t,i,n,s){return t+n<e.x+e.width&&t>e.x&&i>e.y&&i+s<e.y+e.height}function kX(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var LX={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function NX(e,t,i=5){let n=[];e=e.map(s=>s.slice().sort((r,o)=>o.point.size-r.point.size));for(let s=0;s<e.length;s++){let r=n[s]=[],o=e[s];if(o?.length&&o[0].label)for(let a=0,l=o.length;a<l;a++){let c=o[a],{point:u,label:d,marker:h}=c,{text:p,width:f,height:g}=d,y=u.size*.5,x=0,v=0;if(y>0&&c.placement!=null){let I=LX[c.placement];x=(f*.5+y+i)*I.x,v=(g*.5+y+i)*I.y}let _=u.x-f*.5+x-((h?.center.x??.5)-.5)*u.size,C=u.y-g*.5+v-((h?.center.y??.5)-.5)*u.size;!(!t||EX(t,_,C,f,g))||e.some(I=>I.some(T=>AX(T.point,T.marker?.center,_,C,f,g)))||n.some(I=>I.some(T=>k2(T,_,C,f,g)))||r.push({index:a,text:p,x:_,y:C,width:f,height:g,datum:c})}}return n}function OX(e,t){let i=[];for(let n=0;n<e.length;n++){let s=e[n],{point:{x:r,y:o},label:{text:a}}=s,{width:l,height:c}=s.label;if(l+=t??0,c+=t??0,i.some(u=>k2(u,r,o,l,c)))return!0;i.push({index:n,text:a,x:r,y:o,width:l,height:c,datum:s})}return!1}function L2(e,t){return e.length===t.length&&e.every((i,n)=>Number(i)===Number(t[n]))}function qt(e,t){let i=St(e)?e:e.split(".");if(i.length===1){let[n]=i;return qr((s,r,o)=>s[n]=o,s=>s[n],t)}return qr((n,s,r)=>eD(n,i,r),n=>Kw(n,i),t)}function RX(e){return qr((t,i,n)=>t[e]=n)}function Ei(e,t){return qr((i,n,s)=>i[e][t??n]=s)}function Wi(e){let{newValue:t,oldValue:i,changeValue:n}=e;return qr((s,r,o,a)=>(o!==a&&(a!==void 0&&i?.call(s,a),o!==void 0&&t?.call(s,o),n?.call(s,o,a)),o))}function Yi(e){return MZ(e)}var BC="color: green",jC="color: grey",PX=(()=>{let e=class cn{constructor(i,n,s){this.defaultState=i,this.states=n,this.enterEach=s,this.debug=ut.create(!0,"animation"),this.state=i,this.debug(`%c${this.constructor.name} | init -> ${i}`,BC)}transition(i,n){if(!this.transitionChild(i,n)||this.state===cn.child||this.state===cn.parent)return;let r=this.state,o=this.states[this.state],a=o[i],l=`%c${this.constructor.name} | ${this.state} -> ${i} ->`;if(Array.isArray(a))a=a.find(d=>{if(!d.guard)return!0;let h=d.guard(n);return h||this.debug(`${l} ${d.target} (guarded)`,jC),h});else if(typeof a=="object"&&!(a instanceof cn)&&a.guard&&!a.guard(n)){this.debug(`${l} ${a.target} (guarded)`,jC);return}if(!a){this.debug(`${l} ${this.state}`,jC);return}let c=this.getDestinationState(a),u=c===this.state?void 0:o.onExit;this.debug(`${l} ${c}`,BC),this.state=c,typeof a=="function"?a(n):typeof a=="object"&&!(a instanceof cn)&&a.action?.(n),u?.(),this.enterEach?.(r,c),c!==r&&c!==cn.child&&c!==cn.parent&&this.states[c].onEnter?.(r,n)}is(i){return this.state===cn.child&&this.childState?this.childState.is(i):this.state===i}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(i,n){return this.state!==cn.child||!this.childState||(this.childState.transition(i,n),!this.childState.is(cn.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${i} -> ${this.defaultState}`,BC),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(i){let n=this.state;return typeof i=="string"?n=i:i instanceof cn?(this.childState=i,n=cn.child):typeof i=="object"&&(i.target instanceof cn?(this.childState=i.target,n=cn.child):n=i.target),n}};return e.child="__child",e.parent="__parent",e})(),Ep=PX,fD=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){let i=this.textWrap(e,t);return t.overflow==="hide"&&i.some(n=>n.endsWith(Ht.EllipsisChar))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+Ht.EllipsisChar}static truncateLine(e,t,i,n){let s=t.textWidth(Ht.EllipsisChar),r=0,o=0;for(;o<e.length;o++){let a=t.textWidth(e.charAt(o));if(r+a>i)break;r+=a}if(e.length===o&&(!n||r+s<=i))return n?e+Ht.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+s>i;)e=e.slice(0,-1).trimEnd();return e+Ht.EllipsisChar}static textWrap(e,t){let i=e.split(Ht.lineSplitter),n=eo.getMeasurer(t);if(t.textWrap==="never")return i.map(a=>this.truncateLine(a.trimEnd(),n,t.maxWidth));let s=[],r=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(let a of i){if(a=a.trimEnd(),a===""){s.push(a);continue}for(let l=0,c=0,u=0;l<a.length;l++){let d=a.charAt(l);if(c+=n.textWidth(d),d===" "&&(u=l),c>t.maxWidth){if(l===0)break;let h=n.textWidth(a.slice(0,l+1));if(h<=t.maxWidth){c=h;continue}if(u){let g=this.getWordAt(a,u+1),y=n.textWidth(g);if(y<=t.maxWidth){s.push(a.slice(0,u).trimEnd()),a=a.slice(u).trimStart(),l=-1,c=0,u=0;continue}else o&&y>t.maxWidth&&s.push(a.slice(0,u).trimEnd(),this.truncateLine(a.slice(u).trimStart(),n,t.maxWidth,!0))}else o&&s.push(this.truncateLine(a,n,t.maxWidth,!0));if(o){a="";break}let p=r?"-":"",f=a.slice(0,l).trim();for(;f.length&&n.textWidth(f+p)>t.maxWidth;)f=f.slice(0,-1).trimEnd();if(s.push(f+p),!f.length){a="";break}a=a.slice(f.length).trimStart(),l=-1,c=0,u=0}}a&&s.push(a)}return this.avoidOrphans(s,n,t),this.clipLines(s,n,t)}static getWordAt(e,t){let i=e.indexOf(" ",t);return i===-1?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;let{height:n,lineMetrics:s}=t.measureLines(e);if(n<=i.maxHeight)return e;for(let r=0,o=0;r<s.length;r++){let{lineHeight:a}=s[r];if(o+=a,o>i.maxHeight){if(i.overflow==="hide")return[];let l=e.slice(0,r||1),c=l.pop();return l.concat(this.truncateLine(c,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(i.avoidOrphans===!1||e.length<2)return;let{length:n}=e,s=e[n-1],r=e[n-2];if(r.length<s.length)return;let o=r.lastIndexOf(" ");if(o===-1||o===r.indexOf(" ")||s.includes(" "))return;let a=r.slice(o+1);t.textWidth(s+a)<=i.maxWidth&&(e[n-2]=r.slice(0,o),e[n-1]=a+" "+s)}};function kl(e,t,i){i===void 0||i===""?e?.removeAttribute(t):e?.setAttribute(t,i.toString())}function Wh(e,t,i){e.ariaHidden=`${i}`,e.classList.toggle(t,i)}function N2(e,t,i,n){let{top:s,right:r,bottom:o,left:a,width:l,height:c}=n;return a!=null?l!=null?r=i.width-a+l:r!=null&&(l=i.width-a-r):r!=null&&l!=null&&(a=i.width-r-l),s!=null?c!=null?o=i.height-s-c:o!=null&&(c=i.height-o-s):o!=null&&c!=null&&(s=i.height-o-c),l==null?c==null?(l=e,c=t):l=Math.ceil(e*c/t):c==null&&(c=Math.ceil(t*l/e)),a==null&&(r==null?a=Math.floor((i.width-l)/2):a=i.width-r-l),s==null&&(o==null?s=Math.floor((i.height-c)/2):s=i.height-c-o),{x:a,y:s,width:l,height:c}}var or="ag-chart-tooltip",O2="ag-chart-dark-tooltip",to={html:"",ariaLabel:""};function FX(e){let t=(i,n,s)=>n===0||s[n-1]!=="."?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function Du(e,t){if(typeof e=="string")return{html:e,ariaLabel:e};let{content:i=t?.content??"",title:n=t?.title,color:s=t?.color??"white",backgroundColor:r=t?.backgroundColor??"#888"}=e,o=n?`<div class="${or}-title"
        style="color: ${s}; background-color: ${r}">${n}</div>`:"",a=n?`${n}: `:"",l=i?`<div class="${or}-content">${i}</div>`:"";return{html:`${o}${l}`,ariaLabel:FX(`${a}${i}`)}}var Pu=class extends Te{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};m([b(ht(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],Pu.prototype,"type",2);m([b(dt)],Pu.prototype,"xOffset",2);m([b(dt)],Pu.prototype,"yOffset",2);var ds=class extends Te{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Pu,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",or),this.element.classList.add(or),kl(this.element,"aria-hidden",!0)}destroy(e){e.removeChild("canvas-overlay",or)}isVisible(){return!this.element?.classList.contains(or+"-hidden")}show(e,t,i,n,s=!1){let{element:r}=this;if(n!=null&&r!=null)r.innerHTML=n.html;else if(!r?.innerHTML){this.toggle(!1);return}let o=i.position?.type??this.position.type,a=i.position?.xOffset??0,l=i.position?.yOffset??0,c=this.getTooltipBounds({positionType:o,meta:i,yOffset:l,xOffset:a,canvasRect:t}),u={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height},d=N2(r.clientWidth,r.clientHeight,u,c),h=u.x,p=u.y,f=u.width-r.clientWidth-1+h,g=u.height-r.clientHeight+p,y=De(h,d.x,f),x=De(p,d.y,g),v=y!==d.x||x!==d.y,_=(o==="node"||o==="pointer")&&!v&&!a&&!l,C=i.showArrow??this.showArrow??_;this.updateShowArrow(C),r.style.transform=`translate(${Math.round(y)}px, ${Math.round(x)}px)`,r.style.pointerEvents=i.enableInteraction?"auto":"none",r.setAttribute("data-pointer-capture","retain"),this.enableInteraction=i.enableInteraction??!1,this.delay>0&&!s?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}toggle(e){if(!this.element)return;let{classList:t}=this.element,i=(l,c)=>t.toggle(`${or}-${l}`,c),n=this.isVisible(),s=1/0;if(e||clearTimeout(this.showTimeout),n!==e){let l=Date.now();s=l-this.lastVisibilityChange,this.lastVisibilityChange=l}let r=100,o=5,a=!n&&e&&s>r;s>o&&i("no-animation",a),i("no-interaction",!this.enableInteraction),i("hidden",!e),i("arrow",this._showArrow),t.toggle(O2,this.darkTheme);for(let l of this.wrapTypes)t.toggle(`${or}-wrap-${l}`,l===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};let{positionType:t,meta:i,yOffset:n,xOffset:s,canvasRect:r}=e,{clientWidth:o,clientHeight:a}=this.element,l={width:o,height:a};switch(t){case"node":case"pointer":return l.top=i.offsetY+n-a-8,l.left=i.offsetX+s-o/2,l;case"top":return l.top=n,l.left=r.width/2-o/2+s,l;case"right":return l.top=r.height/2-a/2+n,l.left=r.width-o/2+s,l;case"left":return l.top=r.height/2-a/2+n,l.left=s,l;case"bottom":return l.top=r.height-a+n,l.left=r.width/2-o/2+s,l;case"top-left":return l.top=n,l.left=s,l;case"top-right":return l.top=n,l.left=r.width-o+s,l;case"bottom-right":return l.top=r.height-a+n,l.left=r.width-o+s,l;case"bottom-left":return l.top=r.height-a+n,l.left=s,l}}};m([b(pe)],ds.prototype,"enabled",2);m([b(pe,{optional:!0})],ds.prototype,"showArrow",2);m([Yi((e,t,i)=>{t&&e.element?.classList.add(t),i&&e.element?.classList.remove(i)}),b(U,{optional:!0})],ds.prototype,"class",2);m([b(H)],ds.prototype,"delay",2);m([b(u0,{optional:!0})],ds.prototype,"range",2);m([b(c0)],ds.prototype,"wrapping",2);m([b(Q)],ds.prototype,"position",2);m([b(pe)],ds.prototype,"darkTheme",2);m([b(ht(["extended","canvas"]))],ds.prototype,"bounds",2);var Ct=(()=>{let e=class extends Te{constructor(){super(...arguments),this.id=ls(this),this.node=new gt({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1,this.layoutStyle="block"}registerInteraction(t){let{regionManager:i,proxyInteractionService:n,layoutService:s}=t,r=i.getRegion("root"),o=[s.addListener("layout-complete",()=>this.updateA11yText(n)),r.addListener("hover",a=>this.handleMouseMove(t,a)),r.addListener("leave",a=>this.handleMouseLeave(t,a))];return G9(...o)}computeTextWrap(t,i){let{text:n,wrapping:s}=this,r=Math.min(this.maxWidth??1/0,t),o=this.maxHeight??i;if(!isFinite(r)&&!isFinite(o)){this.node.text=n;return}let a=fD.wrapText(n??"",{maxWidth:r,maxHeight:o,font:this,textWrap:s});this.node.text=a,this.truncated=a.includes(Ht.EllipsisChar)}updateA11yText(t){if(this.enabled&&this.text){let i=this.node.computeTransformedBBox();if(i){let{id:n}=this;this.proxyText??(this.proxyText=t.createProxyElement({type:"text",id:n,parent:"canvas-proxy"})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(i)}}else this.proxyText?.remove(),this.proxyText=void 0}handleMouseMove(t,i){if(i!==void 0&&this.enabled&&this.node.visible&&this.truncated){let{offsetX:n,offsetY:s}=i;t.tooltipManager.updateTooltip(this.id,{offsetX:n,offsetY:s,lastPointerEvent:i,showArrow:!1},Du({content:this.text}))}}handleMouseLeave(t,i){t.tooltipManager.removeTooltip(this.id)}};return e.SMALL_PADDING=10,e.LARGE_PADDING=20,e})();m([b(pe)],Ct.prototype,"enabled",2);m([b(U,{optional:!0}),Ei("node")],Ct.prototype,"text",2);m([b(s2,{optional:!0}),Ei("node")],Ct.prototype,"textAlign",2);m([b(aa,{optional:!0}),Ei("node")],Ct.prototype,"fontStyle",2);m([b(la,{optional:!0}),Ei("node")],Ct.prototype,"fontWeight",2);m([b(H),Ei("node")],Ct.prototype,"fontSize",2);m([b(U),Ei("node")],Ct.prototype,"fontFamily",2);m([b(it,{optional:!0}),Ei("node","fill")],Ct.prototype,"color",2);m([b(H,{optional:!0})],Ct.prototype,"spacing",2);m([b(H,{optional:!0})],Ct.prototype,"lineHeight",2);m([b(H,{optional:!0})],Ct.prototype,"maxWidth",2);m([b(H,{optional:!0})],Ct.prototype,"maxHeight",2);m([b(c0)],Ct.prototype,"wrapping",2);m([b(U)],Ct.prototype,"layoutStyle",2);var mr=class extends as{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new X(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){let{ctx:t,forceRender:i,stats:n}=e;if(this.dirty===0&&!i){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.transformRenderContext(e);let{x1:s,y1:r,x2:o,y2:a}=this;s=this.align(s),r=this.align(r),o=this.align(o),a=this.align(a);let{fill:l,opacity:c,isRange:u}=this;if(!!(u&&l)){let{fillOpacity:x}=this;t.fillStyle=l,t.globalAlpha=c*x,t.beginPath(),t.moveTo(s,r),t.lineTo(o,r),t.lineTo(o,a),t.lineTo(s,a),t.closePath(),t.fill()}let{stroke:h,strokeWidth:p,startLine:f,endLine:g}=this;if(!!((f||g)&&h&&p)){let{strokeOpacity:x,lineDash:v,lineDashOffset:_,lineCap:C,lineJoin:w}=this;t.strokeStyle=h,t.globalAlpha=c*x,t.lineWidth=p,v&&t.setLineDash(v),_&&(t.lineDashOffset=_),C&&(t.lineCap=C),w&&(t.lineJoin=w),t.beginPath(),f&&(t.moveTo(s,r),t.lineTo(o,r)),g&&(t.moveTo(o,a),t.lineTo(s,a)),t.stroke()}this.fillShadow?.markClean(),super.render(e)}};mr.className="Range";mr.defaultStyles=k(S({},as.defaultStyles),{strokeWidth:1});m([Y({redraw:2})],mr.prototype,"x1",2);m([Y({redraw:2})],mr.prototype,"y1",2);m([Y({redraw:2})],mr.prototype,"x2",2);m([Y({redraw:2})],mr.prototype,"y2",2);m([Y({redraw:2})],mr.prototype,"startLine",2);m([Y({redraw:2})],mr.prototype,"endLine",2);m([Y({redraw:2})],mr.prototype,"isRange",2);var Qt=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Ht.toFontString(this)}};m([b(pe)],Qt.prototype,"enabled",2);m([b(it,{optional:!0})],Qt.prototype,"color",2);m([b(aa,{optional:!0})],Qt.prototype,"fontStyle",2);m([b(la,{optional:!0})],Qt.prototype,"fontWeight",2);m([b(H)],Qt.prototype,"fontSize",2);m([b(U)],Qt.prototype,"fontFamily",2);m([b(mn,{optional:!0})],Qt.prototype,"formatter",2);function zy(e){let{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?_t($i(e.rotation)):0,s=!n&&t>=0&&t<=Math.PI?-1:1,r=!n&&i>=0&&i<=Math.PI?-1:1,o=0;return e.parallel?o=s*Math.PI/2:r===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:r}}function VX(e,t){return isNaN(e)?t?0:10:e}function BX(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}function zC(e,t,i,n,s){let r=t>0&&t<=Math.PI,o=i>0&&i<=Math.PI,a=r||o?-1:1;if(e)if(t||i){if(n*a===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function jX(e,t,i){let{x:n,y:s,width:r,height:o}=t,a=new X(n,s,0,0);i.transformBBox(a,t);let{x:l,y:c}=t;return{point:{x:l,y:c},label:{text:e,width:r,height:o}}}var R2=(e=>(e[e.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",e[e.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",e[e.AXIS_ZINDEX=2]="AXIS_ZINDEX",e[e.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",e[e.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",e[e.SERIES_HIGHLIGHT_ZINDEX=5]="SERIES_HIGHLIGHT_ZINDEX",e[e.AXIS_FOREGROUND_ZINDEX=6]="AXIS_FOREGROUND_ZINDEX",e[e.SERIES_CROSSHAIR_ZINDEX=7]="SERIES_CROSSHAIR_ZINDEX",e[e.SERIES_LABEL_ZINDEX=8]="SERIES_LABEL_ZINDEX",e[e.SERIES_CROSSLINE_LINE_ZINDEX=9]="SERIES_CROSSLINE_LINE_ZINDEX",e[e.SERIES_ANNOTATION_ZINDEX=10]="SERIES_ANNOTATION_ZINDEX",e[e.CHART_ANNOTATION_ZINDEX=11]="CHART_ANNOTATION_ZINDEX",e[e.CHART_ANNOTATION_FOCUSED_ZINDEX=12]="CHART_ANNOTATION_FOCUSED_ZINDEX",e[e.LEGEND_ZINDEX=13]="LEGEND_ZINDEX",e[e.NAVIGATOR_ZINDEX=14]="NAVIGATOR_ZINDEX",e[e.FOREGROUND_ZINDEX=15]="FOREGROUND_ZINDEX",e))(R2||{});function P2(e){return e!=null&&Object.hasOwn(e,"toString")&&fn(e.toString())}function F2(e){return e!=null&&Object.hasOwn(e,"valueOf")&&He(e.valueOf())}function m0(e){return He(e)||Sp(e)||F2(e)}function xw(e,t){return e!=null&&(!t||m0(e))}function yu(e){return P2(e)&&Object.hasOwn(e,"id")?e.id:e}var gD=e=>e==="value"?ot((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):ot((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),V2=(e,t,i,n)=>{let s=e==="line"&&t!==void 0,r=e==="range"&&i!==void 0;if(!s&&!r)return!0;let[o,a]=i??[t,void 0],l=st.is(n)||Rs.is(n),c=xw(o,l)&&!isNaN(n.convert(o)),u=xw(a,l)&&!isNaN(n.convert(a));if(s&&c||r&&c&&u)return!0;let d=["Expecting crossLine"];return r?(c||d.push(`range start ${Qh(o)}`),u||d.push(`${c?"":"and "}range end ${Qh(a)}`)):d.push(`value ${Qh(o)}`),d.push("to match the axis scale domain."),z.warnOnce(d.join(" ")),!1},zX={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},GX={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function bw({yDirection:e,padding:t=0,position:i="top",bbox:n}){let s=e?zX:GX,{xTranslationDirection:r,yTranslationDirection:o}=s[i],a=e?n.width:n.height,l=e?n.height:n.width,c=r*(t+a/2),u=o*(t+l/2);return{xTranslation:c,yTranslation:u}}function B2({yDirection:e,bbox:t,padding:i=0,position:n="top"}){let s={};return n.startsWith("inside")||(n==="top"&&!e?s.top=i+t.height:n==="bottom"&&!e?s.bottom=i+t.height:n==="left"&&e?s.left=i+t.width:n==="right"&&e&&(s.right=i+t.width)),s}var Gy=({yDirection:e,xEnd:t,yStart:i,yEnd:n})=>e?{x:t/2,y:i}:{x:t,y:isNaN(n)?i:(i+n)/2},fO=({yDirection:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e?{x:t,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},gO=({yDirection:e,xEnd:t,yStart:i,yEnd:n})=>e?{x:t,y:isNaN(n)?i:(i+n)/2}:{x:t/2,y:isNaN(n)?i:n},mO=({yDirection:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e?{x:i/2,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:(n+s)/2},HX=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),yO=({yDirection:e,xStart:t,xEnd:i,yStart:n})=>e?{x:t/2,y:n}:{x:i,y:n},vO=({yDirection:e,xStart:t,yStart:i,yEnd:n})=>e?{x:t,y:isNaN(n)?i:n}:{x:t,y:i},xO=({yDirection:e,xEnd:t,yStart:i,yEnd:n})=>e?{x:t,y:i}:{x:t,y:isNaN(n)?i:n},bO=({yDirection:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e?{x:i,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:s},j2={top:{c:Gy},bottom:{c:mO},left:{c:fO},right:{c:gO},topLeft:{c:yO},topRight:{c:xO},bottomLeft:{c:vO},bottomRight:{c:bO},inside:{c:HX},insideLeft:{c:fO},insideRight:{c:gO},insideTop:{c:Gy},insideBottom:{c:mO},insideTopLeft:{c:yO},insideBottomLeft:{c:vO},insideTopRight:{c:xO},insideBottomRight:{c:bO}},UX=ht(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),hs=class extends Te{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};m([b(pe,{optional:!0})],hs.prototype,"enabled",2);m([b(U,{optional:!0})],hs.prototype,"text",2);m([b(aa,{optional:!0})],hs.prototype,"fontStyle",2);m([b(la,{optional:!0})],hs.prototype,"fontWeight",2);m([b(H)],hs.prototype,"fontSize",2);m([b(U)],hs.prototype,"fontFamily",2);m([b(dt)],hs.prototype,"padding",2);m([b(it,{optional:!0})],hs.prototype,"color",2);m([b(UX,{optional:!0})],hs.prototype,"position",2);m([b(oa,{optional:!0})],hs.prototype,"rotation",2);m([b(pe,{optional:!0})],hs.prototype,"parallel",2);var ps=(()=>{let e=class Yh extends Te{constructor(){super(),this.id=ls(this),this.label=new hs,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new se({name:`${this.id}`,layer:!0,zIndex:Yh.LINE_LAYER_ZINDEX}),this.labelGroup=new se({name:`${this.id}`,layer:!0,zIndex:Yh.LABEL_LAYER_ZINDEX}),this.crossLineRange=new mr,this.crossLineLabel=new gt,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(i){let{enabled:n,data:s,type:r,value:o,range:a,scale:l}=this;if(!r||!l||!n||!i||!V2(r,o,a,l)||s.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=i,this.labelGroup.visible=i,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(i,n){if(!i)return;let{scale:s,gridLength:r,sideFlag:o,direction:a,label:{position:l="top"},clippedRange:c,strokeWidth:u=0}=this;if(this.data=[],!s)return;let d=s.bandwidth??0,h=s.step??0,p=(n?-1:1)*(s instanceof sa?(h-d)/2:0),[f,g]=[0,o*r],[y,x]=this.getRange(),v=x===void 0&&Rs.is(s)?d/2+p:0,[_,C]=[Number(s.convert(y,{clampMode:"clamped"}))-p+v,s.convert(x,{clampMode:"clamped"})+d+p];_=Py(_,c),C=Py(C,c),[y,x]=[Number(s.convert(y))+v,s.convert(x)+d];let w=(y===_||x===C||_!==C)&&Math.abs(C-_)>0;if(w&&_>C&&([_,C]=[C,_],[y,x]=[x,y]),y-p>=_&&(y-=p),x+p<=C&&(x+=p),this.isRange=w,this.startLine=u>0&&y>=_&&y<=_+p,this.endLine=u>0&&x>=C-d-p&&x<=C,!(!w&&!this.startLine&&!this.endLine)&&(this.data=[_,C],this.label.enabled)){let D=a==="y",{c:M=Gy}=j2[l]??{},{x:I,y:T}=M({yDirection:D,xStart:f,xEnd:g,yStart:_,yEnd:C});this.labelPoint={x:I,y:T}}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){let{crossLineRange:i,sideFlag:n,gridLength:s,data:r,startLine:o,endLine:a,isRange:l,fill:c,fillOpacity:u,stroke:d,strokeWidth:h,lineDash:p}=this;i.x1=0,i.x2=n*s,i.y1=r[0],i.y2=r[1],i.startLine=o,i.endLine=a,i.isRange=l,i.fill=c,i.fillOpacity=u??1,i.stroke=d,i.strokeWidth=h??1,i.strokeOpacity=this.strokeOpacity??1,i.lineDash=p}updateLabel(){let{crossLineLabel:i,label:n}=this;n.text&&(i.fontStyle=n.fontStyle,i.fontWeight=n.fontWeight,i.fontSize=n.fontSize,i.fontFamily=n.fontFamily,i.fill=n.color,i.text=n.text)}positionLabel(){let{crossLineLabel:i,labelPoint:{x:n=void 0,y:s=void 0}={},label:{parallel:r,rotation:o,position:a="top",padding:l=0},direction:c,parallelFlipRotation:u,regularFlipRotation:d}=this;if(n===void 0||s===void 0)return;let{defaultRotation:h,configuredRotation:p}=zy({rotation:o,parallel:r,regularFlipRotation:d,parallelFlipRotation:u});i.rotation=h+p,i.textBaseline="middle",i.textAlign="center";let f=i.computeTransformedBBox();if(!f)return;let g=c==="y",{xTranslation:y,yTranslation:x}=bw({yDirection:g,padding:l,position:a,bbox:f});i.translationX=n+y,i.translationY=s+x}getZIndex(i=!1){return i?Yh.RANGE_LAYER_ZINDEX:Yh.LINE_LAYER_ZINDEX}getRange(){let{value:i,range:n,scale:s}=this,r=st.is(s)||Rs.is(s),o=n?.[0]??i,a=n?.[1];return!r&&a===void 0&&(a=o),r&&o===a&&(a=void 0),[o,a]}computeLabelBBox(){let{label:i}=this;if(!i.enabled)return;let n=new gt;n.fontFamily=i.fontFamily,n.fontSize=i.fontSize,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.text=i.text;let{labelPoint:{x:s=void 0,y:r=void 0}={},label:{parallel:o,rotation:a,position:l="top",padding:c=0},direction:u,parallelFlipRotation:d,regularFlipRotation:h}=this;if(s===void 0||r===void 0)return;let{configuredRotation:p}=zy({rotation:a,parallel:o,regularFlipRotation:h,parallelFlipRotation:d});n.rotation=p,n.textBaseline="middle",n.textAlign="center";let f=n.computeTransformedBBox();if(!f)return;let g=u==="y",{xTranslation:y,yTranslation:x}=bw({yDirection:g,padding:c,position:l,bbox:f});return n.translationX=s+y,n.translationY=r+x,n.computeTransformedBBox()}calculatePadding(i){let{isRange:n,startLine:s,endLine:r,direction:o,label:{padding:a=0,position:l="top"}}=this;if(!n&&!s&&!r)return;let c=this.computeLabelBBox();if(c?.x==null||c?.y==null)return;let u=B2({yDirection:o==="y",padding:a,position:l,bbox:c});i.left=Math.max(i.left??0,u.left??0),i.right=Math.max(i.right??0,u.right??0),i.top=Math.max(i.top??0,u.top??0),i.bottom=Math.max(i.bottom??0,u.bottom??0)}};return e.LINE_LAYER_ZINDEX=9,e.RANGE_LAYER_ZINDEX=3,e.LABEL_LAYER_ZINDEX=8,e.className="CrossLine",e})();m([b(pe,{optional:!0})],ps.prototype,"enabled",2);m([b(ht(["range","line"],"a crossLine type"),{optional:!0})],ps.prototype,"type",2);m([b(cs(gD("range"),Nu.restrict({length:2})),{optional:!0})],ps.prototype,"range",2);m([b(gD("value"),{optional:!0})],ps.prototype,"value",2);m([b(it,{optional:!0})],ps.prototype,"fill",2);m([b(Ke,{optional:!0})],ps.prototype,"fillOpacity",2);m([b(it,{optional:!0})],ps.prototype,"stroke",2);m([b(dt,{optional:!0})],ps.prototype,"strokeWidth",2);m([b(Ke,{optional:!0})],ps.prototype,"strokeOpacity",2);m([b(Jr,{optional:!0})],ps.prototype,"lineDash",2);m([b(Q)],ps.prototype,"label",2);var GC=ps,z2=(e=>(e.TITLE="title",e.SUBTITLE="subtitle",e.FOOTNOTE="footnote",e.LEGEND="legend",e.NAVIGATOR="navigator",e.PAGINATION="pagination",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e.TOOLBAR="toolbar",e))(z2||{}),$X=["stroke","lineDash"],WX=Kr(e=>pn(e)&&Object.keys(e).every(t=>$X.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),y0=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};m([b(pe)],y0.prototype,"enabled",2);m([b(H)],y0.prototype,"width",2);m([b(WX)],y0.prototype,"style",2);function ua(e,t=[void 0]){return qr((i,n,s)=>t.includes(s)?Qr(e)?e(s):e:s)}var G2=ot(e=>He(e)&&e>0||e instanceof El,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Ol=class extends Te{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};m([b(G2,{optional:!0})],Ol.prototype,"step",2);m([b(Nu,{optional:!0})],Ol.prototype,"values",2);m([b(a2),ua(NaN)],Ol.prototype,"minSpacing",2);m([b(l2),ua(NaN)],Ol.prototype,"maxSpacing",2);var Kt=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};m([b(pe)],Kt.prototype,"enabled",2);m([b(aa,{optional:!0})],Kt.prototype,"fontStyle",2);m([b(la,{optional:!0})],Kt.prototype,"fontWeight",2);m([b(dt.restrict({min:1}))],Kt.prototype,"fontSize",2);m([b(U)],Kt.prototype,"fontFamily",2);m([b(H)],Kt.prototype,"padding",2);m([b(Lu),ua(NaN)],Kt.prototype,"minSpacing",2);m([b(it,{optional:!0})],Kt.prototype,"color",2);m([b(oa,{optional:!0})],Kt.prototype,"rotation",2);m([b(pe)],Kt.prototype,"avoidCollisions",2);m([b(pe)],Kt.prototype,"mirrored",2);m([b(pe)],Kt.prototype,"parallel",2);m([b(mn,{optional:!0})],Kt.prototype,"formatter",2);m([b(U,{optional:!0})],Kt.prototype,"format",2);var kp=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};m([b(pe)],kp.prototype,"enabled",2);m([b(H)],kp.prototype,"width",2);m([b(it,{optional:!0})],kp.prototype,"stroke",2);var Fu=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};m([b(pe)],Fu.prototype,"enabled",2);m([b(H)],Fu.prototype,"width",2);m([b(H)],Fu.prototype,"size",2);m([b(it,{optional:!0})],Fu.prototype,"stroke",2);var Bs=class extends Te{constructor(){super(...arguments),this.enabled=!1,this.spacing=Ct.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};m([b(pe)],Bs.prototype,"enabled",2);m([b(U,{optional:!0})],Bs.prototype,"text",2);m([b(H,{optional:!0})],Bs.prototype,"spacing",2);m([b(aa,{optional:!0})],Bs.prototype,"fontStyle",2);m([b(la,{optional:!0})],Bs.prototype,"fontWeight",2);m([b(H)],Bs.prototype,"fontSize",2);m([b(U)],Bs.prototype,"fontFamily",2);m([b(it,{optional:!0})],Bs.prototype,"color",2);m([b(c0)],Bs.prototype,"wrapping",2);m([b(mn,{optional:!0})],Bs.prototype,"formatter",2);function _w(e){let[t,i]=An(e.range),n=Math.floor(t),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var Cw=Math.PI*2,YX=Cw/2;function ZX(e,t){return Math.abs(t-e)<YX?t:e>t?t+Cw:t-Cw}function H2(e){let t=(o,a)=>{let[l=e.min,c=e.max]=An(a??[]);return o<l||o>c};return{tick:{fromFn(o,a,l){let c=o.y1+o.translationY,u=o.opacity;return(l==="added"||t(o.datum.translationY,o.datum.range))&&(c=a.translationY,u=0),{y:0,translationY:c,opacity:u,phase:Ui[l]}},toFn(o,a,l){let c=a.translationY,u=1;return l==="removed"&&(u=0),{y:0,translationY:c,opacity:u,finish:{y:c,translationY:0}}},intermediateFn(o,a,l){return{visible:!t(o.y)}}},line:{fromFn(o,a){return k(S({},o.previousDatum??a),{phase:Ui.updated})},toFn(o,a){return S({},a)}},label:{fromFn(o,a,l){let c=o.previousDatum??a,u=c.x,d=c.y,h=c.rotationCenterX,p=Math.round(o.translationY),f=c.rotation,g=o.opacity;return l==="removed"||t(c.y,c.range)?f=a.rotation:(l==="added"||t(o.datum.y,o.datum.range))&&(p=Math.round(c.translationY),g=0,f=a.rotation),{x:u,y:d,rotationCenterX:h,translationY:p,rotation:f,opacity:g,phase:Ui[l]}},toFn(o,a,l){let c=a.x,u=a.y,d=a.rotationCenterX,h=Math.round(a.translationY),p=0,f=1;return l==="added"?(f=1,p=a.rotation):l==="removed"?(f=0,p=a.rotation):p=ZX(o.previousDatum?.rotation??a.rotation,a.rotation),{x:c,y:u,rotationCenterX:d,translationY:h,rotation:p,opacity:f,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){let{rotation:l,translationX:c,translationY:u}=o;return{rotation:l,translationX:c,translationY:u,phase:Ui.updated}},toFn(o,a){let{rotation:l,translationX:c,translationY:u}=a;return{rotation:l,translationX:c,translationY:u}}}}}function U2(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function $2(e){let{visible:t,min:i,max:n}=e;return(s,r)=>{let o=r.translationY,a=t&&o>=i&&o<=n;return{y:o,translationY:0,opacity:1,visible:a}}}function W2(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function Y2(){return(e,t)=>S({},t)}var Rl=(()=>{let e=class Z2{constructor(i,n){this.moduleCtx=i,this.scale=n,this.id=ls(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Ol,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new se({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new li({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new se({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new se({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new se({name:`${this.id}-CrossLines`}),this.labelGroup=new se({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new se({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new se({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=bt.select(this.tickLineGroup,li,!1),this.tickLabelGroupSelection=bt.select(this.tickLabelGroup,gt,!1),this.gridLineGroupSelection=bt.select(this.gridLineGroup,li,!1),this._crossLines=[],this.line=new kp,this.tick=new Fu,this.gridLine=new y0,this.label=this.createLabel(),this.defaultTickMinSpacing=Z2.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Bs,this._titleCaption=new Ct,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new cD,this.range=this.scale.range.slice(),this.crossLines.forEach(r=>this.initCrossLine(r)),this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx)),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.animationManager=i.animationManager,this.animationState=new Ep("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[];let s;this.destroyFns.push(i.layoutService.addListener("layout-complete",r=>{s!=null&&En(r.chart,s)!=null&&this.animationState.transition("resize"),s=S({},r.chart)}))}get type(){return this.constructor.type??""}set crossLines(i){let{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(s=>this.detachCrossLine(s)),this._crossLines=i.map(s=>{let r=new n;return r.set(s),r}),this._crossLines.forEach(s=>{this.attachCrossLine(s),this.initCrossLine(s)})}get crossLines(){return this._crossLines}resetAnimation(i){i==="initial"&&this.animationState.transition("reset")}attachCrossLine(i){this.crossLineGroup.appendChild(i.group),this.crossLineGroup.appendChild(i.labelGroup)}detachCrossLine(i){this.crossLineGroup.removeChild(i.group),this.crossLineGroup.removeChild(i.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(i=>i())}updateRange(){let{range:i,visibleRange:n,scale:s}=this,r=(i[1]-i[0])/(n[1]-n[0]),o=r*n[0],a=i[0]-o;s.setVisibleRange?.(n),s.range=[a,a+r],this.crossLines.forEach(l=>{l.clippedRange=[i[0],i[1]]})}setCrossLinesVisible(i){this.crossLineGroup.visible=i}attachAxis(i,n){n.appendChild(this.gridGroup),i.appendChild(this.axisGroup),i.appendChild(this.crossLineGroup),i.appendChild(this.labelGroup)}attachLabel(i){this.labelGroup.append(i)}detachAxis(i,n){n.removeChild(this.gridGroup),i.removeChild(this.axisGroup),i.removeChild(this.crossLineGroup),i.removeChild(this.labelGroup)}getAxisGroup(){return this.axisGroup}inRange(i,n=0){let[s,r]=An(this.range);return i>=s-n&&i<=r+n}onFormatChange(i,n,s,r){let{scale:o}=this,a=o instanceof dD,l=c=>a?String:u=>typeof u=="number"?u.toFixed(n+c):String(u);if(r&&o&&o.tickFormat)try{let c=o.tickFormat({ticks:i,specifier:r});this.labelFormatter=c,this.datumFormatter=c}catch{this.labelFormatter=l(0),this.datumFormatter=l(1),z.warnOnce(`the axis label format string ${r} is invalid. No formatting will be applied`)}else this.labelFormatter=l(0),this.datumFormatter=l(1)}setTickInterval(i){this.scale.interval=this.interval?.step??i}onGridLengthChange(i,n){(n&&!i||!n&&i)&&this.onGridVisibilityChange(),this.crossLines.forEach(s=>this.initCrossLine(s))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new Kt}update(i=0,n=!0){if(!this.tickGenerationResult)return;let{rotation:s,parallelFlipRotation:r,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();let l=this.getAxisLineCoordinates(),{tickData:c,combinedRotation:u,textBaseline:d,textAlign:h,primaryTickCount:p}=this.tickGenerationResult,f=this.tickLabelGroupSelection.nodes().map(g=>g.datum.tickId);if(this.updateSelections(l,c.ticks,{combinedRotation:u,textAlign:h,textBaseline:d,range:this.scale.range}),!n||this.animationManager.isSkipped())this.resetSelectionNodes();else{let g=this.calculateUpdateDiff(f,c);this.animationState.transition("update",g)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:c.ticks.length>0}),this.updateCrossLines({rotation:s,parallelFlipRotation:r,regularFlipRotation:o}),this.updateLayoutState(c.fractionDigits),p}getAxisLineCoordinates(){let[i,n]=An(this.range);return{x:0,y1:i,y2:n}}getTickLineCoordinates(i){let s=this.label.getSideFlag()*this.getTickSize(),r=Math.min(0,s),o=r+Math.abs(s),a=i.translationY;return{x1:r,x2:o,y:a}}getTickLabelProps(i,n){let{label:s}=this,{combinedRotation:r,textBaseline:o,textAlign:a,range:l}=n,c=i.tickLabel,d=s.getSideFlag()*(this.getTickSize()+s.padding+this.seriesAreaPadding),h=c!==""&&c!=null;return{tickId:i.tickId,translationY:i.translationY,fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,rotation:r,rotationCenterX:d,text:c,textAlign:a,textBaseline:o,visible:h,x:d,y:0,range:l}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(i,n){let{title:s}=this;if(!s.enabled){i.enabled=!1,i.node.visible=!1;return}i.color=s.color,i.fontFamily=s.fontFamily,i.fontSize=s.fontSize,i.fontStyle=s.fontStyle,i.fontWeight=s.fontWeight,i.enabled=s.enabled,i.wrapping=s.wrapping;let r=i.node,o=(s.spacing??0)+n.spacing,a=this.label.getSideFlag(),l=_t(this.rotation),c=a===-1&&l>Math.PI&&l<Math.PI*2?-1:1,u=c*a*Math.PI/2,d=c===1?"bottom":"top",{range:h}=this,p=Math.floor(c*a*(h[0]+h[1])/2),f=Math.floor(a===-1?c*-o:-o),{callbackCache:g}=this.moduleCtx,{formatter:y=v=>v.defaultValue}=s,x=g.call(y,this.getTitleFormatterParams());r.setProperties({rotation:u,text:x,textBaseline:d,visible:!0,x:p,y:f})}calculateLayout(i){let{rotation:n,parallelFlipRotation:s,regularFlipRotation:r}=this.calculateRotations(),o=this.label.getSideFlag(),a=o*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:i,parallelFlipRotation:s,regularFlipRotation:r,labelX:a,sideFlag:o});let w=this.tickGenerationResult,{tickData:l,combinedRotation:c,textBaseline:u,textAlign:d}=w,h=mt(w,["tickData","combinedRotation","textBaseline","textAlign"]);this.updateLayoutState(l.fractionDigits);let p=[],{x:f,y1:g,y2:y}=this.getAxisLineCoordinates(),x=new X(f+Math.min(o*this.seriesAreaPadding,0),g,this.seriesAreaPadding,y-g);if(p.push(x),this.tick.enabled&&l.ticks.forEach(D=>{let{x1:M,x2:I,y:T}=this.getTickLineCoordinates(D),A=new X(M,T,I-M,0);p.push(A)}),this.label.enabled){let D=new gt;l.ticks.forEach(M=>{let I=this.getTickLabelProps(M,{combinedRotation:c,textAlign:d,textBaseline:u,range:this.scale.range});if(!I.visible)return;D.setProperties(k(S({},I),{translationY:Math.round(M.translationY)}));let T=D.computeTransformedBBox();T&&p.push(T)})}if(this.title?.enabled){let D=new Ct,M=X.merge(p).width;this.setTitleProps(D,{spacing:M});let T=D.node.computeTransformedBBox();T&&p.push(T)}let v=X.merge(p),_=this.getTransformBox(v),C=this.isAnySeriesActive();return this.crossLines.forEach(D=>{var M;D.sideFlag=-o,D.direction=n===-Math.PI/2?"x":"y",D instanceof GC&&((M=D.label).parallel??(M.parallel=this.label.parallel)),D.parallelFlipRotation=s,D.regularFlipRotation=r,D.calculateLayout?.(C,this.reverse)}),{primaryTickCount:h.primaryTickCount,bbox:_}}updateLayoutState(i){this.layout.label={fractionDigits:i,padding:this.label.padding,format:this.label.format}}getTransformBox(i){let n=new qo,{rotation:s,translationX:r,translationY:o,rotationCenterX:a,rotationCenterY:l}=this.getAxisTransform();return qo.updateTransformMatrix(n,1,1,s,r,o,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:a,rotationCenterY:l}),n.transformBBox(i)}setDomain(i){this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.interval.step);let{scale:i,nice:n}=this;st.is(i)&&(i.nice=n,i.update())}calculateRotations(){let i=$i(this.rotation),n=_t(i),s=_t(i-Math.PI/2);return{rotation:i,parallelFlipRotation:n,regularFlipRotation:s}}generateTicks({primaryTickCount:i,parallelFlipRotation:n,regularFlipRotation:s,labelX:r,sideFlag:o}){let{scale:a,interval:{minSpacing:l,maxSpacing:c},label:{parallel:u,rotation:d,fontFamily:h,fontSize:p,fontStyle:f,fontWeight:g}}=this,y=i!==void 0,{defaultRotation:x,configuredRotation:v,parallelFlipFlag:_,regularFlipFlag:C}=zy({rotation:d,parallel:u,regularFlipRotation:s,parallelFlipRotation:n}),w=v+x,D=new qo,{maxTickCount:M}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),T=!(st.is(a)||Rs.is(a))||isNaN(M)?10:M,A=zC(u,v,0,o,C),E=BX(u,v,o,_),P=Ht.toFontString({fontFamily:h,fontSize:p,fontStyle:f,fontWeight:g}),N=eo.getMeasurer({font:P}),j={fontFamily:h,fontSize:p,fontStyle:f,fontWeight:g,textBaseline:E,textAlign:A},ae={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},oe=0,re=0,ie=!0,ne=!1;for(;ie&&oe<=T&&!ne;){re=0,A=zC(u,v,0,o,C);let we=this.getTickStrategies({secondaryAxis:y,index:oe});for(let Pe of we){({tickData:ae,index:oe,autoRotation:re,terminate:ne}=Pe({index:oe,tickData:ae,textProps:j,labelOverlap:ie,terminate:ne,primaryTickCount:i}));let le=v!==0||re!==0,Z=w+re;A=zC(u,v,re,o,C),ie=this.label.avoidCollisions?this.checkLabelOverlap(Z,le,D,ae.ticks,r,N):!1}}let Ue=x+v+re;return!y&&ae.rawTicks.length>0&&(i=ae.rawTicks.length),{tickData:ae,primaryTickCount:i,combinedRotation:Ue,textBaseline:E,textAlign:A}}getTickStrategies({index:i,secondaryAxis:n}){let{scale:s,label:r}=this,{minSpacing:o}=this.interval,a=st.is(s)||Rs.is(s),l=r.enabled&&r.avoidCollisions,c=!a&&i!==0&&l,u=r.autoRotate===!0&&r.rotation===void 0,d=[],h;this.interval.values?h=3:n?h=1:c?h=2:h=0;let p=({index:f,tickData:g,primaryTickCount:y,terminate:x})=>this.createTickData(h,f,g,x,y);if(d.push(p),!a&&!isNaN(o)){let f=({index:g,tickData:y,primaryTickCount:x,terminate:v})=>this.createTickData(2,g,y,v,x);d.push(f)}if(!l)return d;if(u){let f=({index:g,tickData:y,labelOverlap:x,terminate:v})=>({index:g,tickData:y,autoRotation:this.getAutoRotation(x),terminate:v});d.push(f)}return d}createTickData(i,n,s,r,o){let{scale:a}=this,{step:l,values:c,minSpacing:u,maxSpacing:d}=this.interval,{maxTickCount:h,minTickCount:p,defaultTickCount:f}=this.estimateTickCount({minSpacing:u,maxSpacing:d}),g=st.is(a)||Rs.is(a),y=!g||isNaN(h)?10:h,x=g?Math.max(f-n,p):h,v=l===void 0&&c===void 0&&x>p&&(g||i===2),_=!0;for(;_&&n<=y;){let w=s.rawTicks;x=g?Math.max(f-n,p):h;let{rawTicks:D,fractionDigits:M,ticks:I,labelCount:T}=this.getTicks({tickGenerationType:i,previousTicks:w,tickCount:x,minTickCount:p,maxTickCount:h,primaryTickCount:o});s.rawTicks=D,s.fractionDigits=M,s.ticks=I,s.labelCount=T,_=v?L2(D,w):!1,n++}return r||(r=l!==void 0||c!==void 0),{tickData:s,index:n,autoRotation:0,terminate:r}}checkLabelOverlap(i,n,s,r,o,a){qo.updateTransformMatrix(s,1,1,i,0,0);let l=this.createLabelData(r,o,s,a),c=VX(this.label.minSpacing,n);return OX(l,c)}createLabelData(i,n,s,r){let o=[];for(let{tickLabel:a,translationY:l}of i){if(!a)continue;let{width:c,height:u}=r.measureLines(a),d=new X(n,l,c,u),h=jX(a,d,s);o.push(h)}return o}getAutoRotation(i){return i?_t($i(this.label.autoRotateAngle??0)):0}getTicks({tickGenerationType:i,previousTicks:n,tickCount:s,minTickCount:r,maxTickCount:o,primaryTickCount:a}){let{range:l,scale:c,visibleRange:u}=this,d;switch(i){case 3:if(d=this.interval.values,st.is(c)){let[C,w]=An(c.getDomain().map(Number));d=d.filter(D=>D>=C&&D<=w).sort((D,M)=>D-M)}break;case 1:st.is(c)?d=this.updateSecondaryAxisTicks(a):d=this.createTicks(s,r,o);break;case 2:d=this.filterTicks(n,s);break;default:d=this.createTicks(s,r,o);break}let h=d.reduce((C,w)=>Math.max(C,wp(w)),0),p=(c.bandwidth??0)/2,f=[],g=0,y=new Map,x=Math.max(0,Math.floor(u[0]*d.length)),v=Math.min(d.length,Math.ceil(u[1]*d.length)),_=d.slice(x,v);this.onFormatChange(_,h,d,this.label.format);for(let C=0;C<_.length;C++){let w=_[C],D=c.convert(w)+p;if(l.length>0&&!this.inRange(D,.001))continue;let M=this.formatTick(w,h,x+C),I=M;if(y.has(I)){let T=y.get(I);y.set(I,T+1),I=`${I}_${T}`}else y.set(I,1);f.push({tick:w,tickId:I,tickLabel:M,translationY:Math.floor(D)}),!(M===""||M==null)&&g++}return{rawTicks:d,fractionDigits:h,ticks:f,labelCount:g}}filterTicks(i,n){let{minSpacing:s,maxSpacing:r}=this.interval,a=!isNaN(s)||!isNaN(r)?Math.ceil(i.length/n):2;return i.filter((l,c)=>c%a===0)}createTicks(i,n,s){let{scale:r}=this;return i&&(st.is(r)||Rs.is(r))&&(typeof i=="number"?(r.tickCount=i,r.minTickCount=n??0,r.maxTickCount=s??1/0):r instanceof p0&&this.setTickInterval(i)),r.ticks?.()??[]}estimateTickCount({minSpacing:i,maxSpacing:n}){if(!this.label.avoidCollisions)return{minTickCount:st.defaultMaxTickCount,maxTickCount:st.defaultMaxTickCount,defaultTickCount:st.defaultMaxTickCount};let s=this.calculateRangeWithBleed(),r=Math.max(this.defaultTickMinSpacing,s/st.defaultMaxTickCount),o=!isNaN(n);isNaN(i)&&(i=r),isNaN(n)&&(n=s),i>n&&(i===r?i=n:n=i);let a=2;o&&(o=a<r);let l=De(1,Math.floor(s/i),o?Math.min(Math.floor(s/a),100):100),c=Math.min(l,Math.ceil(s/n)),u=De(c,st.defaultTickCount,l);return{minTickCount:c,maxTickCount:l,defaultTickCount:u}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:i,parallelFlipRotation:n,regularFlipRotation:s}){let r=this.label.getSideFlag(),o=this.isAnySeriesActive();this.crossLines.forEach(a=>{a.sideFlag=-r,a.direction=i===-Math.PI/2?"x":"y",a instanceof GC&&(a.label.parallel=a.label.parallel??this.label.parallel),a.parallelFlipRotation=n,a.regularFlipRotation=s,a.update(o)})}updateTickLines(){let{tick:i,label:n}=this,s=n.getSideFlag();this.tickLineGroupSelection.each(r=>{r.strokeWidth=i.width,r.stroke=i.stroke,r.x1=s*this.getTickSize(),r.x2=0})}calculateAvailableRange(){return Cu(this.range)}calculateRangeWithBleed(){let i=1/Cu(this.visibleRange);return e0(this.calculateAvailableRange()*i,2)}calculateDomain(){let n=this.boundSeries.filter(s=>this.includeInvisibleDomains||s.isEnabled()).flatMap(s=>s.getDomain(this.direction));this.setDomain(n)}getAxisTransform(){return{rotation:$i(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){let{crossLineGroup:i,axisGroup:n,gridGroup:s,translation:r,gridLineGroupSelection:o,gridPadding:a,gridLength:l}=this,{rotation:c}=this.calculateRotations(),u=this.label.getSideFlag(),d=Math.floor(r.x),h=Math.floor(r.y);i.setProperties({rotation:c,translationX:d,translationY:h}),s.setProperties({rotation:c,translationX:d,translationY:h}),n.datum=this.getAxisTransform(),o.each(p=>{p.x1=a,p.x2=-u*l+a})}updateSecondaryAxisTicks(i){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(i,n,s){this.lineNode.datum=i,this.gridLineGroupSelection.update(this.gridLength?n:[],r=>r.append(new li),r=>r.tickId),this.tickLineGroupSelection.update(n,r=>r.appendChild(new li),r=>r.tickId),this.tickLabelGroupSelection.update(n.map(r=>this.getTickLabelProps(r,s)),r=>r.appendChild(new gt),r=>r.tickId)}updateAxisLine(){let{line:i}=this,n=i.enabled?i.width:0;this.lineNode.setProperties({stroke:i.stroke,strokeWidth:n})}updateGridLines(i){let{gridLine:{style:n,width:s},gridPadding:r,gridLength:o}=this;o===0||n.length===0||this.gridLineGroupSelection.each((a,l,c)=>{let{stroke:u,lineDash:d}=n[c%n.length];a.setProperties({x1:r,x2:-i*o+r,fill:void 0,stroke:u,strokeWidth:s,lineDash:d})})}updateLabels(){let{label:i}=this;i.enabled&&this.tickLabelGroupSelection.each((n,s)=>{n.setProperties(s,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}updateTitle(i){let{rotation:n,title:s,_titleCaption:r,lineNode:o,tickLineGroup:a,tickLabelGroup:l}=this,c=0;if(s.enabled&&i.anyTickVisible){let u=se.computeBBox([a,l,o]),d=n===0?u.width:u.height;c+=d+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(r,{spacing:c})}formatTick(i,n,s){return String(this.getFormatter(s,!0)(i,n))}formatDatum(i){return String(this.getFormatter()(i))}getFormatter(i=0,n){let{label:s,labelFormatter:r,datumFormatter:o,moduleCtx:{callbackCache:a}}=this;return s.formatter?(l,c)=>a.call(s.formatter,{value:l,index:i,fractionDigits:c})??l:!n&&o?l=>a.call(o,l)??String(l):r?l=>a.call(r,l)??String(l):l=>String(l)}getBBox(){return this.axisGroup.getBBox()}getRegionBBoxProvider(){let{axisGroup:i}=this;return{id:this.id,computeTransformedBBox(){return i.computeTransformedBBox()},computeTransformedRegionBBox(){return i.computeTransformedRegionBBox()},get visible(){return i.visible}}}initCrossLine(i){i.scale=this.scale,i.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(i=>this.includeInvisibleDomains||i.isEnabled())}clipTickLines(i,n,s,r){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new X(i,n,s,r))}clipGrid(i,n,s,r){this.gridGroup.setClipRectInGroupCoordinateSpace(new X(i,n,s,r))}calculatePadding(i,n){let s=Math.abs(this.reverse?n:i)*.01;return[s,s]}getTitleFormatterParams(){let i=this.boundSeries.reduce((n,s)=>{let r=s.getKeys(this.direction),o=s.getNames(this.direction);for(let a=0;a<r.length;a++)n.push({key:r[a],name:o[a]});return n},[]);return{direction:this.direction,boundSeries:i,defaultValue:this.title?.text}}normaliseDataDomain(i){return{domain:[...i],clipped:!1}}getLayoutState(){return S({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),k(S({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:i}=this;return{axisId:this.id,direction:this.direction,continuous:st.is(i)||Rs.is(i),keys:()=>this.boundSeries.flatMap(n=>n.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((n,s)=>(s.getKeyProperties(this.direction).forEach(o=>{n.indexOf(o)<0&&n.push(o)}),n),[]),scaleValueFormatter:n=>this.getScaleValueFormatter(n),scaleBandwidth:()=>i.bandwidth??0,scaleDomain:()=>i.getDomain?.(),scaleConvert:n=>i.convert(n),scaleInvert:Rs.is(i)?n=>i.invertNearest?.(n):n=>i.invert?.(n),scaleInvertNearest:n=>i.invertNearest?.(n),attachLabel:n=>this.attachLabel(n),inRange:(n,s)=>this.inRange(n,s)}}getScaleValueFormatter(i){let{scale:n}=this;if(i&&n&&n.tickFormat)try{return n.tickFormat({specifier:i})}catch{z.warnOnce(`the format string ${i} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(i){let{animationManager:n}=this.moduleCtx,s=_w(this),r=H2(s);Pt(this.id,"axis-group",n,[this.axisGroup],r.group),Pt(this.id,"line",n,[this.lineNode],r.line),Pt(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(o,a)=>a.tickId,i),Pt(this.id,"tick-labels",n,[this.tickLabelGroupSelection],r.label,(o,a)=>a.tickId,i)}resetSelectionNodes(){let{gridLineGroupSelection:i,tickLineGroupSelection:n,tickLabelGroupSelection:s,lineNode:r}=this,o=_w(this);Gt([this.axisGroup],U2()),Gt([i,n],$2(o)),Gt([s],W2()),Gt([r],Y2())}calculateUpdateDiff(i,n){let s=new Set,r=new Set,o={},a=Math.max(i.length,n.ticks.length);for(let l=0;l<a;l++){let c=n.ticks[l],u=i[l],d=c?.tickId;o[d??u]=c,u!==d&&(r.has(d)?r.delete(d):d&&s.add(d),s.has(u)?s.delete(u):u&&r.add(u))}return{changed:s.size>0||r.size>0,added:s,removed:r}}isReversed(){return this.reverse}};return e.defaultTickMinSpacing=50,e.CrossLineConstructor=GC,e})();m([b(pe)],Rl.prototype,"nice",2);m([b(pe)],Rl.prototype,"reverse",2);m([b(i2)],Rl.prototype,"keys",2);m([b(Q)],Rl.prototype,"interval",2);m([b(Q,{optional:!0})],Rl.prototype,"title",2);m([Yi((e,t,i)=>e.onGridLengthChange(t,i))],Rl.prototype,"gridLength",2);var mD=Rl,yD=class extends Kt{constructor(){super(...arguments),this.autoRotateAngle=335}};m([b(pe,{optional:!0})],yD.prototype,"autoRotate",2);m([b(oa)],yD.prototype,"autoRotateAngle",2);var vD=class X2 extends mD{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof X2}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,i){return this.updateDirection(),super.update(t,i)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return k(S({},super.createAxisContext()),{position:this.position})}createLabel(){return new yD}};m([b(H)],vD.prototype,"thickness",2);m([b(oD)],vD.prototype,"position",2);var Vu=vD,Bu=(()=>{let e=class extends Vu{constructor(t,i=new sa){super(t,i),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(t){this.scale.paddingOuter=t}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(t){let i=[],n=new Set;for(let s of t){let r=s instanceof Date?s.getTime():s;n.has(r)||(n.add(r),i.push(s))}return{domain:i,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let t=1/0,i=-1/0;for(let n of this.boundSeries){let s=n.getBandScalePadding?.();s!=null&&(t=Math.min(t,s.inner),i=Math.max(i,s.outer))}this.scale.paddingInner=Number.isFinite(t)?t:0,this.scale.paddingOuter=Number.isFinite(i)?i:0}return super.calculateDomain()}};return e.className="CategoryAxis",e.type="category",e})();m([b(Ke)],Bu.prototype,"groupPaddingInner",2);var q2=class{constructor(e="",t,i=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((e,t)=>t!==this.number):[]}};function XX(e,t=!0){let i=new q2,n=0;return t&&e.forEach(s=>n=Math.max(n,s.labels.length)),e.forEach(s=>{if(t)for(;s.labels.length<n;)s.labels.unshift("");qX(i,s)}),i}function qX(e,t){let i=t.labels.slice().reverse(),n=i.length-1;i.forEach((s,r)=>{let o=e.children,a=o.find(c=>c.label===s),l=r!==n;if(a&&l)e=a;else{let c=new q2(s,e);c.number=o.length,o.push(c),l&&(e=c)}})}function QX(e,t,i){let n=t.number-e.number,s=i/n;t.change-=s,t.shift+=i,e.change+=s,t.prelim+=i,t.mod+=i}function KX(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function JX(e){let t=e.children;if(t){let i=0,n=0;for(let s=t.length-1;s>=0;s--){let r=t[s];r.prelim+=i,r.mod+=i,n+=r.change,i+=r.shift+n}}}function e7(e,t,i){let n=e.getLeftSibling();if(n){let s=e,r=e,o=n,a=r.getLeftmostSibling(),l=r.mod,c=s.mod,u=o.mod,d=a.mod;for(;o.nextRight()&&r.nextLeft();){o=o.nextRight(),r=r.nextLeft(),a=a.nextLeft(),s=s.nextRight(),s.ancestor=e;let h=o.prelim+u-(r.prelim+l)+i;h>0&&(QX(KX(o,e,t),e,h),l+=h,c+=h),u+=o.mod,l+=r.mod,d+=a.mod,c+=s.mod}o.nextRight()&&!s.nextRight()?(s.thread=o.nextRight(),s.mod+=u-c):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-d),t=e)}return t}function Q2(e,t){let i=e.children;if(i.length){let n=i[0];i.forEach(o=>{Q2(o,t),n=e7(o,n,t)}),JX(e);let s=(i[0].prelim+i.at(-1).prelim)/2,r=e.getLeftSibling();r?(e.prelim=r.prelim+t,e.mod=e.prelim-s):e.prelim=s}else{let n=e.getLeftSibling();e.prelim=n?n.prelim+t:0}}var _O=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){let{x:i,y:n}=t(e);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function K2(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.update(e),e.children.forEach(n=>K2(n,t+e.mod,i))}function J2(e){let t=e.children,i=0;t.forEach(n=>{J2(n),n.children.length?i+=n.leafCount:i++}),e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function t7(e){let t=new i7;return Q2(e,1),K2(e,-e.prelim,t),J2(e),t}var i7=class{constructor(){this.dimensions=new _O,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,t=>({x:t.x,y:t.y})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t,i=0,n=0,s=!1){let r=this.leafCount-1,o=this.depth,a=this.dimensions,l=1,c=1;if(e>0&&r){let p=(a.right-a.left)/r;l=e/r/p,s&&(l=-l)}if(t>0&&o){let p=(a.bottom-a.top)/o;c=t/o/p}let u=new _O;this.nodes.forEach(p=>{p.screenX=p.x*l,p.screenY=p.y*c,u.update(p,f=>({x:f.screenX,y:f.screenY}))});let d=-u.left,h=-u.top;this.nodes.forEach(p=>{p.screenX+=d+i,p.screenY+=h+n})}},eP=class extends Kt{constructor(){super(...arguments),this.grid=!1}};m([b(pe)],eP.prototype,"grid",2);var Su=(()=>{let e=class extends Vu{constructor(t){let i=new sa;i.paddingOuter=.1,i.paddingInner=i.paddingOuter*2,super(t,i),this.tickScale=new sa,this.line=new kp,this.label=new eP,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;let{tickLineGroup:n,tickLabelGroup:s,gridLineGroup:r,tickScale:o}=this;o.paddingInner=1,o.paddingOuter=0,this.gridLineSelection=bt.select(r,li),this.axisLineSelection=bt.select(n,li),this.separatorSelection=bt.select(n,li),this.labelSelection=bt.select(s,gt),this.lineNode.visible=!1}updateRange(){let{range:t,visibleRange:i,scale:n}=this,s=(t[1]-t[0])/(i[1]-i[0]),r=s*i[0],o=t[0]-r;this.tickScale.range=n.range=[o,o+s],this.resizeTickTree()}resizeTickTree(){let t=this.scale,i=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,n=this.tickTreeLayout,s=this.lineHeight;n&&n.resize(Math.abs(i[1]-i[0]),n.depth*s,(Math.min(i[0],i[1])||0)+(t.bandwidth??0)/2,-n.depth*s,i[1]-i[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){let{direction:t}=this,i=null,n=this.boundSeries.filter(r=>r.visible).flatMap(r=>{if(t==="y"||i)return r.getDomain(t);if(i===null){let o=r.getDomain(t);return i=In(o[0]),o}return[]});this.setDomain(gr(n)??d0(n));let{domain:s}=this.dataDomain;this.tickTreeLayout=t7(XX(s)),this.tickScale.domain=s.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){let{_titleCaption:t}=this;t.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;let{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each((n,s)=>{n.setProperties(s)})}updateSeparators(){if(!this.computedLayout)return;let{separatorLayout:t}=this.computedLayout,{range:i}=this,n=1e-7;this.separatorSelection.update(t).each((r,o)=>{r.x1=o.x1,r.x2=o.x2,r.y1=o.y,r.y2=o.y,r.visible=this.tick.enabled&&o.y>=i[0]-n&&o.y<=i[1]+n,r.stroke=this.tick.stroke,r.fill=void 0,r.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;let{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each((n,s)=>{n.setProperties(k(S({},s),{stroke:this.line.stroke,strokeWidth:this.line.width})),n.x1=s.x,n.x2=s.x,n.y1=s.y1,n.y2=s.y2,n.strokeWidth=this.line.width,n.stroke=this.line.stroke})}updateCategoryGridLines(){let{gridLength:t,gridLine:i,label:n,range:s,tickScale:r}=this,o=r.ticks(),a=n.getSideFlag(),l=this.gridLineSelection.update(t?o:[]);if(t){let{width:c,style:u}=i,d=u.length;l.each((h,p,f)=>{let g=Math.round(r.convert(p));h.x1=0,h.x2=-a*t,h.y1=g,h.y2=g,h.visible=i.enabled&&g>=s[0]&&g<=s[1];let{stroke:y,lineDash:x}=u[f%d];h.stroke=y,h.strokeWidth=c,h.lineDash=x,h.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();let{scale:t,label:i,label:{parallel:n},moduleCtx:{callbackCache:s},range:r,title:o,title:{formatter:a=B=>B.defaultValue}={}}=this,l=t.range[0],c=t.range[1],d=Math.abs(c-l)/t.domain.length||0,h=Math.ceil(i.fontSize/d),p=$i(this.rotation),f=Math.abs(Math.cos(p))<1e-8,g=i.getSideFlag(),y=this.lineHeight,x=this.tickTreeLayout,v=t.ticks(),_=x?x.nodes:[],C=x?x.depth>1:!1,{defaultRotation:w,configuredRotation:D,parallelFlipFlag:M}=zy({rotation:i.rotation,parallel:n,regularFlipRotation:_t(p-Math.PI/2),parallelFlipRotation:_t(p)}),I=[],T=B=>({fill:B.fill,fontFamily:B.fontFamily,fontSize:B.fontSize,fontStyle:B.fontStyle,fontWeight:B.fontWeight,rotation:B.rotation,rotationCenterX:B.rotationCenterX,rotationCenterY:B.rotationCenterY,text:B.text,textAlign:B.textAlign,textBaseline:B.textBaseline,translationX:B.translationX,translationY:B.translationY,visible:B.visible,x:B.x,y:B.y}),A=new Map,E=0,P=new gt,N=(B,xe)=>{if(P.setProperties({fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,textAlign:"center",textBaseline:M===-1?"bottom":"hanging",translationX:B.screenY-i.fontSize*.25,translationY:B.screenX}),xe===0){if(!(o?.enabled&&v.length>0))return!1;let de=s.call(a,this.getTitleFormatterParams());P.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:de,textBaseline:"hanging",translationX:B.screenY-i.fontSize*.25,translationY:B.screenX})}else if(xe%h===0){if(!(B.screenX>=r[0]&&B.screenX<=r[1]))return!1;i.formatter?P.text=s.call(i.formatter,{value:String(B.label),index:xe})??String(B.label):P.text=String(B.label)}else return!1;return!0};_.forEach((B,xe)=>{if(!N(B,xe))return;let de=P.computeTransformedBBox();if(!de)return;A.set(xe,de),!B.children.length&&de.width>E&&(E=de.width)});let j=g*i.padding,ae=this.label.grid,oe=[];_.forEach((B,xe)=>{let Me=N(B,xe),de=xe;P.x=j,P.rotationCenterX=j;let _e=!B.children.length;if(_e)P.rotation=D,P.textAlign="end",P.textBaseline="middle";else{P.translationX-=E-y+this.label.padding;let et=B.leafCount*d,tt=A.get(de);tt&&tt.width>et?(Me=!1,A.delete(de)):f?P.rotation=w:P.rotation=-Math.PI/2}if(B.parent&&C){let et=_e?B.screenX-d/2:B.screenX-B.leafCount*d/2;if(_e)(B.number!==B.children.length-1||ae)&&oe.push({y:et,x1:0,x2:-E-this.label.padding*2});else{let tt=-E-this.label.padding*2+B.screenY;oe.push({y:et,x1:tt+y,x2:tt})}}let Ge;if(Me){let et=P.computeTransformedBBox();et&&A.set(xe,et),Ge=k(S({},T(P)),{visible:Me})}else A.delete(xe),Ge={visible:Me};I.push(Ge)});let re=0;oe.forEach(B=>re=Math.min(re,B.x2)),oe.push({y:Math.max(l,c),x1:0,x2:re});let ie=[],ne=[],Ue=1e-7;oe.forEach(B=>{if(B.y>=r[0]-Ue&&B.y<=r[1]+Ue){let{x1:xe,x2:Me,y:de}=B,_e=new X(Math.min(xe,Me),de,Math.abs(xe-Me),0);ne.push(_e),ie.push({x1:xe,x2:Me,y:de})}});let we=[],Pe=[],le=x?x.depth+1:1;for(let B=0;B<le;B++){let xe=v.length>0&&(B===0||ae&&C),Me=B>0?-E-this.label.padding*2-(B-1)*y:0,de=new X(Me,Math.min(...r),0,Math.abs(r[1]-r[0]));Pe.push(de),we.push({x:Me,y1:r[0],y2:r[1],visible:xe})}let Z=X.merge([...A.values(),...ne,...Pe]);return{bbox:this.getTransformBox(Z),tickLabelLayout:I,separatorLayout:ie,axisLineLayout:we}}calculateLayout(){let{axisLineLayout:t,separatorLayout:i,tickLabelLayout:n,bbox:s}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:i,tickLabelLayout:n},{bbox:s,primaryTickCount:void 0}}};return e.className="GroupedCategoryAxis",e.type="grouped-category",e})();m([b(it,{optional:!0})],Su.prototype,"labelColor",2);var Lp=class{constructor(){this.destroyFns=[]}destroy(){for(let e of this.destroyFns)e()}},tP=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(...e){for(let t of e){this.registerDependencies(t);let i=this.modules.find(n=>t.type===n.type&&t.optionsKey===n.optionsKey&&t.identifier===n.identifier);if(i){if(t.packageType==="enterprise"&&i.packageType==="community"){let n=this.modules.indexOf(i);this.modules.splice(n,1,t)}}else this.modules.push(t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){let{dependents:t}=this,i=new Set,n=0,s=3,r=this.modules.filter(o=>e.includes(o.type));do{for(let o of r)if(!(i.has(o.optionsKey)||t.has(o.optionsKey))){yield o,i.add(o.optionsKey);for(let[a,l]of t.entries())l.delete(o.optionsKey),l.size===0&&t.delete(a)}n++}while(i.size<r.length&&n<s);if(t.size>0)throw new Error(`Could not resolve module dependencies: [${[...t.keys()]}]`)}registerDependencies(e){if(!(e.dependencies==null||e.dependencies.length===0)){for(let t of e.dependencies){let i=this.dependencies.get(t)??new Set;i.add(e.optionsKey),this.dependencies.set(t,i)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},ta=new tP;function n7(e){return new Promise(t=>{setTimeout(()=>t(void 0),e)})}var s7=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>z.errorOnce(i))})}acquireImmediately(e){return L(this,null,function*(){return this.available?(yield this.acquire(e),!0):!1})}waitForClearAcquireQueue(){return L(this,null,function*(){return this.acquire(()=>L(this,null,function*(){}))})}dispatchNext(){return L(this,null,function*(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{yield e(),t?.()}catch(i){z.error("mutex callback error",i),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0})}},iP=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");let i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){this.eventListeners.get(e)?.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach(t=>t(e))}},da=class extends Te{constructor(e=0,t=e,i=e,n=t){super(),this.top=e,this.right=t,this.bottom=i,this.left=n}clear(){this.top=this.right=this.bottom=this.left=0}};m([b(H)],da.prototype,"top",2);m([b(H)],da.prototype,"right",2);m([b(H)],da.prototype,"bottom",2);m([b(H)],da.prototype,"left",2);function nP(e){return sP((t,i)=>requestAnimationFrame(t),e)}function r7(e){return sP((t,i=0)=>setTimeout(t,i),e)}function sP(e,t){let i=0,n=!1,s,r,o=()=>n,a=()=>{n=!1,r?.(),r=void 0,s=void 0,i>0&&e(l)},l=()=>{let u=i;i=0,n=!0;let d=t({count:u});if(!d){a();return}d.then(a,a)};return{schedule(u){i===0&&!o()&&e(l,u),i++},await(){return L(this,null,function*(){if(o())for(s==null&&(s=new Promise(u=>{r=u}));o();)yield s})}}}var rP="10.1.0",oP=class{constructor(e){this.version=e.split("-")[0]}save(...e){let t={version:this.version};for(let i of Object.values(e))t[i.mementoOriginatorKey]=this.encode(i,i.createMemento());return t}restore(e,...t){if(typeof e!="object"){z.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`);return}if(e==null){z.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in e)||typeof e.version!="string"){z.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let i of t){if(!(i.mementoOriginatorKey in e))continue;let n=this.decode(i,e[i.mementoOriginatorKey]);if(!i.guardMemento(n)){z.warnOnce(`Could not restore [${i.mementoOriginatorKey}] data, value was invalid, ignoring.`,n);return}i.restoreMemento(this.version,e.version,n)}}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(i){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(i){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}encodeTypes(e,t){return Dp(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return pn(this[e])&&"__type"in this[e]&&this[e].__type==="date"?new Date(this[e].value):t}},o7=class{constructor(){this.caretaker=new oP(rP),this.state=new Map}setState(e,t){En(this.state.get(e.mementoOriginatorKey),t)!=null&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){let{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;let n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}};function a7(){if(typeof navigator>"u")return!1;let e=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(e==null)return!1;let[t,i]=e[1].split("_").map(Number);return t<16||t===16&&i<6}var aP=class ww{constructor(t){this.enabled=!0,this.width=600,this.height=300;let{width:i,height:n,pixelRatio:s,canvasConstructor:r,willReadFrequently:o=!1}=t;this.pixelRatio=a7()?1:s??Vs("devicePixelRatio"),this.element=r?.()??Vt("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:o}),this.onEnabledChange(),this.resize(i??0,n??0),ww.debugContext(this.context)}static is(t){return t instanceof ww}drawImage(t,i=0,n=0){return t.drawImage(this.context.canvas,i,n)}toDataURL(t){return this.element.toDataURL(t)}resize(t,i){if(!(t>0&&i>0))return;let{element:n,context:s,pixelRatio:r}=this;n.width=Math.round(t*r),n.height=Math.round(i*r),s.setTransform(r,0,0,r,0,0),n.style.width=t+"px",n.style.height=i+"px",this.width=t,this.height=i}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(ut.check("canvas")){let i=t.save.bind(t),n=t.restore.bind(t),s=0;Object.assign(t,{save(){i(),s++},restore(){if(s===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),s--},verifyDepthZero(){if(s!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${s}`)}})}}};m([Yi(e=>e.onEnabledChange())],aP.prototype,"enabled",2);var xD=aP,l7=class lP{constructor(t,i){this.canvas=t,this.markDirty=i,this.debug=ut.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,i){return D2([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],[i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.id],w2)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort(lP.sortLayers).forEach(t)}resize(t,i){this.canvas.resize(t,i),this.layersMap.forEach(({canvas:n})=>n.resize(t,i))}addLayer(t){let{width:i,height:n,pixelRatio:s}=this.canvas,{zIndex:r=this.nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}=t,u=new xD({width:i,height:n,pixelRatio:s}),d={id:this.nextLayerId++,name:o,canvas:u,zIndex:r,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c};return r>=this.nextZIndex&&(this.nextZIndex=r+1),this.layersMap.set(u,d),this.debug("Scene.addLayer() - layers",this.layersMap),d.canvas}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,i,n){let s=this.layersMap.get(t);s&&(s.zIndex=i,s.zIndexSubOrder=n,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function CO(e,t,i,n,s={},r=X.zero){if(!ut.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},u=performance.now(),D=t,{start:d}=D,h=mt(D,["start"]),p=Object.entries(h).map(([M,I])=>DO(M,I)).filter(M=>M!=null).join(" + "),f=Object.entries(s).map(([M,I])=>`${M}: ${I}`).join(" ; "),g=ut.check("scene:stats:verbose"),y=[`${DO("\u23F1\uFE0F",d,u)} (${p})`,`${f}`,`Layers: ${g?wO(o,a):e.size}`,g?`Nodes: ${wO(l,c)}`:null].filter(fn),x=new pD(M=>i.measureText(M)),v=new Map(y.map(M=>[M,x.measureLines(M)])),_=Math.max(...Array.from(v.values(),M=>M.width)),C=u7(v.values(),M=>M.height);i.save(),i.fillStyle="white",i.fillRect(0,0,_,C),i.fillStyle="black";let w=0;for(let[M,I]of v.entries())w+=I.height,i.fillText(M,2+r.x,w);i.restore()}function c7(e,t){e.save();for(let[i,n]of Object.entries(t)){let s=n.computeTransformedBBox();if(!s){z.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(s.x,s.y,s.width,s.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,s.x,s.y,s.width),e.fillText(i,s.x,s.y,s.width)}e.restore()}function Ly(e){return ut.check(!0,"scene")?S(S({node:e,name:e.name??e.id,dirty:Jo[e.dirty]},e.parent?.isVirtual?{virtualParentDirty:Jo[e.parent.dirty],virtualParent:e.parent}:{}),e.children.map(t=>Ly(t)).reduce((t,i)=>{let{name:n}=i,{node:{visible:s,opacity:r,zIndex:o,zIndexSubOrder:a,translationX:l,translationY:c,rotation:u,scalingX:d,scalingY:h},node:p,virtualParent:f}=i;(!s||r<=0)&&(n=`(${n})`),p instanceof se&&p.isLayer()&&(n=`*${n}*`);let g=[`${n??"<unknown>"}`,`z: ${o}`,a&&`zo: ${a.map(v=>typeof v=="function"?`${v()} (fn)`:v).join(" / ")}`,f&&"(virtual parent)",l&&`x: ${l}`,c&&`y: ${c}`,u&&`r: ${u}`,d!==1&&`sx: ${d}`,h!==1&&`sy: ${h}`].filter(v=>!!v).join(" "),y=g,x=1;for(;t[y]!=null&&x<100;)y=`${g} (${x++})`;return t[y]=i,t},{})):{}}function cP(e){if(e.dirty===0)return{dirtyTree:{},paths:[]};let t=e.children.map(s=>cP(s)).filter(s=>s.paths.length>0),i=se.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:S({name:i,node:e,dirty:Jo[e.dirty]},t.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,r)=>(s[r.name??"<unknown>"]=r,s),{})),paths:n}}function wO(e,t){let i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function DO(e,t,i){let n=i!=null?i-t:t;return`${e}: ${Math.round(n*100)/100}ms`}function u7(e,t){let i=0;for(let n of e)i+=t(n);return i}var uP=(()=>{let e=class{constructor({width:t,height:i,pixelRatio:n,domManager:s}){this.debug=ut.create(!0,"scene"),this.id=ls(this),this.root=null,this.isDirty=!1,this.domManager=s;let r={width:t,height:i,pixelRatio:n};s&&(r.canvasConstructor=()=>s.addChild("canvas","scene-canvas")),this.canvas=new xD(r),this.layersManager=new l7(this.canvas,()=>{this.isDirty=!0})}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(t){if((n=>typeof n.tagName<"u")(t)){let{element:n}=this.canvas;n.parentElement?.removeChild(n),t.appendChild(n)}else this.domManager=t,this.domManager.addChild("canvas","scene-canvas",this.canvas.element);return this}setRoot(t){return this.root===t?this:(this.isDirty=!0,this.root?._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}attachNode(t,i){if(!i)return this.root?.appendChild(t),()=>this.removeChild(t);let n=this.root?.children.find(s=>s instanceof se&&s.name===i);if(!n)throw new Error("AG Charts - Unrecognized root group name: "+i);return n.appendChild(t),()=>n.removeChild(t)}appendChild(t){return this.root?.appendChild(t),this}removeChild(t){return this.root?.removeChild(t),this}download(t,i){M2(this.canvas.toDataURL(i),t?.trim()??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,i){return t=Math.round(t),i=Math.round(i),t>0&&i>0&&(t!==this.width||i!==this.height)?(this.pendingSize=[t,i],this.isDirty=!0,!0):!1}render(t){return L(this,null,function*(){let{debugSplitTimes:i={start:performance.now()},extraDebugStats:n,seriesRect:s}=t??{},{canvas:r,canvas:{context:o}={},root:a,pendingSize:l}=this;if(!o)return;let c=performance.now();if(l&&(this.layersManager.resize(...l),this.pendingSize=void 0),a&&!a.visible){this.isDirty=!1;return}if(a&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Jo[a.dirty],tree:Ly(a)}),CO(this.layersManager,i,o,void 0,n,s);return}let u={ctx:o,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:!!l,debugNodes:{}};ut.check("scene:stats:verbose")&&(u.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let d=!1;if((!a||a.dirty>=1)&&(d=!0,r.clear()),a&&ut.check("scene:dirtyTree")){let{dirtyTree:h,paths:p}=cP(a);ut.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:h,paths:p})}if(a&&d&&(this.debug("Scene.render() - before",{redrawType:Jo[a.dirty],canvasCleared:d,tree:Ly(a)}),a.visible&&(a.preRender(),o.save(),a.render(u),o.restore())),i["\u270D\uFE0F"]=performance.now()-c,this.layersManager.size&&d){let h=performance.now();o.save(),o.resetTransform(),this.layersManager.forEach(p=>{p.canvas.enabled&&p.getVisibility()&&(o.globalAlpha=p.getComputedOpacity(),p.canvas.drawImage(o))}),o.restore(),i["\u26D9"]=performance.now()-h}o.verifyDepthZero?.(),this.isDirty=!1,CO(this.layersManager,i,o,u.stats,n,s),c7(o,u.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Jo[a.dirty],tree:Ly(a),canvasCleared:d})})}strip(){let{context:t,pixelRatio:i}=this.canvas;t.setTransform(i,0,0,i,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};return e.className="Scene",e})(),d7=class{constructor(){this.cache=new WeakMap}call(e,...t){let i,n=this.cache.get(e);try{i=JSON.stringify(t)}catch{return this.invoke(e,t,n)}return n==null&&(n=new Map,this.cache.set(e,n)),n.has(i)?n.get(i):this.invoke(e,t,n,i)}invoke(e,t,i,n){try{let s=e(...t);return i&&n!=null&&i.set(n,s),s}catch(s){z.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}},ha=class{constructor(){this.registeredListeners=new Map}addListener(e,t){let i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(let[t,i]of this.registeredListeners.entries()){let n=i.findIndex(s=>s.symbol===e);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(let i of this.getListenersByType(e))try{i.handler(...t)}catch(n){z.errorOnce(n)}}dispatchWrapHandlers(e,t,...i){for(let n of this.getListenersByType(e))try{t(n.handler,...i)}catch(s){z.errorOnce(s)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Oi=class{constructor(){this.listeners=new ha,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e())}},h7=class extends Oi{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return St(e)}restoreMemento(e,t,i){let n=this.cleanData(i).map(s=>{let r=this.getAnnotationTypeStyles(s.type);return Ve(s,r)});this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:n})}updateData(e){this.annotations=this.cleanData(e??[])}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(let t of e)"textAlign"in t&&delete t.textAlign;return e}},p7=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new se({name:"Axes-Grids",layer:!0,zIndex:1}),this.axisGroup=new se({name:"Axes",layer:!0,zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){for(let i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(let i of t)e?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(let i of t){let n=i.createAxisContext();this.axes.has(n.direction)?this.axes.get(n.direction)?.push(n):this.axes.set(n.direction,[n])}}getAxisContext(e){return[...this.axes.get(e)??[]]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},v0=class extends ha{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=ut.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return rO(t=>this.fetch(t),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return rO((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}fetch(e){return L(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let t=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=yield this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(r){this.debug(`DataService - request failed | ${i}`),z.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;let s=this.freshRequests.findIndex(r=>r===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")})}};m([Wi({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],v0.prototype,"dispatchThrottle",2);m([Wi({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],v0.prototype,"requestThrottle",2);var f7=`.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block}.ag-charts-canvas-proxy{position:absolute;top:0;left:0;opacity:0;pointer-events:none}.ag-charts-tab-guard{width:0;height:0;opacity:0}.ag-charts-canvas-overlay{pointer-events:none;position:absolute;inset:0}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-text-annotations-placeholder: #888888}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: var( --ag-row-hover-color, color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%) );--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-text-annotations-placeholder: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-focus.ag-charts-focus__indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus.ag-charts-focus__indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus.ag-charts-focus__indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-focus--hidden{visibility:hidden}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{--transition: background-color .25s ease-in-out, border-color .25s ease-in-out, color .25s ease-in-out;align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;transition:var(--transition);white-space:nowrap}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button:nth-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:nth-last-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button:nth-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:nth-last-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover{background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{border-color:var(--ag-charts-toolbar-focus-color);box-shadow:var(--ag-charts-focus-border-shadow);z-index:3}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}
`,g7=class{constructor(e,t,i){this.element=e,this.topTabGuard=t,this.bottomTabGuard=i,this.destroyFns=[],this.guardTabIndex=0,this.element.tabIndex=-1,this.initEventListener(this.element,"blur",()=>this.onBlur()),this.initEventListener(this.element,"focus",()=>this.onFocus()),this.initEventListener(this.topTabGuard,"focus",n=>this.onTabStart(n,this.topTabGuard)),this.initEventListener(this.bottomTabGuard,"focus",n=>this.onTabStart(n,this.bottomTabGuard))}set tabIndex(e){e>=0&&(this.guardTabIndex=e),e>0?(this.topTabGuard.tabIndex=e,this.bottomTabGuard.style.display="none"):(this.topTabGuard.tabIndex=e,this.bottomTabGuard.tabIndex=e)}destroy(){for(let e of this.destroyFns)e();this.destroyFns.length=0}initEventListener(e,t,i){e.addEventListener(t,i),this.destroyFns.push(()=>e.removeEventListener(t,i))}onBlur(){this.element.tabIndex===-1&&(this.tabIndex=this.guardTabIndex,this.guardTarget=void 0,this.guessedDelta=void 0)}onFocus(){this.element.tabIndex===-1&&(this.tabIndex=-1)}onTabStart(e,t){if(t.tabIndex>0&&(this.guessedDelta=0,e.relatedTarget!=null&&"tabIndex"in e.relatedTarget)){let i=Number(e.relatedTarget.tabIndex);!isNaN(i)&&i>0&&(this.guessedDelta=i<t.tabIndex?1:-1)}this.guardTarget=t,this.element.focus()}getBrowserFocusDelta(){let{guessedDelta:e,guardTarget:t,topTabGuard:i,bottomTabGuard:n}=this;return e!==void 0?e:t===i?1:t===n?-1:0}},m7=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([e,t])=>this.observe(e,t)),this.queuedObserveRequests=[]},!(typeof ResizeObserver>"u")&&(this.resizeObserver=new ResizeObserver(e=>{for(let{target:t,contentRect:{width:i,height:n}}of e){let s=this.elements.get(t);this.checkSize(s,t,i,n)}}),this.documentReady=Ps("readyState")==="complete",this.documentReady||Vs()?.addEventListener("load",this.onLoad))}destroy(){Vs()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(e,t,i,n){e&&(i!==e.size?.width||n!==e.size?.height)&&(e.size={width:i,height:n},e.cb(e.size,t))}observe(e,t){if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);let i={cb:t};this.elements.set(e,i),this.checkSize(i,e,e.offsetWidth,e.offsetHeight)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},y7='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="figure" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-tab-guard"></div><div role="presentation" class="ag-charts-canvas"></div><div role="presentation" class="ag-charts-canvas-proxy"></div><div role="presentation" class="ag-charts-tab-guard"></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',bD="canvas-center",v7=["styles",bD,"canvas","canvas-proxy","canvas-overlay"],HC=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas",eventTypes:["focus","blur"]}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],[bD,{childElementType:"div"}]]);function x7(e,t){if(typeof IntersectionObserver>"u")return;let i=new IntersectionObserver(n=>{for(let s of n)s.target===e&&t(s.intersectionRatio)},{root:e});return i.observe(e),i}var dP={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return dP}},hP=class extends Oi{constructor(e){super(),this.styles={},this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new m7;let t=Vt("div");t.innerHTML=y7,this.element=t.children.item(0),this.rootElements=v7.reduce((n,s)=>{let r=`ag-charts-${s}`,o=this.element.classList.contains(r)?this.element:this.element.querySelector(`.${r}`);if(!o)throw new Error(`AG Charts - unable to find DOM element ${r}`);return n[s]={element:o,children:new Map,listeners:[]},n},{});let i=!1;this.observer=x7(this.element,n=>{n===0&&!i&&this.listeners.dispatch("hidden",{type:"hidden"}),i=n===0}),this.setSizeOptions(),this.addStyles("ag-charts-community",f7),e&&this.setContainer(e)}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(e=>{e.children.forEach(t=>t.remove()),e.element.remove()}),this.guardedElement?.destroy(),this.element.remove()}setSizeOptions(e=300,t=300,i,n){let{style:s}=this.element;s.width=`${i??e}px`,s.height=`${n??t}px`}updateContainerSize(){let{style:e}=this.rootElements[bD].element;e.width=`${this.containerSize?.width??0}px`,e.height=`${this.containerSize?.height??0}px`}setContainer(e){if(e===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getDocumentRoot(e)!=null))for(let i of this.rootElements.styles.children.keys())this.removeChild("styles",i);e.appendChild(this.element),this.sizeMonitor.observe(e,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.container=e;for(let[i,n]of Object.entries(this.styles))this.addStyles(i,n);this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(e){let t="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(t)&&i!==e&&this.element.classList.remove(i)}),this.element.classList.add(e)}createTabGuards(){let e=this.rootElements.canvas.element.querySelector("canvas"),t=this.element.querySelectorAll(".ag-charts-tab-guard");if(e==null||t[0]==null||t[1]==null)throw new Error("AG Charts - error initialising canvas tab guards");return new g7(e,t[0],t[1])}setTabIndex(e){this.guardedElement??(this.guardedElement=this.createTabGuards()),this.guardedElement.tabIndex=e}getBrowserFocusDelta(){return this.guardedElement?.getBrowserFocusDelta()??0}addEventListenerOnElement(e,t,i,n){let{element:s}=this.rootElements[e];return s.addEventListener(t,i,n),()=>{s.removeEventListener(t,i,n)}}addEventListener(e,t,i){this.element.addEventListener(e,t,i),HC.forEach((n,s)=>{if(!n.eventTypes?.includes(e))return;let r=this.rootElements[s];r.listeners.push([e,t,i]),r.children.forEach(o=>{o.addEventListener(e,t)})})}removeEventListener(e,t,i){this.element.removeEventListener(e,t,i),HC.forEach((n,s)=>{if(!n.eventTypes?.includes(e))return;let r=this.rootElements[s];r.listeners=r.listeners.filter(([o,a])=>o!==e&&a!==t),r.children.forEach(o=>{o.removeEventListener(e,t,i)})})}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){let e=Vs(),t=new X(0,0,e.innerWidth,e.innerHeight),i=this.getRawOverlayClientRect(),n=X.fromDOMRect(i??this.getBoundingClientRect());return t.intersection(n)?.toDOMRect()??dP}getRawOverlayClientRect(){let e=this.element;for(;e!=null;){let i=e.computedStyleMap?.(),n=i?.get("overflow-x")?.toString(),s=i?.get("overflow-y")?.toString();if(n!=null&&n!=="visible"||s&&s!=="visible")return e.getBoundingClientRect();e=e.parentElement}let t=this.getDocumentRoot();if(t)return t.getBoundingClientRect()}getDocumentRoot(e=this.container){let t=e?.ownerDocument?.body??Ps("body");for(;e!=null;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}}getChildBoundingClientRect(e){let{children:t}=this.rootElements[e],i=[];for(let n of t.values())i.push(X.fromDOMRect(n.getBoundingClientRect()));return X.merge(i)}calculateCanvasPosition(e){let t=0,i=0,{x:n=0,y:s=0}=this.getChildBoundingClientRect("canvas")??{},r=e.getBoundingClientRect();return t=r.x-n,i=r.y-s,{x:t,y:i}}isManagedChildDOMElement(e,t,i){let{children:n}=this.rootElements[t],s=n?.get(i);return s!=null&&e.contains(s)}isEventOverElement(e){let t=e.target;return t!=null&&this.element.contains(t)}addStyles(e,t){if(this.styles[e]=t,this.container==null)return;let i="data-ag-charts",n=this.getDocumentRoot(),s;if(n!=null)s=this.addChild("styles",e);else{let r=Ps("head");for(let o of r.children)if(o.getAttribute(i)===e)return;s=Vt("style"),r.appendChild(s)}s.getAttribute(i)!==e&&(s.setAttribute(i,e),s.innerHTML=t)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,i){let{element:n,children:s,listeners:r}=this.rootElements[e];if(!s)throw new Error("AG Charts - unable to create DOM elements after destroy()");let o=s.get(t);if(o!=null)return o;let{childElementType:a="div"}=HC.get(e)??{};if(i&&i.tagName.toLowerCase()!==a.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let l=i??Vt(a);for(let[c,u,d]of r)l.addEventListener(c,u,d);return s.set(t,l),n?.appendChild(l),l}removeChild(e,t){let{children:i}=this.rootElements[e];i&&(i.get(t)?.remove(),i.delete(t))}incrementDataCounter(e){let{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}getIconClassNames(e){return`ag-charts-icon ag-charts-icon-${e}`}};function b7(e,t){let i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function _7(e,t,i){if(e===0)return b7(t,i);let n=t*t-4*e*i,s=[];if(n===0){let r=-t/(2*e);r>=0&&r<=1&&s.push(r)}else if(n>0){let r=Math.sqrt(n),o=(-t-r)/(2*e),a=(-t+r)/(2*e);o>=0&&o<=1&&s.push(o),a>=0&&a<=1&&s.push(a)}return s}function C7(e,t,i,n){if(e===0)return _7(t,i,n);let s=t/e,r=i/e,o=n/e,a=(3*r-s*s)/9,l=(9*s*r-27*o-2*s*s*s)/54,c=a*a*a+l*l,u=1/3,d=[];if(c>=0){let h=Math.sqrt(c),p=Math.sign(l+h)*Math.pow(Math.abs(l+h),u),f=Math.sign(l-h)*Math.pow(Math.abs(l-h),u),g=Math.abs(Math.sqrt(3)*(p-f)/2),y=-u*s+(p+f);if(y>=0&&y<=1&&d.push(y),g===0){let x=-u*s-(p+f)/2;x>=0&&x<=1&&d.push(x)}}else{let h=Math.acos(l/Math.sqrt(-a*a*a)),p=u*s,f=2*Math.sqrt(-a),g=f*Math.cos(u*h)-p,y=f*Math.cos(u*(h+2*Math.PI))-p,x=f*Math.cos(u*(h+4*Math.PI))-p;g>=0&&g<=1&&d.push(g),y>=0&&y<=1&&d.push(y),x>=0&&x<=1&&d.push(x)}return d}function hu(e,t,i,n,s,r,o,a){let l=(i-e)*(a-r)-(n-t)*(o-s);if(l===0)return 0;let c=((o-s)*(t-r)-(e-s)*(a-r))/l,u=((i-e)*(t-r)-(n-t)*(e-s))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function w7(e,t,i,n,s,r,o,a,l,c,u,d){let h=0,p=c-d,f=u-l,g=l*(d-c)-c*(u-l),y=SO(e,i,s,o),x=SO(t,n,r,a),v=p*y[0]+f*x[0],_=p*y[1]+f*x[1],C=p*y[2]+f*x[2],w=p*y[3]+f*x[3]+g,D=C7(v,_,C,w);for(let M of D){let I=M*M,T=M*I,A=y[0]*T+y[1]*I+y[2]*M+y[3],E=x[0]*T+x[1]*I+x[2]*M+x[3],P;l===u?P=(E-c)/(d-c):P=(A-l)/(u-l),P>=0&&P<=1&&h++}return h}function SO(e,t,i,n){return[-e+3*t-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function pP(e,t,i,n,s,r,o,a,l,c){if(isNaN(e)||isNaN(t))return 0;r&&([s,n]=[n,s]);let u=(c-a)/(l-o),d=a-u*o,h=Math.pow(u,2)+1,p=2*(u*(d-t)-e),f=Math.pow(e,2)+Math.pow(d-t,2)-Math.pow(i,2),g=Math.pow(p,2)-4*h*f;if(g<0)return 0;let y=(-p+Math.sqrt(g))/2/h,x=(-p-Math.sqrt(g))/2/h,v=0;return[y,x].forEach(_=>{if(!(_>=Math.min(o,l)&&_<=Math.max(o,l)))return;let w=u*_+d,D=_-e,M=w-t,I=Math.atan2(M,D);Qo(I,n,s)&&v++}),v}var fp=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,s){s=Math.min(s,i/2,n/2),this.moveTo(e,t+s),this.arc(e+s,t+s,s,Math.PI,1.5*Math.PI),this.lineTo(e+s,t),this.lineTo(e+i-s,t),this.arc(e+i-s,t+s,s,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+s),this.lineTo(e+i,t+n-s),this.arc(e+i-s,t+n-s,s,0,Math.PI/2),this.lineTo(e+i-s,t+n),this.lineTo(e+s,t+n),this.arc(e+ +s,t+n-s,s,Math.PI/2,Math.PI),this.lineTo(e,t+n-s),this.closePath()}arc(e,t,i,n,s,r){this.openedPath=!0,this.path2d.arc(e,t,i,n,s,r),this.commands.push(2),this.params.push(e,t,i,n,s,r?1:0)}cubicCurveTo(e,t,i,n,s,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,s,r),this.commands.push(3),this.params.push(e,t,i,n,s,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){let i=this.commands,n=this.params,s=i.length,r=-1e4,o=-1e4,a=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<s;h++)switch(i[h]){case 0:d+=hu(a,l,c,u,r,o,e,t),c=n[p++],a=c,u=n[p++],l=u;break;case 1:d+=hu(c,u,n[p++],n[p++],r,o,e,t),c=n[p-2],u=n[p-1];break;case 3:d+=w7(c,u,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],r,o,e,t),c=n[p-2],u=n[p-1];break;case 2:let f=n[p++],g=n[p++],y=n[p++],x=n[p++],v=n[p++],_=!!n[p++];if(d+=pP(f,g,y,x,v,_,r,o,e,t),!isNaN(a)){let C=f+Math.cos(x)*y,w=g+Math.sin(x)*y;d+=hu(c,u,C,w,r,o,e,t)}c=f+Math.cos(v)*y,u=g+Math.sin(v)*y;break;case 4:d+=hu(a,l,c,u,r,o,e,t);break}return d%2===1}distanceSquared(e,t){let i=1/0,n=this.commands,s=this.params,r=n.length,o=NaN,a=NaN,l=0,c=0;for(let u=0,d=0;u<r;u++)switch(n[u]){case 0:l=o=s[d++],c=a=s[d++];break;case 1:{let h=s[d++],p=s[d++];i=Ey(e,t,l,c,h,p,i);break}case 3:z.error("Command.Curve distanceSquare not implemented");break;case 2:{let h=s[d++],p=s[d++],f=s[d++],g=s[d++],y=s[d++],x=h+Math.cos(g)*f,v=p+Math.sin(g)*f,_=!!s[d++];i=Ey(e,t,l,c,x,v,i),i=DX(e,t,h,p,f,g,y,_,i),l=h+Math.cos(y)*f,c=p+Math.sin(y)*f;break}case 4:i=Ey(e,t,l,c,o,a,i);break}return i}getPoints(){let{commands:e,params:t}=this,i=[],n=0;for(let s=0;s<e.length;s++)switch(e[s]){case 0:case 1:i.push({x:t[n++],y:t[n++]});break;case 3:n+=4,i.push({x:t[n++],y:t[n++]});break;case 2:i.push({x:t[n++],y:t[n++]}),n+=4;break;case 4:break}return i}computeSVGDataPath(e,t){let i=[],{commands:n,params:s}=this,r=0;for(let o=0;o<n.length;o++)switch(n[o]){case 0:i.push("M",e+s[r++],t+s[r++]);break;case 1:i.push("L",e+s[r++],t+s[r++]);break;case 3:i.push("C",e+s[r++],t+s[r++],e+s[r++],t+s[r++],e+s[r++],t+s[r++]);break;case 2:let[a,l,c,u,d,h]=[s[r++],s[r++],s[r++],s[r++],s[r++],s[r++]],p=e+a+Math.cos(u)*c,f=t+l+Math.sin(u)*c,g=e+a+Math.cos(d)*c,y=t+l+Math.sin(d)*c,x=A2(u,d,!!h)>Math.PI?1:0,v=(h+1)%2,_=i.length===0?"M":"L";i.push(_,p,f,"A",c,c,0,x,v,g,y);break;case 4:i.push("Z");break}return i.join(" ")}};function ye(e){let{redraw:t=3,changeCb:i,convertor:n}=e??{};return Y({redraw:t,type:"path",convertor:n,changeCb:i})}var Zi=(()=>{let e=class extends as{constructor(){super(...arguments),this.path=new fp,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(t,i){let n=this.transformPoint(t,i);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)}distanceSquared(t,i){let n=this.transformPoint(t,i);return this.distanceSquaredTransformedPoint(n.x,n.y)}computeSVGDataPath(){let{x:t,y:i}=this.inverseTransformPoint(0,0);return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.computeSVGDataPath(t,i)}distanceSquaredTransformedPoint(t,i){return this.path.closedPath&&this.path.isPointInPath(t,i)?0:this.path.distanceSquared(t,i)}isDirtyPath(){return!1}updatePath(){}render(t){let{ctx:i,forceRender:n,stats:s}=t;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=this.nodeCount.count);return}if(this.transformRenderContext(t),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){i.save();let r=this.strokeWidth/2;if(this._clipPath??(this._clipPath=new fp),this._clipPath.clear(),this._clipPath.rect(-r,-r,this._clipX+r,this._clipY+r+r),this.clipMode==="normal"&&i.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(i),this.clipMode==="punch-out"){i.clip(this._clipPath?.getPath2D());let{x:o=-1e4,y:a=-1e4,width:l=2e4,height:c=2e4}=this.getBBox()??{};i.clearRect(o,a,l,c)}i.restore()}else this.drawPath(i);this.fillShadow?.markClean(),super.render(t)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}};return e.className="Path",e})();m([ye()],Zi.prototype,"clipMode",2);m([ye()],Zi.prototype,"clipX",1);m([ye()],Zi.prototype,"clipY",1);var fP={};pr(fP,{block:()=>Dw,elements:()=>D7,modifiers:()=>Sw});var Dw="ag-charts-focus",D7={indicator:"ag-charts-focus__indicator",svg:"ag-charts-focus__svg"},Sw={hidden:"ag-charts-focus--hidden"},S7=class{constructor(e){this.domManager=e;let{block:t,elements:i,modifiers:n}=fP;this.div=Ps().createElement("div"),this.svg=Ps().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=Ps().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=e.addChild("canvas-overlay",t),this.element.classList.add(t,i.indicator,n.hidden),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(Dw),this.domManager.removeChild("canvas-overlay",Dw)}updateBounds(e){e===void 0?this.element.classList.add(Sw.hidden):e instanceof Zi?(this.path.setAttribute("d",e.computeSVGDataPath()),this.show(this.svg)):(ea(this.div,e),this.show(this.div))}show(e){this.element.classList.remove(Sw.hidden),this.element.innerHTML="",this.element.append(e)}},M7=class{set textContent(e){this.textElement.textContent=e;let i=this.textElement.getBBox?.();i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=vw("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=vw("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=Vt("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(e){ea(this.boundedContainer,e)}};function UC(e,t){return t.params?.type===e}function T7(e){if(e==="button")return Vt("button");if(e==="slider")return Vt("input");if(e==="toolbar"||e==="group")return Vt("div");if(e==="text")return new M7;throw Error("AG Charts - error allocating meta")}function MO(e){let t={params:e,result:void 0};return t.result=T7(t.params.type),t}var I7=class{constructor(e,t,i,n){this.localeManager=t,this.domManager=i,this.focusIndicator=n,this.debugShowDOMProxies=ut.check("showDOMProxies"),this.destroyFns=[],this.destroyFns.push(e.addListener("update-complete",()=>this.update()))}destroy(){this.destroyFns.forEach(e=>e())}update(){this.focusable&&this.focusIndicator.updateBounds(this.focusable.computeTransformedBBox())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){let t=MO(e),{params:i,result:n}=t;return this.domManager.addChild("canvas-overlay",i.id,n),n.classList.add(...i.classList),n.style.pointerEvents="none",n.role=i.type,n.ariaOrientation=i.ariaOrientation,typeof i.ariaHidden=="boolean"&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(e){let t=MO(e);if(UC("button",t)){let{params:i,result:n}=t;if(this.initInteract(i,n),typeof i.textContent=="string")n.textContent=i.textContent;else{let{textContent:s}=i;this.addLocalisation(()=>{n.textContent=this.localeManager.t(s.id,s.params)})}}if(UC("slider",t)){let{params:i,result:n}=t;this.initInteract(i,n),n.type="range",n.role="presentation",n.style.margin="0px",n.ariaOrientation=i.ariaOrientation,this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})}if(UC("text",t)){let{params:i,result:n}=t;this.initElement(i,n.getContainer())}return t.result}initElement(e,t){let{id:i,parent:n}=e;t.id=i,t.style.pointerEvents="none",t.style.opacity=this.debugShowDOMProxies?"0.25":"0",t.style.position="absolute",t.style.overflow="hidden",typeof n=="string"?this.domManager.addChild(n,i,t):n.appendChild(t)}initInteract(e,t){let{focusable:i,onclick:n,onchange:s,onfocus:r,onblur:o,tabIndex:a}=e;this.initElement(e,t),a!==void 0&&(t.tabIndex=a),t.addEventListener("focus",l=>{this.focusable=i,t.style.setProperty("pointerEvents",null),this.focusIndicator.updateBounds(i.computeTransformedBBox())}),t.addEventListener("blur",l=>{this.focusable=void 0,t.style.pointerEvents="none",this.focusIndicator.updateBounds(void 0)}),n&&t.addEventListener("click",n),r&&t.addEventListener("focus",r),o&&t.addEventListener("blur",o),s&&t.addEventListener("change",s)}},TO=class{constructor(e){this.maxAnimationTime=e,this.debug=ut.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(cu.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(cu[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(cu.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);let t=this.phases.get(e.phase),i=t?.indexOf(e);i!=null&&i>=0&&t?.splice(i,1)}progress(e){if(!this.isReady)return;let t=e===0?.01:e,i=()=>{let c=cu[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:up[c]}},{phase:n,phaseControllers:s,phaseMeta:r}=i(),o=()=>cu[this.currentPhase]==null,a=()=>{for({phase:n,phaseControllers:s,phaseMeta:r}=i();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:r}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${s?.length} of ${l}`);do{let c=t,u=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,d=0;for(let h of s)u?h.stop():t=Math.min(h.update(c),t),h.isComplete&&(d++,this.removeAnimation(h));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${s.length} controllers; ${d} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(z.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(let[,t]of this.controllers)if(t.duration>0&&up[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(let[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(let t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(let e of this.controllers.values())e.play()}pause(){for(let e of this.controllers.values())e.pause()}stop(){for(let e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){z.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){let t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(let t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function gp(e){let t=k(S({},e),{preventDefault(){t.sourceEvent?.preventDefault()}});return t}function Zh(e,t){e.dispatchWrapHandlers(t.type,(i,n)=>i(n),gp(t))}var _D=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],A7=["blur","focus"],E7=["keydown","keyup"],$C=["mousemove","mouseup"],IO=["pagehide","mousemove","mouseup"],AO=["click","dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],Np=(e=>(e[e.Default=16]="Default",e[e.ZoomDrag=8]="ZoomDrag",e[e.Annotations=4]="Annotations",e[e.ContextMenu=2]="ContextMenu",e[e.Animation=1]="Animation",e[e.All=31]="All",e))(Np||{}),gP=(e=>(e.Retain="retain",e.Exclusive="exclusive",e))(gP||{}),k7=new Set(Object.values(gP));function L7(e){return _D.includes(e)}function N7(e){return A7.includes(e)}function O7(e){return E7.includes(e)}var mP=class Mw extends Oi{constructor(t,i){super(),this.keyboardOptions=t,this.domManager=i,this.debug=ut.create(!0,"interaction"),this.eventHandler=n=>this.processEvent(n),this.overlayEventHandler=n=>this.processCanvasOverlayEvent(n),this.mouseDown=!1,this.touchDown=!1,this.pointerCaptureCanvasElement=void 0,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=17,this.rootElement=this.domManager.getDocumentRoot();for(let n of AO)n.startsWith("touch")||n==="wheel"?this.domManager.addEventListener(n,this.eventHandler,{passive:!1}):this.domManager.addEventListener(n,this.eventHandler);for(let n of IO)Vs().addEventListener(n,this.eventHandler);this.destroyFns.push(this.domManager.addEventListenerOnElement("canvas-overlay","mouseover",this.overlayEventHandler),this.domManager.addEventListenerOnElement("canvas-overlay","mouseout",this.overlayEventHandler)),this.containerChanged(!0),this.domManager.addListener("container-changed",()=>this.containerChanged())}containerChanged(t=!1){let i=this.domManager.getDocumentRoot();if(!(!t&&i===this.rootElement)){for(let n of $C)this.rootElement?.removeEventListener(n,this.eventHandler);this.rootElement=i,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(let n of $C)this.rootElement?.addEventListener(n,this.eventHandler)}}destroy(){super.destroy();for(let t of IO)Vs().removeEventListener(t,this.eventHandler);for(let t of $C)this.rootElement?.removeEventListener(t,this.eventHandler);for(let t of AO)this.domManager.removeEventListener(t,this.eventHandler);this.domManager.removeStyles("interactionManager")}addListener(t,i,n=16){return super.addListener(t,s=>{this.getState()&n&&i(s)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processCanvasOverlayEvent(t){let i=this.calculateCoordinates(t);if(i==null)return;let n=t.target,s=null;for(;n!=null&&(s=n.getAttribute("data-pointer-capture"),s==null);)n=n.parentElement;if(n==null||s==null||!k7.has(s))return;let r=t.type==="mouseover",o=r?n:void 0;this.pointerCaptureCanvasElement!==o&&(this.pointerCaptureCanvasElement=o,s==="exclusive"&&Zh(this.listeners,this.buildPointerEvent(S({type:r?"leave":"enter",event:t},i))))}processEvent(t){let i=this.decideInteractionEventTypes(t),n=t.target;if(t.type==="click"&&n?.ariaDisabled==="true"){t.preventDefault();return}i!=null&&this.dispatchEvent(t,i).catch(s=>z.errorOnce(s))}dispatchEvent(t,i){return L(this,null,function*(){if(L7(i)){this.dispatchPointerEvent(t,i);return}let{relatedElement:n,targetElement:s}=this.extractElements(t);if(N7(i)){let r=t;Zh(this.listeners,{type:i,sourceEvent:r,relatedElement:n,targetElement:s})}else if(O7(i)){let r=t;Zh(this.listeners,{type:i,sourceEvent:r,relatedElement:n,targetElement:s})}})}extractElements(t){let i,n;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(i=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(n=t.target),{relatedElement:i,targetElement:n}}dispatchPointerEvent(t,i){let n=this.calculateCoordinates(t);n!=null&&Zh(this.listeners,this.buildPointerEvent(S({type:i,event:t},n)))}getEventHTMLTarget(t){if(t.target instanceof HTMLElement)return t.target;if(t.currentTarget instanceof HTMLElement)return t.currentTarget}recordDown(t){t instanceof MouseEvent&&(yl(["offsetX","offsetY"],this.clickHistory[0],t),yl(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),yl(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragStartElement=this.getEventHTMLTarget(t)}recordUp(t){t instanceof MouseEvent&&yl(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragStartElement=void 0}decideInteractionEventTypes(t){let i="drag-start";if(this.pointerCaptureCanvasElement?.isConnected===!1&&(this.pointerCaptureCanvasElement=void 0),this.pointerCaptureCanvasElement==null)switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?t.type:void 0;case"click":case"dblclick":case"contextmenu":case"wheel":return t.type;case"mousedown":return this.isEventOverElement(t)?(this.mouseDown=!0,this.recordDown(t),i):void 0;case"touchstart":return this.isEventOverElement(t)?(this.touchDown=!0,this.recordDown(t),i):void 0;case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?void 0:this.mouseDown||this.touchDown?"drag":"hover";case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?void 0:(this.mouseDown=!1,this.recordUp(t),"drag-end");case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?void 0:(this.touchDown=!1,this.recordUp(t),"drag-end");case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let i=t.touches[0]??t.changedTouches[0],{clientX:n,clientY:s,pageX:r,pageY:o}=i;return k(S({},Mw.NULL_COORDS),{clientX:n,clientY:s,pageX:r,pageY:o})}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:Mw.NULL_COORDS}getMouseEventCoords(t){let{clientX:i,clientY:n,pageX:s,pageY:r}=t,{offsetX:o,offsetY:a}=t,l=this.getEventHTMLTarget(t),{x:c=0,y:u=0}=l?this.domManager.calculateCanvasPosition(l):{};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){let d=this.domManager.calculateCanvasPosition(this.dragStartElement);o-=d.x-c,a-=d.y-u}else o+=c,a+=u;return{clientX:i,clientY:n,pageX:s,pageY:r,offsetX:o,offsetY:a}}isWheelEvent(t){return t.type==="wheel"}buildPointerEvent(t){let{type:i,event:n,clientX:s,clientY:r}=t,{offsetX:o,offsetY:a,pageX:l,pageY:c}=t;if(!He(o)||!He(a)){let x=this.domManager.getBoundingClientRect();o=s-x.left,a=r-x.top}if(!He(l)||!He(c)){let x=this.rootElement?.getBoundingClientRect();l=s-(x?.left??0),c=r-(x?.top??0)}let[u,d]=[NaN,NaN];if(this.isWheelEvent(n)){let x=n.deltaMode===0?.01:1;u=n.deltaX*x,d=n.deltaY*x}let h=[];n.type==="click"?h=this.clickHistory:n.type==="dblclick"&&(h=this.dblclickHistory);let{relatedElement:p,targetElement:f}=this.extractElements(n),g="button"in n?Number(n.button):0,y={type:i,offsetX:o,offsetY:a,pageX:l,pageY:c,deltaX:u,deltaY:d,button:g,pointerHistory:h,sourceEvent:n,relatedElement:p,targetElement:f};return this.debug("InteractionManager - builtEvent: ",y),y}};mP.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var yP=mP;function EO(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var vP=class extends Oi{constructor(e,t){super(),this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new TO(this.defaultDuration*1.5),this.debug=ut.create(!0,"animation"),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1,this.currentAnonymousAnimationId=0}animate(t){var e=mt(t,[]);let i=this.batch;try{i.checkOverlappingId(e.id)}catch(l){this.failsafeOnError(l);return}let{id:n}=e;n==null&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let s=this.isSkipped()||e.phase==="none";s&&this.debug("AnimationManager - skipping animation");let{delay:r,duration:o}=e;if(!EO(r))throw new Error(`Animation delay of ${r} is unsupported (${n})`);if(!EO(o))throw new Error(`Animation duration of ${o} is unsupported (${n})`);let a=new XR(k(S({},e),{id:n,skip:s,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(a,this.defaultDuration))return this.batch.addAnimation(a),a}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e,t=i=>L(this,null,function*(){let n=()=>L(this,null,function*(){let s=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(1);try{this.batch.progress(s)}catch(r){this.failsafeOnError(r)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:s})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(n):yield this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.listeners.dispatch("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))});this.listeners.dispatch("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){z.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new TO(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}},R7=class xP{constructor(t,i,n){this.localeManager=t,this.domManager=i,this.layoutService=n,this.debug=ut.create(!0,"aria"),this.destroyFns=[],this.liveElem=xP.createAnnouncer(),this.domManager.addChild("canvas-proxy","ag-charts-canvas-proxy",this.liveElem),this.destroyFns.push(this.layoutService.addListener("layout-complete",s=>this.onResize(s)),()=>this.domManager.removeChild("canvas-proxy","ag-charts-canvas-proxy"))}static createAnnouncer(){let t=Ps().createElement("div");return t.classList.add("ag-charts-aria-announcer"),kl(t,"role","status"),kl(t,"aria-live","assertive"),t}destroy(){this.destroyFns.forEach(t=>t())}onResize(t){this.liveElem.style.width=`${t.chart.width}px`,this.liveElem.style.height=`${t.chart.height}px`}announceValue(t,i){let{localeManager:n,liveElem:s}=this,r=n.t(t,i);this.debug(`AriaAnnouncementService - announceValue: ${r}`),s.textContent="\xA0",setTimeout(()=>s.innerText=r,16)}},bP=class extends Oi{legendItemClick(e,t,i,n){let s={type:"legend-item-click",series:e,itemId:t,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",s)}legendItemDoubleClick(e,t,i,n,s){let r={type:"legend-item-double-click",series:e,itemId:t,enabled:i,legendItemName:s,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",r)}axisHover(e,t){let i={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",i)}},_P=class CP{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new ha;let{Default:i,ContextMenu:n}=Np;this.destroyFns=[t.listenAll("contextmenu",s=>this.onContextMenu(s),i|n)]}destroy(){this.destroyFns.forEach(t=>t())}onContextMenu(t){CP.toContextType(t.region)==="all"&&this.dispatchContext("all",t,{})}static toContextType(t){return t==="legend"||t==="series"?t:"all"}static check(t,i){return i.type===t}static checkCallback(t,i,n){return t===i}dispatchContext(t,i,n){let{offsetX:s,offsetY:r,sourceEvent:o}=i;this.listeners.dispatch("",gp({type:t,x:s,y:r,context:n,sourceEvent:o}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter(i=>i.id&&!this.hiddenActions.has(i.id)&&["all",t].includes(i.type))}registerDefaultAction(t){t.id&&this.defaultActions.find(({id:i})=>i===t.id)||this.defaultActions.push(t)}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}setActionVisiblity(t,i){i?this.hiddenActions.delete(t):this.hiddenActions.add(t)}isDisabled(t){return this.disabledActions.has(t)}},Mu=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},wP=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(wP||{}),DP=class{constructor(e){this.domManager=e,this.stateTracker=new Mu("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function P7(e,t){let i=e.screenX-t.screenX,n=e.screenY-t.screenY;return i*i+n*n}function kO(e,t){return Math.sqrt(P7(e,t))}var F7=1,SP=class extends Oi{constructor(e){super(),this.domManager=e,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){let{touches:t}=e,{finger1:i,finger2:n}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[0],t[1]];if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[1],t[0]]}}copyTouchData(e){let t=["identifier","screenX","screenY"];yl(t,this.pinch.finger1,e.touches[0]),yl(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=kO(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,i){let{finger1:n,finger2:s,origin:r}=this.pinch;this.listeners.dispatch(e,gp({sourceEvent:i,type:e,finger1:n,finger2:s,deltaDistance:t,origin:r}))}onTouchStart(e){this.stopPinchTracking(e);let{pinch:t}=this;e.touches.length===2&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){let t=this.findPinchTouches(e);if(t!==void 0){let[i,n]=t,{pinch:s}=this,r=kO(i,n),o=r-s.distance;s.status===1?Math.abs(o)>F7&&(s.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):s.status===2?(s.distance=r,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",o,e)):z.error(`unexpected pinch.status: ${s.status}`)}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){let{pinch:t}=this;t.status===2&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},MP=class extends Oi{constructor(){super(...arguments),this.highlightStates=new Mu}updateHighlight(e,t){let{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e!=null&&t!=null&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}},TP=class extends Oi{constructor(e,t){super(),this.domManager=t,this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.isClicking=!1,this.destroyFns.push(e.addListener("drag-start",i=>this.onClickStart(i),31),e.addListener("click",i=>this.onClickStop(i),31),e.addListener("drag-end",i=>this.onClickStop(i),31),e.addListener("wheel",i=>this.mouseBlur(i)),e.addListener("hover",i=>this.mouseBlur(i)),e.addListener("drag",i=>this.mouseBlur(i)),e.addListener("blur",i=>this.onBlur(i),31),e.addListener("focus",i=>this.onFocus(i),31),e.addListener("keydown",i=>this.onKeyDown(i),31))}destroy(){super.destroy()}onClickStart(e){this.isClicking=!0,this.mouseBlur(e)}onClickStop(e){this.mouseBlur(e),this.isClicking=!1}mouseBlur(e){this.hasBrowserFocus&&(this.isMouseBlurred||(this.dispatch("blur",0,e),this.isMouseBlurred=!0))}onBlur(e){this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.dispatch("blur",0,e)}onFocus(e){let t=this.domManager.getBrowserFocusDelta();this.dispatch("browserfocus",t,e),this.hasBrowserFocus=!0;let i=e.relatedElement==null&&e.targetElement?.tagName==="CANVAS";if(this.isClicking||i){this.isMouseBlurred=!0;return}this.dispatch("tab",t,e)}onKeyDown(e){if(!this.hasBrowserFocus)return;this.isMouseBlurred=!1;let{code:t,altKey:i,shiftKey:n,metaKey:s,ctrlKey:r}=e.sourceEvent;if(t==="Tab")return n?this.dispatch("tab",-1,e):this.dispatch("tab",1,e);if(!(i||n||s||r)){switch(t){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e);case"Escape":return this.dispatch("cancel",0,e);case"Backspace":case"Delete":return this.dispatch("delete",0,e)}switch(e.sourceEvent.key){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}}}dispatch(e,t,i){Zh(this.listeners,{type:e,delta:t,sourceEvent:i})}},WC=["series"],LO=class extends ha{};function NO(e,t,i,n,s=16){return e?.addListener(i,r=>{t.getState()&s&&n(r)})??(()=>{})}var IP=class{constructor(e,t,i){this.interactionManager=e,this.keyNavManager=t,this.focusIndicator=i,this.currentTabIndex=0,this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new LO,this.destroyFns.push(..._D.map(n=>e.addListener(n,this.processPointerEvent.bind(this),31)),this.keyNavManager.addListener("blur",this.onNav.bind(this)),this.keyNavManager.addListener("browserfocus",this.onBrowserFocus.bind(this)),this.keyNavManager.addListener("tab",this.onTab.bind(this)),this.keyNavManager.addListener("nav-vert",this.onNav.bind(this)),this.keyNavManager.addListener("nav-hori",this.onNav.bind(this)),this.keyNavManager.addListener("nav-zoom",this.onNav.bind(this)),this.keyNavManager.addListener("submit",this.onNav.bind(this)),this.keyNavManager.addListener("cancel",this.onNav.bind(this)),this.keyNavManager.addListener("delete",this.onNav.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.currentRegion=void 0;for(let e of this.regions.values())e.listeners.destroy();this.focusIndicator.destroy(),this.regions.clear()}addRegion(e,...t){if(this.regions.has(e))throw new Error(`AG Charts - Region: ${e} already exists`);let i={properties:{name:e,bboxproviders:[...t]},listeners:new LO};return this.regions.set(e,i),this.makeObserver(i)}updateRegion(e,...t){let i=this.regions.get(e);if(i)i.properties.bboxproviders=[...t];else throw new Error("AG Charts - unknown region: "+e)}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t,i=16){return NO(this.allRegionsListeners,this.interactionManager,e,t,i)}makeObserver(e){let{interactionManager:t}=this;class i{addListener(s,r,o=16){return NO(e?.listeners,t,s,r,o)}}return new i}checkPointerHistory(e,t){for(let i of t.pointerHistory){let{region:n}=this.pickRegion(i.offsetX,i.offsetY);if(e.properties.name!==n?.properties.name)return!1}return!0}dispatch(e,t,i){if(e==null)return;let n=gp(k(S({},t),{region:e.properties.name,bboxProviderId:i}));this.allRegionsListeners.dispatch(n.type,n),e.listeners.dispatch(n.type,n)}handleDragging(e){let{currentRegion:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,k(S({},e),{type:"leave"})),!0;break}return!1}processPointerEvent(e){if(this.handleDragging(e))return;let{currentRegion:t}=this;if(e.type==="leave"){this.dispatch(t,k(S({},e),{type:"leave"})),this.currentRegion=void 0;return}let{region:i,bboxProviderId:n}=this.pickRegion(e.offsetX,e.offsetY);t!==void 0&&i?.properties.name!==t.properties.name&&this.dispatch(t,k(S({},e),{type:"leave"}),this.currentBBoxProviderId),i!==void 0&&i.properties.name!==t?.properties.name&&this.dispatch(i,k(S({},e),{type:"enter"}),n),i!==void 0&&this.checkPointerHistory(i,e)&&this.dispatch(i,e,n),this.currentRegion=i,this.currentBBoxProviderId=n}pickRegion(e,t){let i=1/0,n,s;for(let r of this.regions.values())for(let o of r.properties.bboxproviders){if(o.visible===!1)continue;let a=o.computeTransformedRegionBBox?.()??o.computeTransformedBBox(),l=a.width*a.height;l<i&&a.containsPoint(e,t)&&(i=l,n=r,s=o.id)}return{region:n,bboxProviderId:s}}getTabRegion(e){if(e!==void 0&&e>=0&&e<WC.length)return this.regions.get(WC[e])}getNextInteractableTabIndex(e,t){let i=t<0?-1:1,n=e;for(;t!==0;){if(this.getTabRegion(n+i)===void 0)return;t=t-i,n=n+i}return n}validateCurrentTabIndex(){this.getTabRegion(this.currentTabIndex)!==void 0&&(this.currentTabIndex=this.getNextInteractableTabIndex(-1,1)??0)}onBrowserFocus(e){e.delta>0?this.currentTabIndex=-1:e.delta<0&&(this.currentTabIndex=WC.length)}onTab(e){this.validateCurrentTabIndex();let t=this.getNextInteractableTabIndex(this.currentTabIndex,e.delta),i=this.getTabRegion(t),n=this.getTabRegion(this.currentTabIndex);if(t!==void 0&&(this.currentTabIndex=t),n!==void 0&&i?.properties.name!==n.properties.name){let{delta:s,sourceEvent:r}=e,o=gp({type:"blur",delta:s,sourceEvent:r});this.dispatch(n,o)}i===void 0?this.focusIndicator.updateBounds(void 0):this.dispatch(i,e)}onNav(e){let t=this.getTabRegion(this.currentTabIndex);this.dispatch(t,e)}},AP=["start","center","end"],YC=["seriesType","annotations","annotationOptions","ranges","zoom"],OO={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},Jh=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(Jh||{}),pu=Object.values(Jh);function RO(e){return["floating-top","floating-bottom"].includes(e)}var EP=class extends Oi{static isGroup(e,t){return t.group===e}static isChildElement(e,t){for(let i of pu)if(e.isManagedChildDOMElement(t,"canvas-overlay",`toolbar-${i}`))return!0;return!1}pressButton(e,t,i,n){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:e,id:t,value:i,rect:n})}cancel(e){this.listeners.dispatch("cancelled",{type:"cancelled",group:e})}toggleButton(e,t,i){let{active:n=!1,enabled:s=!0,visible:r=!0}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:e,id:t,active:n,enabled:s,visible:r})}updateButton(e,t,i){this.listeners.dispatch("button-updated",S({type:"button-updated",group:e,id:t},i))}toggleGroup(e,t,i){let{active:n,visible:s}=i;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:e,group:t,active:n,visible:s})}changeFloatingAnchor(e,t){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:e,anchor:t})}buttonMoved(e,t,i,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:e,value:t,rect:i,groupRect:n})}proxyGroupOptions(e,t,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:e,group:t,options:i})}},x0=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new Mu,this.suppressState=new Mu(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",()=>this.tooltip.toggle(!1))}updateTooltip(e,t,i){this.tooltip.enabled&&(i??(i=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{content:i,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}getTooltipMeta(e){return this.stateTracker.get(e)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){let e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||t?.meta==null||t?.content==null){this.appliedState=null,this.tooltip.toggle(!1);return}let i=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(this.appliedState?.content===t?.content){let s=this.tooltip.isVisible();this.tooltip.show(n,i,t?.meta,null,s)}else this.tooltip.show(n,i,t?.meta,t?.content);this.appliedState=t}static makeTooltipMeta(e,t){let{offsetX:i,offsetY:n}=e,{tooltip:s}=t.series.properties,r={offsetX:i,offsetY:n,enableInteraction:s.interaction?.enabled??!1,lastPointerEvent:{type:e.type,offsetX:i,offsetY:n},showArrow:s.showArrow,position:{type:s.position.type,xOffset:s.position.xOffset,yOffset:s.position.yOffset}},o=t.yBar?.upperPoint??t.midPoint??t.series.datumMidPoint?.(t);if(s.position.type==="node"&&o){let{x:a,y:l}=o,c=t.series.contentGroup.inverseTransformPoint(a,l);return k(S({},r),{offsetX:Math.round(c.x),offsetY:Math.round(c.y)})}return r}},kP=class extends ha{constructor(){super(...arguments),this.layoutComplete="layout-complete",this.debug=ut.create(!0,"layout")}addListener(e,t){if(this.isLayoutStage(e)||this.isLayoutComplete(e))return super.addListener(e,t);throw new Error(`AG Charts - unsupported listener type: ${e}`)}dispatchPerformLayout(e,t){return this.isLayoutStage(e)?this.getListenersByType(e).reduce((i,n)=>{try{let s=n.handler(i);return this.debug("[LayoutService] Context updated to: ",S({},s),n),s}catch(s){return z.errorOnce(s),i}},t):t}dispatchLayoutComplete(e){this.dispatch(this.layoutComplete,e)}isLayoutStage(e){return e!==this.layoutComplete}isLayoutComplete(e){return e===this.layoutComplete}},V7=/\$\{(\w+)}(?:\[(\w+)])?/gi,ZC={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent"}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},B7=({defaultValue:e,variables:t})=>e?.replaceAll(V7,(i,n,s)=>{let r=t[n],o=s!=null?ZC[s]:void 0;return s!=null&&o==null&&z.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(r):typeof r=="number"?ZC.number.format(r):r instanceof Date?ZC.datetime.format(r):String(r)}),j7=class extends ha{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){let{localeText:i=R9,getLocaleText:n}=this,s=i[e];return n?.({key:e,defaultValue:s,variables:t})??B7({key:e,defaultValue:s,variables:t})??e}},z7=class{constructor(){this.groups={}}registerSeries({id:e,seriesGrouping:t,visible:i,type:n}){var s;t&&((s=this.groups)[n]??(s[n]={}),this.groups[n][e]={grouping:t,visible:i})}deregisterSeries({id:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};let n=new Set,s=new Set;for(let o of Object.values(this.groups[e]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&s.add(o.grouping.stackIndex));let r=Array.from(n);return r.sort((o,a)=>o-a),{visibleGroupCount:r.length,visibleSameStackCount:s.size,index:r.indexOf(t.groupIndex)}}},ep=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(ep||{}),LP=class extends ha{constructor(e){super(),this.updateCallback=e}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e?.minRect,minVisibleRect:e?.minVisibleRect})}dispatchPreSceneRender(e){this.dispatch("pre-scene-render",S({type:"pre-scene-render"},e))}},G7=class{constructor(e,t){let{scene:i,root:n,syncManager:s,container:r,updateCallback:o,updateMutex:a,overrideDevicePixelRatio:l}=t;this.chartService=e,this.syncManager=s,this.zoomManager=e.zoomManager,this.domManager=new hP(r),i?.setContainer(this.domManager),this.scene=i??new uP({pixelRatio:l,domManager:this.domManager}),this.scene.setRoot(n),this.axisManager=new p7(n),this.localeManager=new j7,this.annotationManager=new h7(e.annotationRoot),this.chartEventManager=new bP,this.cursorManager=new DP(this.domManager),this.highlightManager=new MP,this.interactionManager=new yP(e.keyboard,this.domManager),this.keyNavManager=new TP(this.interactionManager,this.domManager),this.focusIndicator=new S7(this.domManager),this.regionManager=new IP(this.interactionManager,this.keyNavManager,this.focusIndicator),this.contextMenuRegistry=new _P(this.regionManager),this.toolbarManager=new EP,this.gestureDetector=new SP(this.domManager),this.layoutService=new kP,this.ariaAnnouncementService=new R7(this.localeManager,this.domManager,this.layoutService),this.updateService=new LP(o),this.proxyInteractionService=new I7(this.updateService,this.localeManager,this.domManager,this.focusIndicator),this.seriesStateManager=new z7,this.stateManager=new o7,this.callbackCache=new d7,this.animationManager=new vP(this.interactionManager,a),this.animationManager.skip(),this.animationManager.play(),this.dataService=new v0(this.animationManager),this.tooltipManager=new x0(this.domManager,e.tooltip)}destroy(){this.tooltipManager.destroy(),this.contextMenuRegistry.destroy(),this.regionManager.destroy(),this.proxyInteractionService.destroy(),this.focusIndicator.destroy(),this.keyNavManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.ariaAnnouncementService.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.callbackCache.invalidateCache(),this.animationManager.reset(),this.syncManager.destroy(),this.domManager.destroy(),this.axisManager.destroy()}},NP=class extends Te{constructor(){super(...arguments),this.range="tooltip"}};m([b(ht(["tooltip","node"],"a range"))],NP.prototype,"range",2);var PO=class OP{constructor(){this.domain=new Set}static is(t){return t instanceof OP}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},uu=class RP{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof RP}static extendDomain(t,i=[1/0,-1/0]){for(let n of t)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function H7(e){return e.map(t=>pn(t)?JSON.stringify(t):t).join("-")}function U7(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function $7(e){if(e==null)return[];let[t,i]=e.map(Number);return t===0&&i===0?[0,1]:t===1/0&&i===-1/0?[]:(t===1/0?t=0:i===-1/0&&(i=0),He(t)&&He(i)?[t,i]:[])}function gn(e,t){let i=$7(e);if(i.length===0)return i;let[n,s]=i;if(n===s){let[r,o]=t?.calculatePadding(n,s)??[1,1];n-=r,s+=o}return[n,s]}function CD(e,t){return t?.get(e.id)??0}var rl=Symbol("invalid");function PP(e){let t=[],i=0,n,s=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;n=s.exec(e);){if(n.index!==i)return;i=n.index+n[0].length;let r=n[1].trim();if(r.startsWith("."))t.push(r.slice(1).trim());else if(r.startsWith("[")){let o=r.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(r)}if(i===e.length)return t}function W7(e){return t=>{let i=t;for(let n of e)i=i[n];return i}}var FP=class{constructor(e,t="standalone"){this.opts=e,this.mode=t,this.debug=ut.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(let s of e.props){if(s.type==="key"&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");s.type==="value"&&i&&(i=!1)}let n=({matchGroupIds:s=[]})=>{for(let r of s)if(this.values.every(o=>o.groupId!==r))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${r}).`)};for(let s of e.props)switch(s.type){case"key":this.keys.push(k(S({},s),{index:this.keys.length,missing:new Map}));break;case"value":if(s.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(s)}`);this.values.push(k(S({},s),{index:this.values.length,missing:new Map}));break;case"aggregate":n(s),this.aggregates.push(k(S({},s),{index:this.aggregates.length}));break;case"group-value-processor":n(s),this.groupProcessors.push(k(S({},s),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(k(S({},s),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(k(S({},s),{index:this.reducers.length}));break;case"processor":this.processors.push(k(S({},s),{index:this.processors.length}));break}}resolveProcessedDataDefById(e,t){let i=this.scopeCache.get(e.id)?.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map(i=>[i,this.resolveProcessedDataDefById(e,i)])}resolveProcessedDataDefsValues(e,{keys:t,values:i}){let n={};for(let[s,{index:r,def:o}]of e){let a=o.type==="key"?t:i;n[s]=a[r]}return n}getDomain(e,t,i="value",n){return this.getDomainsByType(i,n)?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){let{opts:{groupByKeys:i,groupByFn:n},aggregates:s,groupProcessors:r,reducers:o,processors:a,propertyProcessors:l}=this,c=performance.now();if(i&&this.keys.length===0)return;let u=this.extractData(e,t);if(i?u=this.groupData(u):n&&(u=this.groupData(u,n(u))),r.length>0&&this.postProcessGroups(u),s.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),o.length>0&&this.reduceData(u),a.length>0&&this.postProcessData(u),e.length>0){for(let h of cy(this.keys,this.values))for(let[p,f]of h.missing)if(f>=e.length){let g=p==null?"":` for ${p}`;z.warnOnce(`the key '${h.property}' was not found in any data element${g}.`)}}let d=performance.now();u.time=d-c,this.debug.check()&&Y7(u),this.scopeCache.clear();for(let h of cy(this.keys,this.values,this.aggregates))if(h.idsMap)for(let[p,f]of h.idsMap)for(let g of f)if(!this.scopeCache.has(p))this.scopeCache.set(p,new Map([[g,h]]));else{if(this.scopeCache.get(p)?.has(g))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(p).set(g,h)}return u}valueGroupIdxLookup({matchGroupIds:e}){let t=[];for(let[i,n]of this.values.entries())(!e||n.groupId&&e.includes(n.groupId))&&t.push(i);return t}valueIdxLookup(e,t){let i=e==null||e.length===0,n=typeof t=="string"?t:t.id,s=o=>{if(o.idsMap){for(let[a,l]of o.idsMap)if(e?.includes(a)&&l.has(n))return!0}return!1},r=this.values.findIndex(o=>(o.scopes==null||i&&!o.scopes.length||o.scopes.some(l=>e?.includes(l)))&&(o.property===n||o.id===n||s(o)));if(r===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e,t){let{dataDomain:i,processValue:n,scopes:s,allScopesHaveSameDefs:r}=this.initDataDomainProcessor(),o=new Map(t?.map(p=>[p.id,p])),{keys:a,values:l}=this,c=new Array(e.length),u=0,d=0;for(let[p,f]of e.entries()){let g={},y=s.size>0?new Set(s):void 0,x=new Array(a.length),v=0,_;for(let M of a){if(_=n(M,f,_),_===rl)break;x&&(x[v++]=_)}if(_===rl)continue;let C=l.length>0?new Array(l.length):void 0,w;for(let[M,I]of l.entries()){for(let T of I.scopes??s){let A=o.get(T),E=A?.data[p]??f;if(w=n(I,E,w,T),!(w===rl||!C)){if(A!=null&&I.includeProperty!==!1){let P=I.includeProperty&&I.id!=null?I.id:I.property;g[T]??(g[T]={}),g[T][P]=w}C[M]=w}}if(w===rl){if(r)break;for(let T of I.scopes??s)y?.delete(T);if(y?.size===0)break}}if(w===rl&&r||y?.size===0)continue;let D={datum:S(S({},f),g),keys:x,values:C};!r&&y&&y.size<s.size&&(d++,D.validScopes=new Set(y)),c[u++]=D}c.length=u;let h=p=>{let f=i.get(p),g=f.getDomain();return uu.is(f)&&g[0]>g[1]?[]:g};return{type:"ungrouped",input:{count:e.length},data:c,domain:{keys:a.map(h),values:l.map(h)},defs:{allScopesHaveSameDefs:r,keys:a,values:l},partialValidDataCount:d,time:0}}groupData(e,t){let i=new Map;for(let o of e.data){let{keys:a,values:l,datum:c,validScopes:u}=o,d=t?.(o)??a,h=H7(d);if(i.has(h)){let p=i.get(h);if(p.values.push(l),p.datum.push(c),u!=null&&p.validScopes!=null)for(let f of p.validScopes)u.has(f)||p.validScopes.delete(f)}else i.set(h,{keys:d,values:[l],datum:[c],validScopes:u})}let n=new Array(i.size),s=new Array(i.size),r=0;for(let{keys:o,values:a,datum:l,validScopes:c}of i.values())c?.size!==0&&(s[r]=o,n[r++]={keys:o,values:a,datum:l,validScopes:c});return k(S({},e),{type:"grouped",data:n,domain:k(S({},e.domain),{groups:s})})}aggregateData(e){let t=e.type==="ungrouped";e.domain.aggValues=[];for(let[i,n]of this.aggregates.entries()){let s=this.valueGroupIdxLookup(n),r=[1/0,-1/0];for(let o of e.data){if(o.aggValues??(o.aggValues=new Array(this.aggregates.length)),o.validScopes)continue;let a=t?[o.values]:o.values,l=n.groupAggregateFunction?.()??[1/0,-1/0];for(let u of a){let d=s.map(p=>u[p]),h=n.aggregateFunction(d,o.keys);h&&(l=n.groupAggregateFunction?.(h,l)??uu.extendDomain(h,l))}let c=(n.finalFunction?.(l)??l).map(u=>U7(u));o.aggValues[i]=c,uu.extendDomain(c,r)}e.domain.aggValues.push(r)}}postProcessGroups(e){let{groupProcessors:t}=this,i=new Set,n=new Map,s=new Map,r=new Map;for(let a of t){let l=this.valueGroupIdxLookup(a);s.set(a,l),r.set(a,a.adjust());for(let c of l){let d=this.values[c].valueType==="category";i.add(c),n.set(c,d?new PO:new uu)}}let o=a=>{for(let l of i)n.get(l)?.extend(a[l])};for(let a of e.data){for(let l of t){if(a.validScopes)continue;let c=s.get(l)??[],u=r.get(l)?.();if(u)if(e.type==="grouped")for(let d of a.values)d&&u(d,c);else a.values&&u(a.values,c)}if(e.type==="grouped")for(let l of a.values)o(l);else o(a.values)}for(let[a,l]of n)e.domain.values[a]=l.getDomain()}postProcessProperties(e){for(let{adjust:t,property:i,scopes:n}of this.propertyProcessors)t()(e,this.valueIdxLookup(n,i))}reduceData(e){e.reduced??(e.reduced={});for(let t of this.reducers){let i=t.reducer(),n=t.initialValue;for(let s of e.data)(!s.validScopes||t.scopes?.some(r=>s.validScopes?.has(r)))&&(n=i(n,s));e.reduced[t.property]=n}}postProcessData(e){e.reduced??(e.reduced={});for(let t of this.processors)e.reduced[t.property]=t.calculate(e)}initDataDomainProcessor(){let{keys:e,values:t}=this,i=new Set;for(let c of t)if(c.scopes)for(let u of c.scopes)i.add(u);let n=new Map,s=new Map,r=!0,o=()=>{for(let c of cy(e,t))c.valueType==="category"?n.set(c,new PO):(n.set(c,new uu),r&&(r=(c.scopes??[]).length===i.size))};o();let a=this.buildAccessors(cy(e,t));return{dataDomain:n,processValue:(c,u,d,h)=>{let p,f;if(a.has(c.property)){try{f=a.get(c.property)(u)}catch{}p=f!=null}else p=c.property in u,f=p?u[c.property]:c.missingValue;c.forceValue!=null&&(f=p&&Cp(f)?-1*c.forceValue:c.forceValue,p=!0);let g="missingValue"in c;if(!p&&!g){let y=c.missing.get(h)??0;c.missing.set(h,y+1)}if(n.has(c)||o(),p&&c.validation?.(f,u)===!1)if("invalidValue"in c)f=c.invalidValue;else return this.mode!=="integrated"&&z.warnOnce(`invalid value of type [${typeof f}] for [${c.scopes} / ${c.id}] ignored:`,`[${f}]`),rl;return c.processor&&(s.has(c)||s.set(c,c.processor()),f=s.get(c)?.(f,d===rl?void 0:d)),n.get(c)?.extend(f),f},initDataDomain:o,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(e){let t=new Map;if(this.mode==="integrated")return t;for(let i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;let s=PP(i.property);if(s==null){z.warnOnce("Invalid property path [%s]",i.property);continue}let r=W7(s);t.set(i.property,r)}return t}};function Y7(e){let t=(i,n)=>{n.length>0&&(z.log(`DataModel.processData() - ${i}`),z.table(n))};if(z.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[]),e.type==="grouped"){let i=e.data.reduce((n,s)=>{let r=s.keys??[],o=s.aggValues??[],a=s.keys.map(()=>{}),l=o?.map(()=>{});return n.push(...s.values.map((c,u)=>[...u===0?r:a,...c??[],...u==0?o:l])),n},[]);t("Values",i)}else{let i=e.data.reduce((n,s)=>{let r=s.aggValues??[];return n.push([...s.keys,...s.values,...r]),n},[]);t("Values",i)}}var Z7=(()=>{let e=class Hr{constructor(i){this.mode=i,this.debug=ut.create(!0,"data-model"),this.requested=[],this.status="setup"}request(i,n,s){return L(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,o)=>{this.requested.push({id:i,opts:s,data:n,resolve:r,reject:o})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);let n=this.mergeRequested(i);this.debug("DataController.execute() - merged",n),this.debug.check()&&(Vs().processedData=[]);let s=this.requested.map(({id:o})=>o),r=this.hasMultipleDataSources(i);for(let{opts:o,data:a,resolves:l,rejects:c,ids:u}of n)try{let d=new FP(o,this.mode),h=d.processData(a,i);this.debug.check()&&Vs("processedData").push(h),h?.partialValidDataCount===0?l.forEach((p,f)=>p({dataModel:d,processedData:this.processScopedData(u[f],h,s,r)})):h?this.splitResult(d,h,u,l):c.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(d){c.forEach(h=>h(d))}}hasMultipleDataSources(i){if(i.length){let[{data:n},...s]=i;return s.some(r=>n!==r.data)}return!1}processScopedData(i,n,s,r){let o=l=>{if(Array.isArray(l))return l.map(o);let c=r?S(S({},l),l[i]):l;for(let u of s)delete c[u];return c},a=l=>Array.isArray(l)?l.map(a):l?.[i]??l;return k(S({},n),{data:n.data.map(l=>k(S({},l),{datum:o(l.datum),values:r?l.values?.map(a):l.values}))})}validateRequests(i){let n=[];for(let[s,r]of i.entries())s>0&&r.data.length!==i[0].data.length&&r.opts.groupByData===!1?r.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(r);return n}mergeRequested(i){let n=[];for(let s of i){let r=n.find(Hr.groupMatch(s));r?r.push(s):n.push([s])}return n.map(Hr.mergeRequests)}splitResult(i,n,s,r){for(let o=0;o<s.length;o++){let a=s[o],l=r[o];l({dataModel:i,processedData:k(S({},n),{data:n.data.filter(({validScopes:c})=>c?.has(a)??!0)})})}}static groupMatch({data:i,opts:n}){function s(r){return r.filter(o=>o.type==="key").map(o=>o.property).join(";")}return([r])=>(n.groupByData===!1||r.data===i)&&r.opts.groupByKeys===n.groupByKeys&&r.opts.groupByFn===n.groupByFn&&s(r.opts.props)===s(n.props)}static mergeRequests(i){return i.reduce((n,u)=>{var{id:s,data:r,resolve:o,reject:a,opts:d}=u,h=d,{props:l}=h,c=mt(h,["props"]);n.ids.push(s),n.rejects.push(a),n.resolves.push(o),n.data??(n.data=r),n.opts??(n.opts=k(S({},c),{props:[]}));for(let p of l){let f=k(S({},p),{scopes:[s]});Hr.createIdsMap(s,f);let g=n.opts.props.find(y=>y.type===f.type&&Hr.deepEqual(y,f));if(!g){n.opts.props.push(f);continue}g.scopes??(g.scopes=[]),g.scopes.push(...f.scopes??[]),(g.type==="key"||g.type==="value")&&f.idsMap?.size&&Hr.mergeIdsMap(f.idsMap,g.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(i,n){for(let[s,r]of i){let o=n.get(s);if(o!=null)for(let a of r)o.add(a);else n.set(s,new Set(r))}}static createIdsMap(i,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(i)?n.idsMap.get(i).add(n.id):n.idsMap.set(i,new Set([n.id])))}static deepEqual(i,n){if(i===n)return!0;if(i&&n&&typeof i=="object"&&typeof n=="object"){if(i.constructor!==n.constructor)return!1;let s,r;if(Array.isArray(i)){if(r=i.length,r!==n.length)return!1;for(s=r-1;s>=0;s--)if(!Hr.deepEqual(i[s],n[s]))return!1;return!0}let o=Object.keys(i);if(r=o.length,r!==Object.keys(n).length)return!1;for(s=r-1;s>=0;s--){let a=o[s];if(!Hr.skipKeys.has(a)&&(!Object.hasOwn(n,a)||!Hr.deepEqual(i[a],n[a])))return!1}return!0}return!1}};return e.skipKeys=new Set(["id","idsMap","type","scopes"]),e})(),VP=Z7,X7=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){let i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(e=>!this.hidden.has(e))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},Yr=new X7,ju=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function q7(e){return ju.some(t=>t.type==="series"&&t.identifier===e)}function Op(e){return ju.find(t=>t.type==="series"&&t.identifier===e)?.chartTypes}function Q7(e){return Op(e)?.find(i=>i==="cartesian")==="cartesian"}function K7(e){return Op(e)?.find(i=>i==="polar")==="polar"}function J7(e){return Op(e)?.find(i=>i==="hierarchy")==="hierarchy"}function eq(e){return Op(e)?.find(i=>i==="topology")==="topology"}function tq(e){return Op(e)?.find(i=>i==="flow-proportion")==="flow-proportion"}function iq(e){return e.packageType==="enterprise"}function nq(e){if(!iq(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let t=ju.find(i=>i.type===e.type&&i.optionsKey===e.optionsKey&&i.identifier===e.identifier&&e.chartTypes.every(n=>i.chartTypes.includes(n)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function sq(){return ju.filter(({useCount:e})=>e==null||e===0)}var rq=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:n}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,n)}create(e,t){let i=this.legendMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},wD=new rq,BP=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}},oq=class extends Map{set(e,t){return super.set(e,Ve(t,this.get(e)))}},Xt=new BP,jP=new BP,Tw=new oq,aq=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:r,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:u,swapDefaultAxesCondition:d,hidden:h}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:u,swapDefaultAxesCondition:d}),Xt.set(e,t),h||jP.set(e,t)}create(e,t){let i=this.seriesMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){let t=this.seriesMap.get(e)?.defaultAxes;return t?{axes:Ti(t)}:null}setThemeTemplate(e,t){let i=this.themeTemplates.get(e);this.themeTemplates.set(e,Ve(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getPaletteFactory(e){return this.seriesMap.get(e)?.paletteFactory}getTooltipDefauls(e){return this.seriesMap.get(e)?.tooltipDefaults}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}isDefaultAxisSwapNeeded(e){let t;for(let i of e.series??[]){let{type:n="line"}=i,s=this.seriesMap.get(n)?.swapDefaultAxesCondition?.(i);if(s!=null){if(t!=null&&t!=s)throw new Error("AG Charts - The provided series have incompatible directions");t=s}}return t}},un=new aq,DD=class ml extends Oi{constructor(t){super(),this.chart=t}subscribe(t=ml.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,ml.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=ml.DEFAULT_GROUP){return this.get(t)?.delete(this.chart),this}getChart(){return this.chart}getGroup(t=ml.DEFAULT_GROUP){let i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=ml.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return ml.chartsGroups.get(t)}};DD.chartsGroups=new Map;DD.DEFAULT_GROUP=Symbol("sync-group-default");var lq=DD,zP=class extends Oi{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new Mu(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(e){let t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(let i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new cq(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t,i=!0,n){if(n&&this.rejectCallbacks.set(e,n),this.axisZoomManagers.size===0){let s=this.state.stateId();s==="initial"||s===e||i?(this.state.set(e,t),s!==e&&this.rejectCallbacks.get(s)?.(e)):n?.(s);return}this.state.set(e,t),this.axisZoomManagers.forEach(s=>{s.updateZoom(e,t?.[s.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,i){this.axisZoomManagers.get(t)?.updateZoom(e,i),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?e??(e=i.getZoom()):i.getDirection()==="y"&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){let e={};for(let[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).some(Boolean))return;let i={};for(let[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",k(S({type:"zoom-change"},this.getZoom()),{axes:i,callerId:e}))}},cq=class{constructor(e){this.axis=e;let[t=0,i=1]=e.visibleRange;this.state=new Mu({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Ti(this.state.stateValue())}applyChanges(){let e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},SD=class extends Te{constructor(){super(...arguments),this.enabled=!1}};m([b(pe)],SD.prototype,"enabled",2);m([b(dt)],SD.prototype,"tabIndex",2);var GP=["top","right","bottom","left"];function uq(e){return typeof e=="string"&&GP.includes(e)}function dq(e){let t=[],i=[],n=[...GP];for(let s of e)s instanceof Vu&&(uq(s.position)?i.push(s.position):t.push(s));for(let s of t){let r;do r=n.pop();while(r&&i.includes(r));if(r==null)break;s.position=r}}var hq=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function pq(e,t,i){let n=(u,d,h)=>{let p=[u];for(let f of hq)f in d&&d[f]!=null&&p.push(`${f}=${d[f]}`);return h?.seriesGrouping&&p.push(`seriesGrouping.groupId=${h?.seriesGrouping.groupId}`),p.join(";")},s=new Map,r=0;for(let u of e){let d=n(u.type,u.properties,i?.[r]);s.has(d)||s.set(d,[]),s.get(d)?.push([u,r++])}let o=new Map;for(let u of t){let d=n(u.type,u,u);o.has(d)||o.set(d,[]),o.get(d)?.push(u)}if(![...s.keys()].some(u=>o.has(u)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};let l=[],c=-1;for(let[u,d]of o.entries())for(let h of d){c++;let p=s.get(u);if(p==null||p.length<1){l.push({opts:h,idx:c,status:"add"}),s.delete(u);continue}let[f,g]=p.shift(),y=i?.[g]??{},x=En(y,h??{}),{groupIndex:v,stackIndex:_}=x?.seriesGrouping??{};v!=null||_!=null?l.push({opts:h,series:f,diff:x,idx:g,status:"series-grouping"}):x?l.push({opts:h,series:f,diff:x,idx:g,status:"update"}):l.push({opts:h,series:f,idx:g,status:"no-op"}),p.length===0&&s.delete(u)}for(let u of s.values())for(let[d,h]of u)l.push({series:d,idx:h,status:"remove"});return{status:"overlap",changes:l}}function Pl(e){return e.series?.[0]?.type??"line"}function wl(e){let t=Pl(e);return t==null?!0:t==="cartesian"?(z.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Xt.isCartesian(t)||Q7(t)}function b0(e){let t=Pl(e);return t==null?!1:t==="polar"?(z.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Xt.isPolar(t)||K7(t)}function MD(e){let t=Pl(e);return t==null?!1:t==="hierarchy"?(z.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Xt.isHierarchy(t)||J7(t)}function TD(e){let t=Pl(e);return t==null?!1:t==="topology"?(z.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Xt.isTopology(t)||eq(t)}function ID(e){let t=Pl(e);return t==null?!1:t==="flow-proportion"?(z.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Xt.isFlowProportion(t)||tq(t)}function fq(e){let t=Pl(e);return b0(e)&&t!=="pie"&&t!=="donut"}function gq(e){return e==null?!1:Xt.has(e)}function mq(e){return e==null?!1:Yr.has(e)}var yq=class extends cD{applyOptions(e){for(let t of this.moduleMap.values())t.module.optionsKey in e&&ur(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(let{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},Iw="ag-chart-overlay",FO="ag-chart-dark-overlay",tp=class extends Te{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){if(this.content?.remove(),this.focusBox=i,this.renderer){let n=this.renderer();if(n instanceof HTMLElement)this.content=n;else{let s=Vt("div");s.innerHTML=n,this.content=s.firstElementChild}}else{let n=Vt("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});n.innerText=this.getText(t),this.content=n,e?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(s){n.style.opacity=String(s)},onStop(){n.style.opacity="1"}})}return this.content}removeElement(e=()=>this.content?.remove(),t){if(this.content){if(t){let{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};m([b(U,{optional:!0})],tp.prototype,"text",2);m([b(mn,{optional:!0})],tp.prototype,"renderer",2);var Rp=class extends Te{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new tp("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new tp("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new tp("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(let t of[this.loading,this.noData,this.noVisibleSeries])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};m([b(pe)],Rp.prototype,"darkTheme",2);m([b(Q)],Rp.prototype,"loading",2);m([b(Q)],Rp.prototype,"noData",2);m([b(Q)],Rp.prototype,"noVisibleSeries",2);function vq(e,t){let{animationDuration:i}=up.add,n=i*t,s=Vt("div",`${Iw}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),r=Vt("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=Vt("p",{marginTop:"1em"});o.innerText=e;let a=Vt("div",`${Iw}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Vt("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,r,o,a),s}function _0(e,t=[0,0]){for(let i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function xq(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>_0(n)}}function HP(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>_0(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=i?.[0]??0,n[1]+=i?.[1]??0,n)}}function UP(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>uu.extendDomain(n)}}function Aw(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=t?.[0]??0,i[1]+=t?.[1]??0,i)}}function $P(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:n=>_0(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=n?.[0]??0,s[1]+=n?.[1]??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{let s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]}}}function Ew(e,t,i){let n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,r=[])=>{let o=r[1]-r[0];return t.aggregateFunction(s).map(a=>a/o)}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function WP(e){return()=>{let t=0;return i=>He(i)?(t+=e?Math.max(0,i):i,t):i}}function YP(){return()=>{let e=0;return t=>{if(!He(t))return t;let i=e;return e+=t,i}}}var Vh=new WeakMap;function Hy(e,t){let i=JSON.stringify(e,null,0);return Vh.has(t)||Vh.set(t,new Map),Vh.get(t)?.has(i)||Vh.get(t)?.set(i,t(e)),Vh.get(t)?.get(i)}var ZP={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{let n=i.keys[0],s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s<t?s:t}}},XP={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{let n=i.keys[0],s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s>t?s:t}}},qP={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e?.slice().sort((t,i)=>{for(let n=0;n<t.length;n++){let s=t[n]-i[n];if(s!==0)return s}return 0})};function bq({normaliseTo:e,mode:t}){let i=(n,s)=>{let r=n*e/s;return r>=0?Math.min(e,r):Math.max(-e,r)};return()=>()=>(n,s)=>{let r=[0,0];for(let a of s){let l=n[a],c=typeof l=="number"?l:Math.max(...l),u=c<0?0:1;t==="sum"?r[u]+=c:u===0?r[u]=Math.min(r[u],c):r[u]=Math.max(r[u],c)}let o=Math.max(Math.abs(r[0]),r[1]);for(let a of s){let l=n[a];n[a]=typeof l=="number"?i(l,o):l.map(c=>i(c,o))}}}function C0(e,t,i="sum"){return{type:"group-value-processor",matchGroupIds:e,adjust:Hy({normaliseTo:t,mode:i},bq)}}function _q({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:n}){let s=e[1]-e[0],r=(o,a,l)=>{let c=e[0]+(o-a)/l*s;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(o,a)=>{let[l,c]=o.domain.values[a];i!=null&&(l=i),n!=null&&(c=n);let u=c-l;o.domain.values[a]=[e[0],e[1]];for(let d of o.data){let h=d.values;o.type==="ungrouped"&&(h=[h]);for(let p of h)p[a]=r(p[a],l,u)}}}function Dl(e,t,i,n,s){return{type:"property-value-processor",property:e,adjust:Hy({normaliseTo:t,rangeMin:n,rangeMax:s,zeroDomain:i},_q)}}function zu(e){return{type:"processor",property:"animationValidation",calculate(t){let{keys:i,values:n}=t.defs,{input:s,data:r}=t,o=!0,a=!0,l=[];for(let u=0;u<n.length;u++)e?.includes(n[u].id)&&l.push([u,n[u]]);let c=(u,d,h)=>{if(d.valueType==="category"){let f=t.domain[h][u];o&&(o=f.length===s.count);return}let p=r[0]?.[h][u];for(let f=1;(o||a)&&f<r.length;f++){let g=r[f][h][u];a&&(a=p<=g),o&&(o=p!==g),p=g}};for(let u=0;(o||a)&&u<i.length;u++)c(u,i[u],"keys");for(let u=0;(o||a)&&u<l.length;u++){let[d,h]=l[u];c(d,h,"values")}return{uniqueKeys:o,orderedKeys:a}}}}function Cq({mode:e,separateNegative:t}){return()=>()=>(i,n)=>{let s=[0,0];for(let r of n){let o=i[r],a=Cp(o)&&t?0:1;He(o)&&(e==="normal"&&(s[a]+=o),i[r]=s[a],e==="trailing"&&(s[a]+=o))}}}function wq({mode:e,sum:t}){return()=>{let i=[],n=!0;return()=>(s,r)=>{let o=0;for(let a of r){let l=s[a],c=n&&t==="current"?0:i[a];i[a]=l;let u=t==="current"?l:c;if(!He(l)||!He(c)){s[a]=o;continue}e==="normal"&&(o+=u),s[a]=o,e==="trailing"&&(o+=u)}n=!1}}}function QP(e,t,i,n=!1){let s;if(t.startsWith("window")){let r=t.endsWith("-trailing")?"trailing":"normal";s=Hy({mode:r,sum:i},wq)}else s=Hy({mode:t,separateNegative:n},Cq);return{type:"group-value-processor",matchGroupIds:[e],adjust:s}}function Dq(){return()=>(e,t)=>{let i=new Float64Array(32),n=0;for(let s of t){let r=e[s];i[n]=Number.isFinite(r)?r:NaN,n+=1,e[s]=i.subarray(0,n)}}}function KP(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:Dq}}function Fl(e,t=!0){return{type:"processor",property:"diff",calculate:i=>{let n=new Map,s=new Map,r=new Map,o=new Map,a=Math.max(e.data.length,i.data.length);for(let c=0;c<a;c++){let u=e.data[c],d=i.data[c],h=u?Zr(u.keys):"",p=d?Zr(d.keys):"";if(d&&u&&h===p){Cl(u.values,d.values)||r.set(p,d);continue}o.has(p)?((t||!Cl(o.get(p).values,d.values))&&(r.set(p,d),n.set(p,d)),o.delete(p)):d&&s.set(p,d),s.has(h)?((t||!Cl(s.get(h).values,u.values))&&(r.set(h,u),n.set(h,u)),s.delete(h)):u&&(r.delete(h),o.set(h,u))}return{changed:s.size>0||r.size>0||o.size>0,added:s,updated:r,removed:o,moved:n}}}}function Zr(e,...t){let i;return St(e)?i=e.map(s=>yu(s)).join("___"):i=yu(e),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}var JP=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",e[e.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",e[e.NEAREST_NODE=3]="NEAREST_NODE",e))(JP||{});function AD(e){return e!=null&&m0(e)}function Sq(e){return e!=null}function eF(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return AD;default:return Sq}}function tF(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Ai(e,t,i={}){return S({property:e,type:"key",valueType:tF(t),validation:eF(t)},i)}function qe(e,t,i={}){return S({property:e,type:"value",valueType:tF(t),validation:eF(t)},i)}function ED(e,t={}){let r=t,{min:i=-1/0,max:n=1/0}=r,s=mt(r,["min","max"]);return S({type:"value",property:e,valueType:"range",validation:AD,processor:()=>o=>He(o)?De(i,o,n):o},s)}function mp(e,t,i={}){let o=i,{onlyPositive:n}=o,s=mt(o,["onlyPositive"]);return k(S({},qe(e,t,s)),{processor:WP(n)})}function Mq(e,t,i={}){return k(S({},qe(e,t,i)),{processor:YP()})}function ia(e,t,i="current",n,s){return[qe(e,s,n),QP(n.groupId,t,i,n.separateNegative),...n.rangeId!=null?[UP(n.rangeId,n.groupId)]:[]]}function iF(e,t,i){return[qe(e,t,i),KP(i.groupId)]}var Pp=class{constructor(e,t,{datum:i},n){this.type=e,this.event=t,this.datum=i,this.seriesId=n.id}},kD=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},Fp=(()=>{let e=class extends iP{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=Pp,this.internalId=ls(this),this.rootGroup=new se({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new cD,this._declarationOrder=-1,this.seriesListeners=new ha,this._pickNodeCache=new hD;let{moduleCtx:i,pickModes:n=[1],directionKeys:s={},directionNames:r={},contentGroupVirtual:o=!0,canHaveAxes:a=!1}=t;this.ctx=i,this.directionKeys=s,this.directionNames=r,this.canHaveAxes=a,this.contentGroup=this.rootGroup.appendChild(new se({name:`${this.internalId}-content`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new se({name:`${this.internalId}-highlight`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new se({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new se({name:"highlightLabel",zIndex:10})),this.pickModes=n,this.labelGroup=this.rootGroup.appendChild(new se({name:`${this.internalId}-series-labels`,zIndex:8})),this.annotationGroup=new se({name:`${this.id}-annotation`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(t){this.properties.visible=t,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,i){let{internalId:n,type:s,visible:r}=this;t&&this.ctx.seriesStateManager.deregisterSeries({id:n,type:s}),i&&this.ctx.seriesStateManager.registerSeries({id:n,type:s,visible:r,seriesGrouping:i}),this.fireEvent(new kD(this,i,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t,i=0){let n=0;switch(t){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":i+=15e3;break;case"annotation":n+=15e3;break}return[()=>this._declarationOrder+n,i]}addListener(t,i){return this.seriesListeners.addListener(t,i)}dispatch(t,i){this.seriesListeners.dispatch(t,i)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,i){let n=this.resolveKeyDirection(t),s=i?.[n],r=[];if(!s)return r;let o=(...a)=>{for(let l of a)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):r.push(l)};return o(...s.map(a=>this.properties[a])),r}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){return this.directionKeys[this.resolveKeyDirection(t)]??[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){let i=this.getSeriesDomain(t),n=this.moduleMap.mapModules(s=>s.getDomain(t));return i.concat(n.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){let{dimOpacity:i=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return i}}getStrokeWidth(t){let{strokeWidth:i,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===void 0)return t;switch(this.isItemIdHighlighted()){case 1:return i;case 0:case 2:return t}}isItemIdHighlighted(){let t=this.ctx.highlightManager?.getActiveHighlight()?.series;return t==null?0:t!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(t=>t.getTooltipParams()).reduce((t,i)=>Object.assign(t,i),{})}pickNode(t,i,n=!1){let{pickModes:s,visible:r,rootGroup:o}=this;if(!r||!o.visible||i==="highlight"&&!this.properties.highlight.enabled||i==="highlight-tooltip"&&!this.properties.highlight.enabled||i==="highlight"&&!this.properties.highlight.enabled)return;let a=1/0;if(i==="tooltip"||i==="highlight-tooltip"){let{tooltip:h}=this.properties;a=typeof h.range=="number"?h.range:1/0,n||(n=h.range==="exact")}else if(i==="event"){let{nodeClickRange:h}=this.properties;a=typeof h=="number"?h:1/0,n||(n=h==="exact")}let l=s.filter(h=>!n||h===0),{x:c,y:u}=t,d=JSON.stringify({x:c,y:u,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(d))return this._pickNodeCache.get(d);for(let h of l){let p;switch(h){case 0:p=this.pickNodeExactShape(t);break;case 1:case 2:p=this.pickNodeMainAxisFirst(t,h===2);break;case 3:p=this.pickNodeClosestDatum(t);break}if(p&&p.distance<=a)return this._pickNodeCache.set(d,{pickMode:h,match:p.datum,distance:p.distance})}return this._pickNodeCache.set(d,void 0)}pickNodeExactShape(t){let i=this.contentGroup.pickNode(t.x,t.y);if(i&&i.datum.missing!==!0)return{datum:i.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,i){let n=Jy(t.x,t.y,i);if(n.nearest!==void 0&&n.nearest.datum.missing!==!0)return{datum:n.nearest.datum,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(t,i){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,i){this.fireEvent(new this.NodeEvent("nodeClick",t,i,this))}fireNodeDoubleClickEvent(t,i){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,i,this))}createNodeContextMenuActionEvent(t,i){return new this.NodeEvent("nodeContextMenuAction",t,i,this)}toggleSeriesItem(t,i){this.visible=i,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:t,enabled:i})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return k(S({},this.ctx),{series:this})}getLabelText(t,i,n=String){return t.formatter?this.ctx.callbackCache.call(t.formatter,S({seriesId:this.id},i))??n(i.value):n(i.value)}getMarkerStyle(t,i,n=t.getStyle()){let s={size:i.datum.point?.size??0},r=Ve(s,n);if(t.itemStyler){let o=this.ctx.callbackCache.call(t.itemStyler,k(S(S({seriesId:this.id},r),i),{datum:i.datum.datum}));return Ve(o,r)}return r}updateMarkerStyle(t,i,n,s=i.getStyle(),{applyTranslation:r=!0}={}){let{point:o}=n.datum,a=this.getMarkerStyle(i,n,s),l=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);r?t.setProperties(k(S({visible:l},a),{translationX:o?.x,translationY:o?.y})):t.setProperties(S({visible:l},a)),typeof i.shape=="function"&&!t.dirtyPath&&(t.path.clear(!0),t.updatePath(),t.checkPathDirty())}getMinRects(t,i){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){let{width:i,height:n}=t??{width:NaN,height:NaN},s=t?{seriesRectWidth:i,seriesRectHeight:n}:void 0,r=En(this.nodeDataDependencies,s)!=null;return r&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),r}pickFocus(t){}};return e.highlightedZIndex=1e12,e})();m([Wi({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],Fp.prototype,"seriesGrouping",2);function Tq({defs:e,values:t,xAxis:i,yAxis:n}){if(!(i&&n))throw new Error("Axes must be defined");let s={};for(let[r,{def:o}]of e)if(Object.hasOwn(t,r)){let{scale:a}=o.type==="key"?i:n;s[r]=Math.round(a.convert(t[r]))}return s}function Tu(e,t,i,n){let s=[...e].reverse(),r;for(let o of s){if(!o.visible||!o.rootGroup.visible)continue;let{match:a,distance:l}=o.pickNode(t,i,n)??{};if(!(!a||l==null)&&((!r||r.distance>l)&&(r={series:o,distance:l,datum:a}),l===0))break}return r}var Iq=class extends Oi{constructor(e,t,i){super(),this.id=e,this.chart=t,this.ctx=i,this.series=[];let n=this.ctx.regionManager.getRegion("series"),s=this.ctx.regionManager.getRegion("horizontal-axes"),r=this.ctx.regionManager.getRegion("vertical-axes");this.destroyFns.push(this.ctx.regionManager.listenAll("click",o=>this.onClick(o)),this.ctx.regionManager.listenAll("dblclick",o=>this.onClick(o)),this.ctx.layoutService.addListener("layout-complete",o=>this.layoutComplete(o)),n.addListener("hover",o=>this.onHover(o)),n.addListener("leave",()=>this.onLeave()),s.addListener("leave",()=>this.onLeave()),r.addListener("leave",()=>this.onLeave()))}seriesChanged(e){this.series=e}dataChanged(){this.lastHover=void 0}preSceneRender(){this.lastHover&&this.onHover(this.lastHover)}update(e,t){this.ctx.updateService.update(e,t)}layoutComplete(e){this.seriesRect=e.series.paddedRect}onLeave(){this.lastHover=void 0,this.ctx.cursorManager.updateCursor(this.id)}onHover({offsetX:e,offsetY:t}){let i=Tu(this.series,{x:e,y:t},"event");i?.series.hasEventListener("nodeClick")||i?.series.hasEventListener("nodeDoubleClick")?this.ctx.cursorManager.updateCursor(this.id,"pointer"):this.ctx.cursorManager.updateCursor(this.id)}onClick(e){if(this.seriesRect?.containsPoint(e.offsetX,e.offsetY)&&this.checkSeriesNodeClick(e)){this.update(4),e.preventDefault();return}let t={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(t)}checkSeriesNodeClick(e){let t=Tu(this.series,{x:e.offsetX,y:e.offsetY},"event");return t==null?!1:e.type==="click"?(t.series.fireNodeClickEvent(e.sourceEvent,t.datum),!0):e.type==="dblclick"?(e.preventZoomDblClick=t.distance===0,t.series.fireNodeDoubleClickEvent(e.sourceEvent,t.datum),!0):!1}};function Aq(e){return e instanceof X?e.computeCenter():e?.computeTransformedBBox()?.computeCenter()}function Eq(e,t){let{bounds:i,showFocusBox:n}=t;n&&e?.updateBounds(i)}function nF(e,t){Eq(e,t);let{x:i,y:n}=Aq(t.bounds)??{};if(i!==void 0&&n!==void 0)return{type:"keyboard",offsetX:i,offsetY:n}}var kq=class extends Oi{constructor(e,t,i,n,s){super(),this.id=e,this.chart=t,this.ctx=i,this.chartType=n,this.overlays=s,this.series=[],this.focus={hasFocus:!1,series:void 0,seriesIndex:0,datumIndex:0,datum:void 0};let r=this.ctx.regionManager.getRegion("series");this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",o=>this.layoutComplete(o)),this.ctx.animationManager.addListener("animation-start",()=>this.onAnimationStart()),r.addListener("blur",()=>this.onBlur()),r.addListener("tab",o=>this.onTab(o)),r.addListener("nav-vert",o=>this.onNavVert(o)),r.addListener("nav-hori",o=>this.onNavHori(o)),r.addListener("submit",o=>this.onSubmit(o)),this.ctx.keyNavManager.addListener("browserfocus",o=>this.onBrowserFocus(o)),this.ctx.zoomManager.addListener("zoom-change",()=>{this.ctx.focusIndicator.updateBounds(void 0)}))}seriesChanged(e){this.series=e,this.onBlur()}dataChanged(){this.ctx.focusIndicator.updateBounds(void 0)}preSceneRender(){this.refreshFocus()}layoutComplete(e){this.seriesRect=e.series.rect}refreshFocus(){this.focus.hasFocus&&this.handleSeriesFocus(0,0)}onTab(e){this.handleFocus(0,0),e.preventDefault(),this.focus.hasFocus=!0}onNavVert(e){this.focus.seriesIndex+=e.delta,this.handleFocus(e.delta,0),e.preventDefault()}onNavHori(e){this.focus.datumIndex+=e.delta,this.handleFocus(0,e.delta),e.preventDefault()}onBrowserFocus(e){e.delta>0?(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=0,this.focus.seriesIndex=0):e.delta<0&&(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=1/0,this.focus.seriesIndex=1/0)}onAnimationStart(){this.focus.hasFocus&&this.onBlur()}onBlur(){this.ctx.focusIndicator.updateBounds(void 0),this.focus.hasFocus=!1}handleFocus(e,t){this.focus.hasFocus=!0;let i=this.overlays.getFocusInfo(this.ctx.localeManager);i==null?this.handleSeriesFocus(e,t):(this.ctx.focusIndicator.updateBounds(i.rect),this.ctx.ariaAnnouncementService.announceValue(i.text))}handleSeriesFocus(e,t){if(this.chartType==="hierarchy"){this.handleHierarchySeriesFocus(e,t);return}let{focus:i,seriesRect:n,series:s}=this,r=s.filter(c=>c.visible);if(r.length===0)return;i.seriesIndex=De(0,i.seriesIndex,r.length-1),i.series=r[i.seriesIndex];let{datumIndex:o,seriesIndex:a}=i,l=i.series.pickFocus({datumIndex:o,datumIndexDelta:t,otherIndex:a,otherIndexDelta:e,seriesRect:n});this.updatePickedFocus(l)}handleHierarchySeriesFocus(e,t){this.focus.series=this.series[0];let{focus:{series:i,seriesIndex:n,datumIndex:s},seriesRect:r}=this;if(i===void 0)return;let o=i.pickFocus({datumIndex:s,datumIndexDelta:t,otherIndex:n,otherIndexDelta:e,seriesRect:r});this.updatePickedFocus(o)}updatePickedFocus(e){let{focus:t}=this;if(e===void 0||t.series===void 0)return;let{datum:i,datumIndex:n}=e;t.datumIndex=n,t.datum=i;let s=nF(this.ctx.focusIndicator,e);if(s!==void 0){let r=t.series.getTooltipHtml(i),o=x0.makeTooltipMeta(s,i),a=this.getDatumAriaText(i,r);this.ctx.highlightManager.updateHighlight(this.id,i),this.ctx.tooltipManager.updateTooltip(this.id,o,r),this.ctx.ariaAnnouncementService.announceValue("ariaAnnounceHoverDatum",{datum:a})}}onSubmit(e){let{series:t,datum:i}=this.focus,n=e.sourceEvent.sourceEvent;t!==void 0&&i!==void 0?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),e.preventDefault()}getDatumAriaText(e,t){let i=t.ariaLabel;return e.series.getDatumAriaText?.(e,i)??i}},Lq=class extends Oi{constructor(e,t,i,n){super(),this.id=e,this.chart=t,this.ctx=i,this.highlight=n,this.series=[],this.hoverScheduler=nP(()=>{if(this.pendingHoverEvent){if(this.chart.performUpdateType<=4){this.hoverScheduler.schedule();return}this.handleHover(!1)}});let s=this.ctx.regionManager.getRegion("series"),r=this.ctx.regionManager.getRegion("horizontal-axes"),o=this.ctx.regionManager.getRegion("vertical-axes"),a=20;this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",l=>this.layoutComplete(l)),this.ctx.highlightManager.addListener("highlight-change",l=>this.changeHighlightDatum(l)),s.addListener("hover",l=>this.onHover(l),a),s.addListener("drag",l=>this.onHover(l),a),r.addListener("hover",l=>this.onHover(l)),o.addListener("hover",l=>this.onHover(l)),this.ctx.domManager.addListener("resize",()=>this.clearHighlight()),s.addListener("leave",()=>this.clearHighlight(),a),s.addListener("blur",()=>this.clearHighlight()),this.ctx.animationManager.addListener("animation-start",()=>this.clearHighlight()),this.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearHighlight()),this.ctx.zoomManager.addListener("zoom-change",()=>this.clearHighlight()))}seriesChanged(e){this.series=e}dataChanged(){this.stashedHoverEvent??(this.stashedHoverEvent=this.appliedHoverEvent),this.clearHighlight()}preSceneRender(){this.stashedHoverEvent!=null&&(this.pendingHoverEvent=this.stashedHoverEvent,this.stashedHoverEvent=void 0,this.handleHover(!0))}update(e,t){this.ctx.updateService.update(e,t)}layoutComplete(e){this.hoverRect=e.series.paddedRect}clearHighlight(){this.pendingHoverEvent=void 0,this.appliedHoverEvent=void 0,this.ctx.highlightManager.updateHighlight(this.id)}onHover(e){this.pendingHoverEvent=e,this.hoverScheduler.schedule()}handleHover(e){this.appliedHoverEvent=this.pendingHoverEvent,this.pendingHoverEvent=void 0;let t=this.appliedHoverEvent;if(!t)return;let i=this.ctx.interactionManager.getState();if(i!==16&&i!==4)return;let{offsetX:n,offsetY:s}=t;if(e?this.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,s)){this.clearHighlight();return}let{range:r}=this.highlight,o=r==="tooltip"?"highlight-tooltip":"highlight",a=Tu(this.series,{x:t.offsetX,y:t.offsetY},o);if(a){this.ctx.highlightManager.updateHighlight(this.id,a.datum);return}this.ctx.highlightManager.updateHighlight(this.id)}changeHighlightDatum(e){let t=new Set,{series:i=void 0,datum:n}=e.currentHighlight??{},{series:s=void 0,datum:r}=e.previousHighlight??{};s&&t.add(s),i&&t.add(i),s?.properties.cursor&&r&&this.ctx.cursorManager.updateCursor(s.id),i?.properties.cursor&&i?.properties.cursor!=="default"&&n&&this.ctx.cursorManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:t})}},Nq=class extends Oi{constructor(e,t,i,n){super(),this.id=e,this.chart=t,this.ctx=i,this.tooltip=n,this.series=[],this.hoverScheduler=nP(()=>{if(this.lastHover){if(this.chart.performUpdateType<=4){this.hoverScheduler.schedule();return}this.handleHover(this.lastHover,!1)}});let s=this.ctx.regionManager.getRegion("series"),r=this.ctx.regionManager.getRegion("horizontal-axes"),o=this.ctx.regionManager.getRegion("vertical-axes");this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",a=>this.layoutComplete(a)),s.addListener("hover",a=>this.onHover(a),20),r.addListener("hover",a=>this.onHover(a)),o.addListener("hover",a=>this.onHover(a)),s.addListener("leave",()=>this.clearTooltip()),s.addListener("blur",()=>this.clearTooltip()),s.addListener("contextmenu",()=>this.clearTooltip(),31),r.addListener("leave",()=>this.clearTooltip()),o.addListener("leave",()=>this.clearTooltip()),this.ctx.animationManager.addListener("animation-start",()=>this.clearTooltip()),this.ctx.domManager.addListener("resize",()=>this.clearTooltip()),this.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearTooltip()),this.ctx.zoomManager.addListener("zoom-change",()=>this.clearTooltip()))}seriesChanged(e){this.series=e}dataChanged(){this.ctx.tooltipManager.removeTooltip(this.id)}preSceneRender(){this.lastHover!=null&&this.handleHover(this.lastHover,!0)}layoutComplete(e){this.hoverRect=e.series.paddedRect}onHover(e){this.lastHover=e,this.hoverScheduler.schedule()}clearTooltip(){this.ctx.tooltipManager.removeTooltip(this.id),this.lastHover=void 0}handleHover(e,t){let i=this.ctx.interactionManager.getState();if(i!==16&&i!==4)return;let{offsetX:n,offsetY:s,targetElement:r}=e;if(t?this.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,s)){this.clearTooltip();return}if(r&&this.tooltip.interactive&&this.ctx.domManager.isManagedChildDOMElement(r,"canvas-overlay",or))return;let o=Tu(this.series,{x:n,y:s},"tooltip");if(!o){this.clearTooltip();return}let a=o.series.getTooltipHtml(o.datum);if(this.tooltip.enabled&&o.series.tooltipEnabled&&a!=null){let u=x0.makeTooltipMeta(e,o.datum);this.ctx.tooltipManager.updateTooltip(this.id,u,a)}}},Oq=class extends Oi{constructor(e,t,i,n,s,r){super(),this.ctx=t,this.id=ls(this),this.series=[],this.subManagers=[new kq(this.id,e,t,i,r),new Lq(this.id,e,t,s),new Nq(this.id,e,t,n),new Iq(this.id,e,t)];let o=this.ctx.regionManager.getRegion("series");this.destroyFns.push(()=>this.subManagers.forEach(a=>a.destroy()),o.addListener("contextmenu",a=>this.onContextMenu(a),31),this.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()))}dataChanged(){for(let e of this.subManagers)e.dataChanged?.()}preSceneRender(){for(let e of this.subManagers)e.preSceneRender?.()}seriesChanged(e){this.series=e;for(let t of this.subManagers)t.seriesChanged(e)}onContextMenu(e){let{Default:t,ContextMenu:i}=Np,n;if(this.ctx.interactionManager.getState()&(t|i)){let s=Tu(this.series,{x:e.offsetX,y:e.offsetY},"context-menu");s&&(this.ctx.highlightManager.updateHighlight(this.id),n=s.datum)}this.ctx.contextMenuRegistry.dispatchContext("series",e,{pickedNode:n})}},VO=30,Rq=class{constructor(e,t,i){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,i;let{internalId:n,type:s,rootGroup:r,highlightGroup:o,annotationGroup:a,seriesGrouping:l}=e,{groupIndex:c=n}=l??{};if(this.series[n]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=VO?"aggressive-grouping":"normal"),(t=this.groups)[s]??(t[s]={});let u=this.lookupIdx(c),d=this.groups[s][u];return d||(d=(i=this.groups[s])[u]??(i[u]={type:s,id:u,seriesIds:[],group:this.seriesRoot.appendChild(new se({name:`${s}-content`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new se({name:`${s}-highlight`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new se({name:`${s}-annotation`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))})),this.series[n]={layerState:d,seriesConfig:e},d.seriesIds.push(n),d.group.appendChild(r),d.highlight.appendChild(o),d.annotation.appendChild(a),d.group}changeGroup(e){let{internalId:t,seriesGrouping:i,type:n,rootGroup:s,highlightGroup:r,annotationGroup:o,oldGrouping:a}=e,{groupIndex:l=t}=i??{};this.groups[n]?.[l]?.seriesIds.includes(t)||(this.series[t]!=null&&this.releaseGroup({internalId:t,seriesGrouping:a,type:n,rootGroup:s,highlightGroup:r,annotationGroup:o}),this.requestGroup(e))}releaseGroup(e){let{internalId:t,rootGroup:i,highlightGroup:n,annotationGroup:s,type:r}=e;if(this.series[t]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);let o=this.series[t]?.layerState;if(o&&(o.seriesIds=o.seriesIds.filter(a=>a!==t),o.group.removeChild(i),o.highlight.removeChild(n),o.annotation.removeChild(s)),o?.seriesIds.length===0)this.seriesRoot.removeChild(o.group),this.highlightRoot.removeChild(o.highlight),this.annotationRoot.removeChild(o.annotation),delete this.groups[o.type][o.id],delete this.groups[r][t];else if(o?.seriesIds.length>0){let a=this.series[o?.seriesIds?.[0]]?.seriesConfig;o.group.zIndexSubOrder=a?.getGroupZIndexSubOrder("data"),o.highlight.zIndexSubOrder=a?.getGroupZIndexSubOrder("highlight"),o.annotation.zIndexSubOrder=a?.getGroupZIndexSubOrder("annotation")}delete this.series[t]}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(De(0,e/this.expectedSeriesCount,1)*VO)}destroy(){for(let e of Object.values(this.groups))for(let t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}},Pq=class{constructor(e,t){this.chartLike=e,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("start-layout",i=>this.positionPadding(i)),this.layoutService.addListener("layout-complete",i=>this.alignCaptions(i)),this.layoutService.addListener("start-layout",i=>this.positionCaptions(i)))}destroy(){this.destroyFns.forEach(e=>e())}positionPadding(e){let{shrinkRect:t}=e,{padding:i}=this.chartLike;return t.shrink(i.left,"left"),t.shrink(i.top,"top"),t.shrink(i.right,"right"),t.shrink(i.bottom,"bottom"),k(S({},e),{shrinkRect:t})}positionCaptions(e){let{shrinkRect:t,positions:i,padding:n}=e,{title:s,subtitle:r,footnote:o,titlePadding:a}=this.chartLike,l=t.clone().shrink(a),c=t.clone(),u=f=>{let g=t.height/10,y=f.lineHeight??f.fontSize*gt.defaultLineHeightRatio,x=t.width,v=Math.max(y,g);f.computeTextWrap(x,v)},d=f=>f==="left"?l.x:f==="right"?l.x+l.width:(f!=="center"&&z.error(`invalid textAlign value: ${f}`),l.x+l.width/2),h=(f,g)=>{let y=l.y;f.node.x=d(f.textAlign),f.node.y=y,f.node.textBaseline="top",u(f);let x=f.node.getBBox(),v=Math.ceil(x.y-y+x.height+g);return f.layoutStyle==="block"&&(c.shrink(v+2*a,"top"),l.shrink(v,"top")),x},p=(f,g)=>{let y=l.y+l.height;f.node.x=d(f.textAlign),f.node.y=y,f.node.textBaseline="bottom",u(f);let x=f.node.getBBox(),v=Math.ceil(y-x.y+g);return f.layoutStyle==="block"&&(c.shrink(v+2*a,"bottom"),l.shrink(v,"bottom")),x};if(s.node.visible=s.enabled,r.node.visible=r.enabled,o.node.visible=o.enabled,s.enabled){let{spacing:f=r.enabled?Ct.SMALL_PADDING:Ct.LARGE_PADDING}=s;i.title=h(s,f)}return r.enabled&&(i.subtitle=h(r,r.spacing??0)),o.enabled&&(i.footnote=p(o,o.spacing??0)),n.title=a,k(S({},e),{shrinkRect:c,positions:i})}alignCaptions(e){let{rect:t}=e.series,{title:i,subtitle:n,footnote:s,titlePadding:r}=this.chartLike;for(let o of[i,n,s])if(o.layoutStyle==="overlay"){if(o.textAlign==="left")o.node.x=t.x+r;else if(o.textAlign==="right"){let a=o.node.getBBox();o.node.x=t.x+t.width-a.width-r}}}},Fq=class{constructor(e,t,i,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(e=>z.errorOnce(e))}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return L(this,null,function*(){if(!this.dataService.isLazy())return;let e=this.getValidAxis(),t,i=!0;if(e){let n=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,n),i=this.shouldRefresh(e,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let i=this.lastAxisZooms.get(e.id);return i&&t.min===i.min&&t.max===i.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){let i=e.scale.getDomain?.();if(!t||!i||i.length===0||isNaN(Number(i[0])))return;let n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*t.min),r=new Date(Number(i[0])+n*t.max);return{min:s,max:r}}},Vq=class{constructor(e,t,i,n,s,r,o){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutService=n,this.localeManager=s,this.animationManager=r,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(Iw),this.destroyFns.push(this.layoutService.addListener("layout-complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){let t=this.dataService.isLoading(),i=this.chartLike.series.some(s=>s.hasData),n=this.chartLike.series.some(s=>s.visible);this.overlays.darkTheme?this.overlayElem.classList.add(FO):this.overlayElem.classList.remove(FO),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`,this.toggleOverlay(this.overlays.loading,e,t),this.toggleOverlay(this.overlays.noData,e,!t&&!i),this.toggleOverlay(this.overlays.noVisibleSeries,e,i&&!n)}toggleOverlay(e,t,i){if(this.overlayElem.ariaHidden=(!i).toString(),i){let n=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(n)}else e.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},Ls=ut.create(!0,"opts"),LD=class extends Te{constructor(){super(...arguments),this.padding=new da(0)}};m([b(pe,{optional:!0})],LD.prototype,"clip",2);m([b(Q)],LD.prototype,"padding",2);var ci=(()=>{let e=class sF extends iP{constructor(i,n){var s;super(),this.id=ls(this),this.seriesRoot=new se({name:`${this.id}-series-root`}),this.highlightRoot=new se({name:`${this.id}-highlight-root`,layer:!0,zIndex:5,nonEmptyChildDerivedZIndex:!0}),this.annotationRoot=new se({name:`${this.id}-annotation-root`,layer:!0,zIndex:10}),this.debug=ut.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new da(20),this.titlePadding=0,this.seriesArea=new LD,this.title=new Ct,this.subtitle=new Ct,this.footnote=new Ct,this.keyboard=new SD,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.modulesManager=new yq,this.zoomManager=new zP,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new s7,this.updateRequestors={},this.performUpdateTrigger=r7(f=>L(this,[f],function*({count:p}){this.destroyed||this.updateMutex.acquire(()=>L(this,null,function*(){try{yield this.performUpdate(p)}catch(g){z.error("update error",g)}})).catch(g=>z.errorOnce(g))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=p=>{let f=k(S({},p),{type:"seriesNodeClick"});Object.defineProperty(f,"series",{enumerable:!1,get:()=>p.series}),this.fireEvent(f)},this.onSeriesNodeDoubleClick=p=>{let f=k(S({},p),{type:"seriesNodeDoubleClick"});this.fireEvent(f)},this.seriesGroupingChanged=p=>{if(!(p instanceof kD))return;let{series:f,seriesGrouping:g,oldGrouping:y}=p;f.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:f.internalId,type:f.type,rootGroup:f.rootGroup,highlightGroup:f.highlightGroup,annotationGroup:f.annotationGroup,getGroupZIndexSubOrder:x=>f.getGroupZIndexSubOrder(x),seriesGrouping:g,oldGrouping:y})},this.dataProcessListeners=new Set,this.chartOptions=i;let r=n?.scene,o=n?.container,a=new se({name:"root"}),l=new se({name:"titles",layer:!0,zIndex:8});a.visible=!1,a.append(l),a.append(this.seriesRoot),a.append(this.highlightRoot),a.append(this.annotationRoot),l.append(this.title.node),l.append(this.subtitle.node),l.append(this.footnote.node);let{overrideDevicePixelRatio:c}=i.specialOverrides;this.tooltip=new ds,this.seriesLayerManager=new Rq(this.seriesRoot,this.highlightRoot,this.annotationRoot);let u=this.ctx=new G7(this,{scene:r,root:a,syncManager:new lq(this),container:o,updateCallback:(p=0,f)=>this.update(p,f),updateMutex:this.updateMutex,overrideDevicePixelRatio:c});this._destroyFns.push(u.domManager.addListener("resize",()=>this.parentResize(u.domManager.containerSize))),this.overlays=new Rp,(s=this.overlays.loading).renderer??(s.renderer=()=>vq(this.overlays.loading.getText(u.localeManager),u.animationManager.defaultDuration)),this.processors=[new Pq(this,u.layoutService),new Fq(this,u.dataService,u.updateService,u.zoomManager),new Vq(this,this.overlays,u.dataService,u.layoutService,u.localeManager,u.animationManager,u.domManager)],this.highlight=new NP,this.container=o;let d=this.getModuleContext();u.regionManager.addRegion("series",this.seriesRoot,this.ctx.axisManager.axisGridGroup),u.regionManager.addRegion("horizontal-axes"),u.regionManager.addRegion("vertical-axes");let h=this;this.seriesAreaManager=new Oq({fireEvent:this.fireEvent.bind(h),get performUpdateType(){return h.performUpdateType}},u,this.getChartType(),this.tooltip,this.highlight,this.overlays),u.regionManager.addRegion("root",a),this._destroyFns.push(u.dataService.addListener("data-load",p=>{this.data=p.data}),this.title.registerInteraction(d),this.subtitle.registerInteraction(d),this.footnote.registerInteraction(d),u.interactionManager.addListener("page-left",()=>this.destroy()),u.animationManager.addListener("animation-frame",()=>{this.update(6)}),u.zoomManager.addListener("zoom-change",()=>{this.series.map(f=>f.animationState?.transition("updateData"));let p=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:p})})),this.parentResize(u.domManager.containerSize)}static getInstance(i){return sF.chartsInstances.get(i)}get canvasElement(){return this.ctx.scene.canvas.element}download(i,n){this.ctx.scene.download(i,n)}getCanvasDataURL(i){return this.ctx.scene.getDataURL(i)}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(i=>i.enabled&&i.text).map(i=>i.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(let i of this.series)i.resetAnimation(this.chartAnimationPhase);for(let i of this.axes)i.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(i){if(this.destroyed)return;let n=i?.keepTransferableResources,s;return this.performUpdateType=7,this._destroyFns.forEach(r=>r()),this.processors.forEach(r=>r.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),s={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.zoomManager.destroy(),this.destroyed=!0,Object.freeze(this),s}requestFactoryUpdate(i){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>L(this,null,function*(){this.destroyed||(yield i(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})).catch(n=>z.errorOnce(n)))}update(i=0,n){let{forceNodeDataRefresh:s=!1,skipAnimations:r,seriesToUpdate:o=this.series,newAnimationBatch:a}=n??{};s&&this.series.forEach(l=>l.markNodeDataDirty());for(let l of o)this.seriesToUpdate.add(l);if(r&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),a&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=n?.skipSync??!1,this.debug.check()){let l=new Error().stack??"<unknown>";l=l.replace(/\([^)]*/g,""),this.updateRequestors[l]=i}i<this.performUpdateType&&(this.performUpdateType=i,this.performUpdateTrigger.schedule(n?.backOffMs))}performUpdate(i){return L(this,null,function*(){let{performUpdateType:n,extraDebugStats:s,_performUpdateSplits:r,ctx:o}=this,a=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&n<6&&(o.animationManager.startBatch(this._performUpdateSkipAnimations),o.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",ep[n]);let l=performance.now();r.start??(r.start=l);let c=h=>{r[h]??(r[h]=0),r[h]+=performance.now()-l,l=performance.now()},u=!1;switch(n){case 0:this.updateDOM();case 1:yield this.updateData(),c("\u2B07\uFE0F");case 2:yield this.processData(),this.seriesAreaManager.dataChanged(),c("\u{1F3ED}");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(a)){u=!0;break}yield this.processLayout(),c("\u2316");case 4:if(this.checkUpdateShortcut(4))break;let{seriesRect:h}=this;yield Promise.all(a.map(p=>p.update({seriesRect:h}))),c("\u{1F914}");case 5:if(this.checkUpdateShortcut(5))break;o.updateService.dispatchPreSceneRender(this.getMinRects()),c("\u2196");case 6:if(this.checkUpdateShortcut(6))break;o.animationManager.endBatch(),s.updateShortcutCount=this.updateShortcutCount,yield o.scene.render({debugSplitTimes:r,extraDebugStats:s,seriesRect:this.seriesRect}),this.extraDebugStats={};for(let p in r)delete r[p];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}u||o.updateService.dispatchUpdateComplete(this.getMinRects());let d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((d-r.start)*100)/100,count:i,performUpdateType:ep[n]})})}updateThemeClassName(){let{theme:i}=this.chartOptions.processedOptions,n="ag-charts-theme-",s=[`${n}default`,`${n}default-dark`],r=s[0],o=!1;typeof i=="string"?(r=i.replace("ag-",n),o=i.includes("-dark")):typeof i?.baseTheme=="string"&&(r=i.baseTheme.replace("ag-",n),o=i.baseTheme.includes("-dark")),s.includes(r)||(r=o?s[1]:s[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();let{enabled:i,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabIndex(i?n??0:-1),kl(this.ctx.scene.canvas.element,"role","img"),kl(this.ctx.scene.canvas.element,"aria-label",this.getAriaLabel())}checkUpdateShortcut(i){return this.updateShortcutCount>3?(z.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=i?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(i){if(!(this.width!=null&&this.height!=null)){if(!this._lastAutoSize){let n=this._performUpdateNoRenderCount++,s=(n+1)**2*40;if(n<8)return this.update(3,{seriesToUpdate:i,backOffMs:s}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",s),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}}return this._performUpdateNoRenderCount=0,!0}onAxisChange(i,n){n==null&&i.length===0||this.ctx.axisManager.updateAxes(n??[],i)}onSeriesChange(i,n){let s=n?.filter(r=>!i.includes(r))??[];this.destroySeries(s),this.seriesLayerManager?.setSeriesCount(i.length);for(let r of i){if(n?.includes(r))continue;r.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(r);let o=this;r.chart={get mode(){return o.mode},get isMiniChart(){return!1},get seriesRect(){return o.seriesRect},placeLabels(){return o.placeLabels()}},r.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(r),r.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(i)}destroySeries(i){i?.forEach(n=>{n.removeEventListener("nodeClick",this.onSeriesNodeClick),n.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.chart=void 0})}addSeriesListeners(i){this.hasEventListener("seriesNodeClick")&&i.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&i.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(i)})}assignSeriesToAxes(){this.axes.forEach(i=>{i.boundSeries=this.series.filter(n=>n.axes[i.direction]===i)})}assignAxesToSeries(){let i=uD(this.axes,n=>n.direction);this.series.forEach(n=>{n.directions.forEach(s=>{let r=i[s];if(!r){z.warnOnce(`no available axis for direction [${s}]; check series and axes configuration.`);return}let o=n.getKeys(s),a=r.find(l=>!l.keys.length||o.some(c=>l.keys.includes(c)));if(!a){z.warnOnce(`no matching axis for direction [${s}] and keys [${o}]; check series and axes configuration.`);return}n.axes[s]=a})})}parentResize(i){if(i==null||this.width!=null&&this.height!=null)return;let{width:n,height:s}=i;if(n=Math.floor(n),s=Math.floor(s),n===0&&s===0)return;let[r=0,o=0]=this._lastAutoSize??[];r===n&&o===s||(this._lastAutoSize=[n,s],this.resize("SizeMonitor",{}))}resize(i,n){let{scene:s,animationManager:r}=this.ctx,{inWidth:o,inHeight:a,inMinWidth:l,inMinHeight:c}=n;this.ctx.domManager.setSizeOptions(l??this.minWidth,c??this.minHeight,o??this.width,a??this.height);let u=o??this.width??this._lastAutoSize?.[0],d=a??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${i}`,{width:u,height:d,stack:new Error().stack}),!(u==null||d==null||!He(u)||!He(d))&&s.resize(u,d)){r.reset();let h=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(h=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})}}updateData(){return L(this,null,function*(){this.series.forEach(n=>n.setChartData(this.data));let i=this.modulesManager.mapModules(n=>n.updateData?.({data:this.data}));yield Promise.all(i)})}processData(){return L(this,null,function*(){if(this.series.some(r=>r.canHaveAxes)){this.assignAxesToSeries();let r=this.modulesManager.getModule("sync");r?.enabled?r.syncAxes(this._skipSync):this.assignSeriesToAxes()}let i=new VP(this.mode),n=this.series.map(r=>r.processData(i)),s=this.modulesManager.mapModules(r=>r.processData?.({dataController:i}));i.execute(),yield Promise.all([...n,...s]);for(let{legendType:r,legend:o}of this.modulesManager.legends())o.data=this.getLegendData(r,this.mode!=="integrated");this.dataProcessListeners.forEach(r=>r()),this.dataProcessListeners.clear()})}placeLabels(){let i=[],n=[];for(let u of this.series){if(!u.visible)continue;let d=u.getLabelData();kX(d?.[0])&&(n.push(d),i.push(u))}let{seriesRect:s}=this,{top:r,right:o,bottom:a,left:l}=this.seriesArea.padding,c=s&&n.length>0?NX(n,{x:-l,y:-r,width:s.width+l+o,height:s.height+r+a}):[];return new Map(c.map((u,d)=>[i[d],u]))}getLegendData(i,n){var s;let r=this.series.filter(a=>a.properties.showInLegend).flatMap(a=>a.getLegendData(i));if(n&&(a=>a.every(l=>l.legendType==="category"))(r)){let a={},l=new Map(this.series.map(c=>[c.id,c.type]));for(let{seriesId:c,symbols:[{marker:u}],label:d}of r){if(u.fill==null)continue;let h=l.get(c),p=a[h]??(a[h]={});p[s=d.text]??(p[s]=u.fill),p[d.text]!==u.fill&&z.warnOnce(`legend item '${d.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return r}processLayout(){return L(this,null,function*(){let i=this.animationRect;yield this.performLayout(),i&&!this.animationRect?.equals(i)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return L(this,null,function*(){let{width:i,height:n}=this.ctx.scene,s={shrinkRect:new X(0,0,i,n),positions:{},padding:{}};s=this.ctx.layoutService.dispatchPerformLayout("start-layout",s),s=this.ctx.layoutService.dispatchPerformLayout("before-series",s);for(let r of this.modulesManager.modules())r.performLayout!=null&&(s=yield r.performLayout(s));return s.shrinkRect})}waitForUpdate(i=1e4,n=!1){return L(this,null,function*(){let s=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-s>i){let r=`Chart.waitForUpdate() timeout of ${i} reached - first chart update taking too long.`;if(n)throw new Error(r);z.warnOnce(r)}yield n7(50)}yield this.updateMutex.waitForClearAcquireQueue()})}waitForDataProcess(i){return new Promise(n=>{this.dataProcessListeners.add(n),In(i)&&setTimeout(()=>{this.dataProcessListeners.has(n)&&(this.dataProcessListeners.delete(n),n())},i)})}getMinRects(){let{width:i,height:n}=this.ctx.scene,s=this.series.map(d=>d.getMinRects(i,n)).filter(lp);if(s.length===0)return;let r=0,o=0,a=0,l=0;for(let{minRect:d,minVisibleRect:h}of s)r=Math.max(r,d.width),o=Math.max(o,d.height),a=Math.max(a,h.width),l=Math.max(l,h.height);let c=new X(0,0,r,o),u=c.clone();return a>0&&l>0&&(u=new X(0,0,a,l)),{minRect:c,minVisibleRect:u}}filterMiniChartSeries(i){return i?.filter(n=>n.showInMiniChart!==!1)}applyOptions(i){let s=i!==this.chartOptions?this.chartOptions.processedOptions:{},r=i.processedOptions,o=i.diffOptions(s);if(o==null)return;Ls("Chart.applyOptions() - applying delta",o);let a=this.applyModules(r),l=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState"];o.listeners&&this.registerListeners(this,o.listeners),mu(this,o,{skip:l});let c=!1,u="no-op";o.series!=null&&(u=this.applySeries(this,o.series,s?.series),c=!0),u==="replaced"&&this.resetAnimations(),this.applyAxes(this,r,s,u,[],!0)&&(c=!0),o.data&&(this.data=o.data),o.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,o.legend.listeners),o.listeners&&this.updateAllSeriesListeners(),o.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=o.locale?.localeText),this.chartOptions=i;let d=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!d?.enabled&&!h?.enabled&&this.ctx.zoomManager.updateZoom("chart");let p=d?.miniChart,f=r.navigator?.miniChart?.series??r.series;p?.enabled===!0&&f!=null?this.applyMiniChartOptions(p,f,r,s):p?.enabled===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(i.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(o,u));let y=c||a?0:3;this.maybeResetAnimations(u),Ls("Chart.applyOptions() - update type",ep[y],{seriesStatus:u,forceNodeDataRefresh:c}),this.update(y,{forceNodeDataRefresh:c,newAnimationBatch:!0}),o.initialState&&this.applyInitialState(i.userOptions.initialState)}applyInitialState(i){let{ctx:{annotationManager:n,stateManager:s}}=this;if(i?.annotations!=null){let r=i.annotations.map(o=>{let a=n.getAnnotationTypeStyles(o.type);return Ve(o,a)});s.setState(n,r)}}maybeResetAnimations(i){if(this.mode==="standalone")switch(i){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(i,n){let s=!!i.data||n==="data-change"||n==="replaced",r=wD.getKeys(),o=Object.values(r).some(l=>i[l]!=null),a=i.title!=null&&i.subtitle!=null;return s||o||a}applyMiniChartOptions(i,n,s,r){let o=r?.navigator?.miniChart?.series??r?.series,a=this.applySeries(i,this.filterMiniChartSeries(n),this.filterMiniChartSeries(o));this.applyAxes(i,s,r,a,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let l=i.axes,c=l.find(u=>u.direction==="x");for(let u of l)u.gridLine.enabled=!1,u.label.enabled=u===c,u.tick.enabled=!1,u.interactionEnabled=!1;if(c!=null){let u=s.navigator?.miniChart,d=u?.label,h=u?.label?.interval;c.line.enabled=!1,c.label.set(hw(d,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),c.tick.set(hw(h,["enabled","width","size","color","interval","step"]));let p=h?.step;p!=null&&(c.interval.step=p)}}applyModules(i){let{type:n}=this.constructor,s=!1;for(let r of ta.byType("root","legend")){let a=i[r.optionsKey]!=null&&r.chartTypes.includes(n);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,l=>l.moduleFactory(this.getModuleContext())),r.type==="legend"&&this.modulesManager.getModule(r)?.attachLegend(this.ctx.scene),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),s=!0)}return s}applySeries(i,n,s){if(!n)return"no-change";let r=pq(i.series,n,s);if(r.status==="no-overlap")return Ls(`Chart.applySeries() - creating new series instances, status: ${r.status}`,r),i.series=n.map(u=>this.createSeries(u)),"replaced";Ls("Chart.applySeries() - matchResult",r);let o=[],a=!1,l=!1,c=!1;for(let u of r.changes)switch(l||(l=u.status==="series-grouping"),a||(a=u.diff?.data!=null),c||(c=u.status!=="no-op"),u.status){case"add":let d=this.createSeries(u.opts);o.push(d),Ls("Chart.applySeries() - created new series",d);break;case"remove":Ls(`Chart.applySeries() - removing series at previous idx ${u.idx}`,u.series);break;case"no-op":o.push(u.series),Ls(`Chart.applySeries() - no change to series at previous idx ${u.idx}`,u.series);break;case"series-grouping":case"update":default:let{series:h,diff:p,idx:f}=u;Ls(`Chart.applySeries() - applying series diff previous idx ${f}`,p,h),this.applySeriesValues(h,p),h.markNodeDataDirty(),o.push(h)}for(let u=0;u<o.length;u++)o[u]._declarationOrder=u;return Ls("Chart.applySeries() - final series instances",o),i.series=o,l?"series-grouping-change":a?"data-change":c?"updated":"no-op"}applyAxes(i,n,s,r,o=[],a=!1){if(!("axes"in n)||!n.axes)return!1;o=["axes[].type",...o];let{axes:l}=n;if(!(r==="replaced")&&i.axes.length===l.length&&i.axes.every((h,p)=>h.type===l[p].type)&&wl(s))return i.axes.forEach((h,p)=>{let f=s.axes?.[p]??{},g=En(f,l[p]);Ls(`Chart.applyAxes() - applying axis diff idx ${p}`,g);let y=`axes[${p}]`;mu(h,g,{path:y,skip:o})}),!0;Ls(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${r}`),i.axes=this.createAxis(l,o);let d={x:[],y:[]};return i.axes.forEach(h=>d[h.direction].push(h.getRegionBBoxProvider())),a&&(this.ctx.regionManager.updateRegion("horizontal-axes",...d.x),this.ctx.regionManager.updateRegion("vertical-axes",...d.y)),!0}createSeries(i){let n=un.create(i.type,this.getModuleContext());return this.applySeriesOptionModules(n,i),this.applySeriesValues(n,i),n}applySeriesOptionModules(i,n){let s=i.createModuleContext(),r=i.getModuleMap();for(let o of ta.byType("series-option"))o.optionsKey in n&&o.seriesTypes.includes(i.type)&&r.addModule(o,a=>a.moduleFactory(s))}applySeriesValues(i,n){let s=i.getModuleMap(),d=n,{type:r,data:o,listeners:a,seriesGrouping:l,showInMiniChart:c}=d,u=mt(d,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let h of ju)if(h.type==="series-option"&&h.optionsKey in u){let p=s.getModule(h.optionsKey);if(p){let f=u[h.optionsKey];delete u[h.optionsKey],p.properties.set(f)}}i.properties.set(u),"data"in n&&i.setOptionsData(o),a&&this.registerListeners(i,a),"seriesGrouping"in n&&(l==null?i.seriesGrouping=void 0:i.seriesGrouping=S(S({},i.seriesGrouping),l))}createAxis(i,n){let s=[],r=this.getModuleContext();for(let o=0;o<i.length;o++){let a=i[o],l=Yr.create(a.type,r);this.applyAxisModules(l,a),mu(l,a,{path:`axes[${o}]`,skip:n}),s.push(l)}return dq(s),s}applyAxisModules(i,n){let s=i.createModuleContext(),r=i.getModuleMap();for(let o of ta.byType("axis-option")){let a=n[o.optionsKey]!=null;a!==r.isEnabled(o)&&(a?(r.addModule(o,l=>l.moduleFactory(s)),i[o.optionsKey]=r.getModule(o)):(r.removeModule(o),delete i[o.optionsKey]))}}registerListeners(i,n){i.clearEventListeners();for(let[s,r]of Object.entries(n))Qr(r)&&i.addEventListener(s,r)}};return e.chartsInstances=new WeakMap,e})();m([Wi({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),ci.chartsInstances.set(e,this))},oldValue(e){ci.chartsInstances.delete(e)}})],ci.prototype,"container",2);m([Wi({newValue(e){this.resize("width option",{inWidth:e})}})],ci.prototype,"width",2);m([Wi({newValue(e){this.resize("height option",{inHeight:e})}})],ci.prototype,"height",2);m([Wi({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],ci.prototype,"minWidth",2);m([Wi({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],ci.prototype,"minHeight",2);m([b(Q)],ci.prototype,"padding",2);m([b(dt)],ci.prototype,"titlePadding",2);m([b(Q)],ci.prototype,"seriesArea",2);m([b(Q)],ci.prototype,"title",2);m([b(Q)],ci.prototype,"subtitle",2);m([b(Q)],ci.prototype,"footnote",2);m([b(Q)],ci.prototype,"keyboard",2);m([b(ht(["standalone","integrated"],"a chart mode"))],ci.prototype,"mode",2);m([Wi({changeValue(e,t){this.onAxisChange(e,t)}})],ci.prototype,"axes",2);m([Wi({changeValue(e,t){this.onSeriesChange(e,t)}})],ci.prototype,"series",2);var Gu=ci,Bq=class{constructor(e,t,i){this.root=new Gq(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){let i={hitTester:e,value:t,distanceSquared:(n,s)=>e.distanceSquared(n,s)};this.root.addElem(i)}find(e,t){let i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},jq=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},zq=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??X.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(this.subdivisions===void 0?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(let t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){let{x:e,y:t,width:i,height:n}=this.boundary,{capacity:s}=this,r=this.maxdepth-1,o=i/2,a=n/2,l=new X(e,t,o,a),c=new X(e+o,t,o,a),u=new X(e,t+a,o,a),d=new X(e+o,t+a,o,a);return new jq(this.child(s,r,l),this.child(s,r,c),this.child(s,r,u),this.child(s,r,d))}},Gq=class rF extends zq{addCondition(t){let{x:i,y:n}=t.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(t,i,n){let{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(t,i)<s.distanceSquared}findAction(t,i,n){let s=Jy(t,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(t,i,n){return new rF(t,i,n)}},Xi=(()=>{let e=class extends Zi{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){let{x:t,y:i,size:n}=this,{center:s}=this.constructor;return new X(t-n*s.x,i-n*s.y,n,n)}computeTransformedBBox(){return super.computeTransformedBBox()}applyPath(t,i){let{path:n}=this,{x:s,y:r}=this;this.repeat!=null&&(s=0,r=0),n.clear();for(let{x:o,y:a,t:l}of i)s+=o*t,r+=a*t,l==="move"?n.moveTo(s,r):n.lineTo(s,r);n.closePath()}executeFill(t,i){if(!i)return;if(this.repeat==null)return super.executeFill(t,i);t.save();let n=this.translationX,s=this.translationY;for(let r of this.repeat)t.translate(r.x-n,r.y-s),t.fill(i),n=r.x,s=r.y;t.restore()}executeStroke(t,i){if(!i)return;if(this.repeat==null)return super.executeStroke(t,i);t.save();let n=this.translationX,s=this.translationY;for(let r of this.repeat)t.translate(r.x-n,r.y-s),t.stroke(i),n=r.x,s=r.y;t.restore()}};return e.center={x:.5,y:.5},e})();m([ye()],Xi.prototype,"x",2);m([ye()],Xi.prototype,"y",2);m([ye({convertor:Math.abs})],Xi.prototype,"size",2);m([ye()],Xi.prototype,"repeat",2);var Sl=(()=>{let e=class extends Xi{updatePath(){let{x:t,y:i,path:n,size:s}=this,r=s/2;n.clear(),n.arc(t,i,r,0,Math.PI*2),n.closePath()}};return e.className="Circle",e})(),Hq=(()=>{let e=class oF extends Xi{updatePath(){let i=this.size/4.2;super.applyPath(i,oF.moves)}};return e.className="Cross",e.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],e})(),Uq=Hq,$q=(()=>{let e=class aF extends Xi{updatePath(){let i=this.size/2;super.applyPath(i,aF.moves)}};return e.className="Diamond",e.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],e})(),lF=$q,Wq=(()=>{let e=class extends Xi{rad(t){return t/180*Math.PI}updatePath(){let{x:t,path:i,size:n,rad:s}=this,r=n/4,o=this.y+r/2;i.clear(),i.arc(t-r,o-r,r,s(130),s(330)),i.arc(t+r,o-r,r,s(220),s(50)),i.lineTo(t,o+r),i.closePath()}};return e.className="Heart",e})(),Yq=(()=>{let e=class extends Xi{updatePath(){let{path:t,x:i,y:n}=this,s=this.size,r=.5,o=1;t.clear(),t.moveTo(i+(.15625-r)*s,n+(.34375-o)*s),t.cubicCurveTo(i+(.15625-r)*s,n+(.151491-o)*s,i+(.307741-r)*s,n+(0-o)*s,i+(.5-r)*s,n+(0-o)*s),t.cubicCurveTo(i+(.692259-r)*s,n+(0-o)*s,i+(.84375-r)*s,n+(.151491-o)*s,i+(.84375-r)*s,n+(.34375-o)*s),t.cubicCurveTo(i+(.84375-r)*s,n+(.493824-o)*s,i+(.784625-r)*s,n+(.600181-o)*s,i+(.716461-r)*s,n+(.695393-o)*s),t.cubicCurveTo(i+(.699009-r)*s,n+(.719769-o)*s,i+(.681271-r)*s,n+(.743104-o)*s,i+(.663785-r)*s,n+(.766105-o)*s),t.cubicCurveTo(i+(.611893-r)*s,n+(.834367-o)*s,i+(.562228-r)*s,n+(.899699-o)*s,i+(.528896-r)*s,n+(.980648-o)*s),t.cubicCurveTo(i+(.524075-r)*s,n+(.992358-o)*s,i+(.512663-r)*s,n+(1-o)*s,i+(.5-r)*s,n+(1-o)*s),t.cubicCurveTo(i+(.487337-r)*s,n+(1-o)*s,i+(.475925-r)*s,n+(.992358-o)*s,i+(.471104-r)*s,n+(.980648-o)*s),t.cubicCurveTo(i+(.487337-r)*s,n+(1-o)*s,i+(.475925-r)*s,n+(.992358-o)*s,i+(.471104-r)*s,n+(.980648-o)*s),t.cubicCurveTo(i+(.437772-r)*s,n+(.899699-o)*s,i+(.388107-r)*s,n+(.834367-o)*s,i+(.336215-r)*s,n+(.766105-o)*s),t.cubicCurveTo(i+(.318729-r)*s,n+(.743104-o)*s,i+(.300991-r)*s,n+(.719769-o)*s,i+(.283539-r)*s,n+(.695393-o)*s),t.cubicCurveTo(i+(.215375-r)*s,n+(.600181-o)*s,i+(.15625-r)*s,n+(.493824-o)*s,i+(.15625-r)*s,n+(.34375-o)*s),t.closePath()}};return e.className="MapPin",e.center={x:.5,y:1},e})(),Zq=(()=>{let e=class cF extends Xi{updatePath(){let i=this.size/3;super.applyPath(i,cF.moves)}};return e.className="Plus",e.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],e})(),Xq=Zq,Uy=(()=>{let e=class extends Xi{updatePath(){let{path:t,x:i,y:n}=this,s=this.size/2;t.clear(),t.moveTo(this.align(i-s),this.align(n-s)),t.lineTo(this.align(i+s),this.align(n-s)),t.lineTo(this.align(i+s),this.align(n+s)),t.lineTo(this.align(i-s),this.align(n+s)),t.closePath()}};return e.className="Square",e})(),qq=(()=>{let e=class extends Xi{updatePath(){let{x:t,y:i,path:n,size:s}=this,r=5,o=s/2,a=Math.PI/2;n.clear();for(let l=0;l<r*2;l++){let c=l%2===0?s:o,u=l*Math.PI/r-a,d=t+Math.cos(u)*c,h=i+Math.sin(u)*c;n.lineTo(d,h)}n.closePath()}};return e.className="Star",e})(),Qq=(()=>{let e=class uF extends Xi{updatePath(){let i=this.size*1.1;super.applyPath(i,uF.moves)}};return e.className="Triangle",e.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],e})(),vu=Qq,dF={circle:Sl,cross:Uq,diamond:lF,heart:Wq,pin:Yq,plus:Xq,square:Uy,star:qq,triangle:vu},Kq=Object.keys(dF);function hF(e){return typeof e=="string"&&Kq.includes(e)}function hr(e=Uy){return hF(e)?dF[e]:typeof e=="function"?e:Uy}var ND=class extends Fp{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation({xScale:e,yScale:t}){let i=st.is(e),n=st.is(t);return{isContinuousX:i,isContinuousY:n,xScaleType:e?.type,yScaleType:t?.type}}getModulePropertyDefinitions(){let e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules(i=>i.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}requestDataModel(e,t,i){return L(this,null,function*(){i.props.push(...this.getModulePropertyDefinitions());let{dataModel:n,processedData:s}=yield e.request(this.id,t??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}})}isProcessedDataAnimatable(){let e=this.processedData?.reduced?.animationValidation;if(!e)return!0;let{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){let t=this.getNodeData();if(t===void 0||t.length===0)return;let i=this.computeFocusDatumIndex(e,t);if(i===void 0)return;let{showFocusBox:n}=this,s=t[i],r=k(S({},e),{datumIndex:i}),o=this.computeFocusBounds(r);if(o!==void 0)return{bounds:o,showFocusBox:n,datum:s,datumIndex:i}}computeFocusDatumIndex(e,t){let i=a=>{let{missing:l=!1,enabled:c=!0,focusable:u=!0}=t[a];return!l&&c&&u},n=a=>{for(;a>=0&&!i(a);)a--;return a===-1?void 0:a},s=a=>{for(;a<t.length&&!i(a);)a++;return a===t.length?void 0:a},r,o=De(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?r=n(o):e.datumIndexDelta>0?r=s(o):(r??(r=s(o)),r??(r=n(o))),r===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:r}},io=class extends Te{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};m([b(it,{optional:!0})],io.prototype,"fill",2);m([b(Ke,{optional:!0})],io.prototype,"fillOpacity",2);m([b(it,{optional:!0})],io.prototype,"stroke",2);m([b(H,{optional:!0})],io.prototype,"strokeWidth",2);m([b(Ke,{optional:!0})],io.prototype,"strokeOpacity",2);m([b(Jr,{optional:!0})],io.prototype,"lineDash",2);m([b(H,{optional:!0})],io.prototype,"lineDashOffset",2);var w0=class extends Te{};m([b(H,{optional:!0})],w0.prototype,"strokeWidth",2);m([b(Ke,{optional:!0})],w0.prototype,"dimOpacity",2);m([b(pe,{optional:!0})],w0.prototype,"enabled",2);var pF=class extends Te{constructor(){super(...arguments),this.color="black"}};m([b(it,{optional:!0})],pF.prototype,"color",2);var OD=class extends Te{constructor(){super(...arguments),this.enabled=!0}};m([b(pe,{optional:!0})],OD.prototype,"enabled",2);var Vp=class extends Te{constructor(){super(...arguments),this.item=new io,this.series=new w0,this.text=new pF}};m([b(Q)],Vp.prototype,"item",2);m([b(Q)],Vp.prototype,"series",2);m([b(Q)],Vp.prototype,"text",2);var fs=class extends Te{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new OD,this.highlightStyle=new Vp}};m([b(U,{optional:!0})],fs.prototype,"id",2);m([b(pe)],fs.prototype,"visible",2);m([b(pe)],fs.prototype,"showInLegend",2);m([b(U)],fs.prototype,"cursor",2);m([b(u0)],fs.prototype,"nodeClickRange",2);m([b(Q)],fs.prototype,"highlight",2);m([b(Q)],fs.prototype,"highlightStyle",2);var Vl={x:["xKey"],y:["yKey"]},Bl={x:["xName"],y:["yName"]},RD=class extends Pp{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},no=class extends fs{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};m([b(U,{optional:!0})],no.prototype,"legendItemName",2);m([b(pe,{optional:!0})],no.prototype,"pickOutsideVisibleMinorAxis",2);var pa=class extends ND{constructor(d){var h=d,{pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:l,directionNames:c}=h,u=mt(h,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"]);if(super(S({directionKeys:l,directionNames:c,canHaveAxes:!0},u)),this.NodeEvent=RD,this.dataNodeGroup=this.contentGroup.appendChild(new se({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new se({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new se({name:`${this.id}-series-labels`,zIndex:8,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=bt.select(this.labelGroup,gt),this.highlightSelection=bt.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=bt.select(this.highlightLabel,gt),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=ut.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:r},this.paths=[];for(let p=0;p<e.length;p++)this.paths[p]=new Zi({name:`${this.id}-${e[p]}`}),this.paths[p].zIndex=4,this.paths[p].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",p),this.contentGroup.appendChild(this.paths[p]);this.datumSelection=bt.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=bt.select(this.markerGroup,()=>this.markerFactory(),r),this.animationState=new Ep("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>this.animateWaitingUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update(t){return L(this,arguments,function*({seriesRect:e}){let{visible:i,_contextNodeData:n}=this,r=this.ctx.highlightManager?.getActiveHighlight()?.series===this,o=this.checkResize(e),a=yield this.updateHighlightSelection(r);yield this.updateSelections(i),yield this.updateNodes(a,r,i);let l=this.getAnimationData(e,n);l&&(o&&this.animationState.transition("resize",l),this.animationState.transition("update",l))})}updateSelections(e){return L(this,null,function*(){var t;let i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=yield this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=n)),this.minRectsCache.dirtyNodeData=!0;let{dataModel:s,processedData:r}=this;s!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:r})}yield this.updateSeriesSelections()}})}updateSeriesSelections(e){return L(this,null,function*(){let{datumSelection:t,labelSelection:i,markerSelection:n,paths:s}=this,r=this._contextNodeData;if(!r)return;let{nodeData:o,labelData:a,itemId:l}=r;yield this.updatePaths({seriesHighlighted:e,itemId:l,contextData:r,paths:s}),this.datumSelection=yield this.updateDatumSelection({nodeData:o,datumSelection:t}),this.labelSelection=yield this.updateLabelSelection({labelData:a,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=yield this.updateMarkerSelection({nodeData:o,markerSelection:n}))})}markerFactory(){let e=hr();return new e}getGroupZIndexSubOrder(e,t=0){let i=super.getGroupZIndexSubOrder(e,t);if(e==="paths"){let[n]=i,s=this.opts.pathsZIndexSubOrderOffset[t]??0;i[0]=Qr(n)?()=>Number(n())+s:Number(n)+s}return i}updateNodes(e,t,i){return L(this,null,function*(){let{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:r,hasHighlightedLabels:o}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.rootGroup.visible=a||l,this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&t;let c=this.getOpacity();r?(yield this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(yield this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),o&&(yield this.updateLabelNodes({labelSelection:s}));let{dataNodeGroup:u,markerGroup:d,datumSelection:h,labelSelection:p,markerSelection:f,paths:g,labelGroup:y}=this,{itemId:x}=this.contextNodeData??{};u.opacity=c,u.visible=a||l,y.visible=l,r&&(d.opacity=c,d.zIndex=u.zIndex>=4?u.zIndex:u.zIndex+1,d.visible=l),y&&(y.opacity=c),yield this.updatePathNodes({seriesHighlighted:t,itemId:x,paths:g,opacity:c,visible:l,animationEnabled:a}),u.visible&&(yield this.updateDatumNodes({datumSelection:h,highlightedItems:e,isHighlight:!1}),yield this.updateLabelNodes({labelSelection:p}),r&&(yield this.updateMarkerNodes({markerSelection:f,isHighlight:!1})))})}getHighlightLabelData(e,t){let i=e.filter(n=>n.datum===t.datum&&n.itemId===t.itemId);return i.length===0?void 0:i}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){return L(this,null,function*(){let{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;let s=this.ctx.highlightManager?.getActiveHighlight(),r=e&&s?.datum?s:void 0,o,a;if(r!=null){let l=this.isLabelEnabled(),{labelData:c,nodeData:u}=n;a=this.getHighlightData(u,r),o=l?this.getHighlightLabelData(c,r):void 0}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:a,highlightSelection:t}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),a})}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){let{width:e,height:t}=this.ctx.scene.canvas,i=new X(0,0,e,t);this.quadtree=new Bq(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){let t=super.pickNodeExactShape(e);if(t)return t;let{x:i,y:n}=e,{opts:{hasMarkers:s}}=this,r,{dataNodeGroup:o,markerGroup:a}=this;if(r=o.pickNode(i,n),!r&&s&&(r=a?.pickNode(i,n)),r&&r.datum.missing!==!0)return{datum:r.datum,distance:0};for(let l of this.moduleMap.modules()){let{datum:c}=l.pickNodeExact(e)??{};if(c!=null&&c?.missing!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(e){let{x:t,y:i}=e,{axes:n,rootGroup:s,_contextNodeData:r}=this;if(!r)return;let o=n.x,a=n.y,l=s.transformPoint(t,i),c=1/0,u;for(let d of r.nodeData){let{point:{x:h=NaN,y:p=NaN}={}}=d;if(isNaN(h)||isNaN(p)||!(o?.inRange(h)&&a?.inRange(p)))continue;let g=Math.max((l.x-h)**2+(l.y-p)**2,0);g<c&&(c=g,u=d)}for(let d of this.moduleMap.modules()){let h=d.pickNodeNearest(e);if(h!==void 0&&h.distanceSquared<c){c=h.distanceSquared,u=h.datum;break}}if(u){let d=Math.max(Math.sqrt(c)-(u.point?.size??0),0);return{datum:u,distance:d}}}pickNodeMainAxisFirst(e,t){let{x:i,y:n}=e,{axes:s,rootGroup:r,_contextNodeData:o}=this,{pickOutsideVisibleMinorAxis:a}=this.properties;if(!o)return;let l=s.x,c=s.y,u=[l,c].filter(y=>y instanceof Bu).map(y=>y.direction);if(t&&u.length===0)return;let[d="x"]=u,h=r.transformPoint(i,n),p=[h.x,h.y];d!=="x"&&p.reverse();let f=[1/0,1/0],g;for(let y of o.nodeData){let{x=NaN,y:v=NaN}=y.point??y.midPoint??{};if(isNaN(x)||isNaN(v)||y.missing===!0)continue;let _=[l?.inRange(x),c?.inRange(v)];if(d!=="x"&&_.reverse(),!_[0]||!a&&!_[1])continue;let C=[x,v];d!=="x"&&C.reverse();let w=!0;for(let D=0;D<C.length;D++){let M=Math.abs(C[D]-p[D]);if(M>f[D]){w=!1;break}M<f[D]&&(f[D]=M,f.fill(1/0,D+1,f.length))}w&&(g=y)}if(g){let y=Math.max(f[0]**2+f[1]**2-(g.point?.size??0),0);for(let x of this.moduleMap.modules()){let v=x.pickNodeMainAxisFirst(e);if(v!==void 0&&v.distanceSquared<y){g=v.datum,y=v.distanceSquared;break}}return{datum:g,distance:Math.sqrt(y)}}}onLegendItemClick(e){let{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:s}=e,r=t!=null&&t===e.legendItemName;(s.id===this.id||r)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){let{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,{legendItemName:r}=this.properties,o=r!=null&&r===e.legendItemName;n.id===this.id||o?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){let{dirtyNodeData:i,sizeCache:n,minRect:s,minVisibleRect:r}=this.minRectsCache,o=JSON.stringify({width:e,height:t});if(!(o!==n)&&!i&&s&&r)return{minRect:s,minVisibleRect:r};let l=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:o,minRect:l?.minRect,minVisibleRect:l?.minVisibleRect},l}computeMinRects(e,t){let i=this._contextNodeData;if(!i?.nodeData.length)return;let{nodeData:n}=i,s=Array(n.length),r=Array(n.length);for(let[v,{midPoint:_}]of n.entries())s[v]=_?.x??0,r[v]=_?.y??0;s.sort((v,_)=>v-_),r.sort((v,_)=>v-_);let o,a,l,c,u=0,d=0;for(let v=1;v<n.length;v++)s[v]>=0&&(o??(o=v)),s[v]>e&&(a??(a=v)),r[v]>=0&&(l??(l=v)),r[v]>t&&(c??(c=v)),u=Math.max(u,s[v]-s[v-1]),d=Math.max(d,r[v]-r[v-1]);a??(a=n.length),c??(c=n.length);let h=o!=null&&a!=null?s.slice(o,a):[],p=l!=null&&c!=null?r.slice(l,c):[],f=0,g=0;for(let v=1;v<Math.max(h.length,p.length);v++){let _=h[v],C=h[v-1],w=p[v],D=p[v-1];_!=null&&C!=null&&(f=Math.max(f,_-C)),w!=null&&D!=null&&(g=Math.max(g,w-D))}let y=new X(0,0,u,d),x=new X(0,0,f,g);return{minRect:y,minVisibleRect:x}}updateHighlightSelectionItem(e){let{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,s=i??[];if(t){let r=n;return this.updateMarkerSelection({nodeData:s,markerSelection:r})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return L(this,null,function*(){return e.datumSelection})}updateDatumNodes(e){return L(this,null,function*(){})}updateMarkerSelection(e){return L(this,null,function*(){return e.markerSelection})}updateMarkerNodes(e){return L(this,null,function*(){})}updatePaths(e){return L(this,null,function*(){e.paths.forEach(t=>t.visible=!1)})}updatePathNodes(e){return L(this,null,function*(){let{paths:t,opacity:i,visible:n}=e;for(let s of t)s.opacity=i,s.visible=n})}resetPathAnimation(e){let{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach(i=>{Gt([i],t)})}resetDatumAnimation(e){let{datum:t}=this.opts?.animationResetFns??{};t&&Gt([e.datumSelection],t)}resetLabelAnimation(e){let{label:t}=this.opts?.animationResetFns??{};t&&Gt([e.labelSelection],t)}resetMarkerAnimation(e){let{marker:t}=this.opts?.animationResetFns??{};t&&this.opts.hasMarkers&&Gt([e.markerSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),e.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){let{datum:t}=this.opts?.animationResetFns??{};t&&Gt([e],t)}animateReadyHighlightMarkers(e){let{marker:t}=this.opts?.animationResetFns??{};t&&Gt([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){let e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){let{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}calculateScaling(){let e={};for(let t of Object.values(lD)){let i=this.axes[t];if(i){if(i.scale instanceof dD){let{range:n,domain:s}=i.scale;e[t]={type:"log",convert:r=>i.scale.convert(r),domain:[s[0],s[1]],range:[n[0],n[1]]}}else if(i.scale instanceof st){let{range:n}=i.scale,s=i.scale.getDomain();e[t]={type:"continuous",domain:[s[0],s[1]],range:[n[0],n[1]]}}else if(i.scale){let{domain:n}=i.scale;e[t]={type:"category",domain:n,range:n.map(s=>i.scale.convert(s))}}}}return e}},Jq=["top","right","bottom","left"],eQ=(()=>{let e=class t extends Gu{constructor(i,n){super(i,n),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(i,n){super.onAxisChange(i,n),this.zoomManager.updateAxes(i)}destroySeries(i){super.destroySeries(i),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}performLayout(){return L(this,null,function*(){let i=yield oo(t.prototype,this,"performLayout").call(this),{firstSeriesTranslation:n,seriesRoot:s,annotationRoot:r,highlightRoot:o}=this,{animationRect:a,seriesRect:l,visibility:c,clipSeries:u}=this.updateAxes(i);this.seriesRoot.visible=c.series,this.seriesRect=l,this.animationRect=a;let{x:d,y:h}=l;if(n){for(let y of[s,r,o])y.translationX=Math.floor(d),y.translationY=Math.floor(h);this.firstSeriesTranslation=!1}else{let{translationX:y,translationY:x}=s;fr(this.id,"seriesRect",this.ctx.animationManager,[s,o,r],{translationX:y,translationY:x},{translationX:Math.floor(d),translationY:Math.floor(h)},{phase:"update"})}let p=l.clone().grow(this.seriesArea.padding),f=this.seriesArea.clip||u?p:void 0;s.setClipRectInGroupCoordinateSpace(f),o.setClipRectInGroupCoordinateSpace(f),r.setClipRectInGroupCoordinateSpace(f),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:u,series:{rect:l,paddedRect:p,visible:c.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(y=>y.getLayoutState())});let g=this.modulesManager.mapModules(y=>y.performCartesianLayout?.({seriesRect:l}));return yield Promise.all(g),i})}updateAxes(i){let n=this.axes.flatMap(v=>v.crossLines??[]).map(v=>v.id),s=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===n.length&&this._lastCrossLineIds.every((v,_)=>n[_]===v),r,o,a;s?(r=new Map(this._lastAxisAreaWidths.entries()),o=this._lastClipSeries,a=S({},this._lastVisibility)):(r=new Map,o=!1,a={crossLines:!0,series:!0},this._lastCrossLineIds=n);let l=new Set(this.axes.map(v=>v.position));for(let v of r.keys())l.has(v)||r.delete(v);let c=(v,_,C)=>[...v.keys()].some(w=>!r.has(w))||a.crossLines!==C.crossLines||a.series!==C.series||o!==_?!1:[...r.entries()].every(([w,D])=>{let M=v.get(w);return D!=null||M!=null?D===M:!0}),u=v=>{for(let[_,C]of v.entries()){if(C&&Math.abs(C)===1/0){v.set(_,0);continue}v.set(_,C!=null?Math.ceil(C):C)}return v},d=new Map,h={},p=!1,f=this.seriesRect?.clone(),g=0,y={};do{r=new Map(d.entries()),o=p,Object.assign(a,h);let v=this.updateAxesPass(r,i.clone(),f);if(d=u(v.axisAreaWidths),h=v.visibility,p=v.clipSeries,{seriesRect:f,primaryTickCounts:y}=v,g++>10){z.warn("unable to find stable axis layout.");break}}while(!c(d,p,h));this.axes.forEach(v=>{v.update(y[v.direction])});let x=5;return this.axes.forEach(v=>{if(v.setCrossLinesVisible(a.crossLines),!!f)switch(v.clipGrid(f.x,f.y,f.width+x,f.height+x),v.position){case"left":case"right":v.clipTickLines(i.x,f.y,i.width+x,f.height+x);break;case"top":case"bottom":v.clipTickLines(f.x,i.y,f.width+x,i.height+x);break}}),this._lastAxisAreaWidths=r,this._lastVisibility=a,this._lastClipSeries=o,{seriesRect:f,animationRect:i,visibility:a,clipSeries:o}}updateAxesPass(i,n,s){let r=new Map,o=new Map,a={series:!0,crossLines:!0},l=!1,c={},u=this.applySeriesPadding(n),d=s?this.buildCrossLinePadding(i):{},h=this.buildAxisBound(u,i,d,a),p=this.buildSeriesRect(h,i);for(let y of this.axes){let{position:x="left"}=y,{clipSeries:v,axisThickness:_}=this.calculateAxisDimensions({axis:y,seriesRect:p,paddedBounds:u,primaryTickCounts:c,clipSeries:l});r.set(y.id,_),o.has(x)||o.set(x,[]),o.get(x)?.push(y),l=l||v}let f=new Map,g=new Map;for(let[y,x]of o.entries())f.set(y,this.calculateAxisArea(x,r,g));for(let[y,x]of o.entries())this.positionAxes({axes:x,position:y,axisWidths:r,axisOffsets:g,axisAreaWidths:f,axisBound:h,seriesRect:p});return{clipSeries:l,seriesRect:p,axisAreaWidths:f,visibility:a,primaryTickCounts:c}}buildCrossLinePadding(i){let n={};this.axes.forEach(s=>{s.crossLines?.forEach(r=>{r.calculatePadding?.(n)})});for(let[s,r=0]of Object.entries(n))n[s]=Math.max(r-(i.get(s)??0),0);return n}applySeriesPadding(i){let n=i.clone(),s=this.axes.slice().reverse();return Jq.forEach(r=>{let o=this.seriesArea.padding[r],a=s.find(l=>l.position===r);a?a.seriesAreaPadding=o:n.shrink(o,r)}),n}buildAxisBound(i,n,s,r){let o=i.clone(),{top:a=0,right:l=0,bottom:c=0,left:u=0}=s,d=u+l,h=a+c,p=(n.get("left")??0)+(n.get("right")??0)+d,f=(n.get("top")??0)+(n.get("bottom")??0)+h;return o.width<=p||o.height<=f?(r.crossLines=!1,r.series=!1,o):(o.x+=u,o.y+=a,o.width-=d,o.height-=h,o)}buildSeriesRect(i,n){let s=i.clone();return s.x+=n.get("left")??0,s.y+=n.get("top")??0,s.width-=(n.get("left")??0)+(n.get("right")??0),s.height-=(n.get("top")??0)+(n.get("bottom")??0),s.width=Math.max(0,s.width),s.height=Math.max(0,s.height),s}clampToOutsideSeriesRect(i,n,s,r){let{x:o,y:a,width:l,height:c}=i,d=[o,a,o+l,a+c][(s==="x"?0:1)+(r===1?0:2)];return(r===1?Math.min:Math.max)(n,d)}calculateAxisDimensions(i){let{axis:n,seriesRect:s,paddedBounds:r,primaryTickCounts:o}=i,{clipSeries:a}=i,{position:l="left",direction:c}=n;this.sizeAxis(n,s,l);let u=n.nice?o[c]:void 0,d=c==="y",h=.3;n.thickness?n.maxThickness=n.thickness:n.maxThickness=(d?r.width:r.height)*h;let p=n.calculateLayout(u);u=p.primaryTickCount,o[c]??(o[c]=u),a||(a=n.dataDomain.clipped||n.visibleRange[0]>0||n.visibleRange[1]<1);let f;return n.thickness!=null&&n.thickness>0?f=n.thickness:f=d?p.bbox.width:p.bbox.height,f=Math.ceil(f),{clipSeries:a,axisThickness:f,primaryTickCount:u}}sizeAxis(i,n,s){let r=i instanceof Bu||i instanceof Su,o=s==="left"||s==="right",{min:a,max:l}=this.ctx.zoomManager.getAxisZoom(i.id),{width:c,height:u}=n,d=0,h=o?u:c,p=d,f=h,{width:g,unit:y,align:x}=i.layoutConstraints;y==="px"?f=p+g:f=f*g/100,x==="end"&&(p=h-(f-p),f=h),r&&o?[a,l]=[1-l,1-a]:o&&([p,f]=[f,p]),i.range=[p,f],i.visibleRange=[a,l],i.gridLength=o?c:u}calculateAxisArea(i,n,s){let r=0,o=0;for(let a of i){s.set(a.id,o);let l=n.get(a.id)??0;r=Math.max(r,o+l),a.layoutConstraints.stacked&&(o+=l+15)}return r}positionAxes(i){let{axes:n,axisBound:s,axisWidths:r,axisOffsets:o,axisAreaWidths:a,seriesRect:l,position:c}=i,u=a.get(c)??0,d="x",h="y",p=1,f=0;(c==="top"||c==="bottom")&&(d="y",h="x",f+=1),f+=s[d],(c==="right"||c==="bottom")&&(p=-1,f+=d==="x"?s.width:s.height);for(let g of n){let y=a.get(h==="x"?"left":"top")??0;g.translation[h]=s[h]+y;let x=r.get(g.id)??0,v=o.get(g.id)??0;g.translation[d]=this.clampToOutsideSeriesRect(l,f+p*(v+x),d,p),g.gridPadding=u-v-x,g.updatePosition()}}shouldFlipXY(){return!this.series.some(i=>!(i instanceof pa&&i.shouldFlipXY()))}};return e.className="CartesianChart",e.type="cartesian",e})(),Ny=(()=>{let e=class fF{constructor(i,n,s){this.factoryApi=n,this.licenseManager=s,this.chart=i,i.publicApi=this}static isInstance(i){return i instanceof fF||i.constructor?.name==="AgChartInstanceProxy"&&i.chart!=null?!0:i.chart!=null&&this.validateImplementation(i)}static validateImplementation(i){let n=["getOptions","destroy"],s=Object.keys(Object.getPrototypeOf(i)??{});return n.every(r=>s.includes(r))}update(i){return L(this,null,function*(){this.factoryApi.createOrUpdate(i,this),yield this.chart.waitForUpdate()})}updateDelta(i){return L(this,null,function*(){this.factoryApi.updateUserDelta(this,i),yield this.chart.waitForUpdate()})}getOptions(){let i=Ti(this.chart.getOptions());for(let n in i)n.startsWith("_")&&delete i[n];return i}waitForUpdate(){return this.chart.waitForUpdate()}download(i){return L(this,null,function*(){let n=yield this.prepareResizedChart(this,i);try{n.chart.download(i?.fileName,i?.fileFormat)}finally{n.destroy()}})}getImageDataURL(i){return L(this,null,function*(){let n=yield this.prepareResizedChart(this,i);try{return n.chart.getCanvasDataURL(i?.fileFormat)}finally{n.destroy()}})}getState(){return this.factoryApi.caretaker.save(this.chart.ctx.annotationManager)}setState(i){return L(this,null,function*(){this.factoryApi.caretaker.restore(i,this.chart.ctx.annotationManager),yield this.chart.waitForUpdate()})}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}prepareResizedChart(s){return L(this,arguments,function*(i,n={}){let{chart:r}=i,o=n.width??r.width??r.ctx.scene.canvas.width,a=n.height??r.height??r.ctx.scene.canvas.height,l=i.getState(),c=ta.hasEnterpriseModules(),u={},d=r.chartOptions.getOptions();c&&(u.animation={enabled:!1},wl(d)&&(u.toolbar={enabled:!1}),this.licenseManager?.isDisplayWatermark()&&(u.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));let h=Ve({container:document.createElement("div"),width:o,height:a},u,d),p=yield this.factoryApi.createOrUpdate(h);return yield p.setState(l),p.chart.ctx.zoomManager.updateZoom("agChartV2",r.ctx.zoomManager.getZoom()),r.series.forEach((f,g)=>{f.visible||(p.chart.series[g].visible=!1)}),r.update(0,{forceNodeDataRefresh:!0}),yield p.waitForUpdate(),p})}};return e.chartInstances=new WeakMap,e})();m([Wi({oldValue(e){Ny.chartInstances.delete(e)},newValue(e){Ny.chartInstances.set(e,this)}})],Ny.prototype,"chart",2);var BO=Ny,Fs=class extends st{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(e){return e}ticks(){let e=this.tickCount??st.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();let[t,i]=this.getDomain();if(this.interval){let n=Math.abs(this.interval);if(!hp((i-t)/n,this.getPixelRange()))return dp(t,i,n)}return h0(t,i,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){return this.interval??wu(e,t,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){let e=this.tickCount;if(e<1){this.niceDomain=[...this.domain];return}let[t,i]=this.domain;if(e===1)[t,i]=mX(t,i);else{let n=t>i?Math.ceil:Math.floor,s=i<t?Math.floor:Math.ceil,r=4;for(let o=0;o<r;o++){let a=t,l=i,c=this.getTickStep(t,i),[u,d]=this.domain;if(c>=1)t=n(u/c)*c,i=s(d/c)*c;else{let h=1/c;t=n(u*h)/h,i=s(d*h)/h}if(t===a&&i===l)break}}this.niceDomain=[t,i]}tickFormat({ticks:e,specifier:t}){return b2(e??this.ticks(),t)}};function tQ(e,t,i){let[n,s]=An(e);n=iQ(Math.floor(n),s,t);let r=sQ(n,s,t),o=t-1;s=n+o*r;let a=i?[s,n]:[n,s],l=nQ(n,r,t);return{domain:a,ticks:l}}function iQ(e,t,i){let n=Math.abs(t-e)/(i-1),s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return Math.floor(e/r)*r}function nQ(e,t,i){let n=Math.floor(Math.log10(t)),s=t>0&&t<1?Math.abs(n):0,r=Math.pow(10,s),o=[];for(let a=0;a<i;a++){let l=e+t*a;o[a]=Math.round(l*r)/r}return o}function sQ(e,t,i){let n=i-1,s=(t-e)/n;return rQ(s)}function rQ(e){let t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}var Iu=(()=>{let e=class extends Vu{constructor(t,i=new Fs){super(t,i),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:i,max:n}=this,{extent:s,clipped:r}=Ip(t,i,n);return{domain:s,clipped:r}}updateSecondaryAxisTicks(t){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];let{domain:i,ticks:n}=tQ(this.dataDomain.domain,t??0,this.reverse);return this.scale.nice=!1,this.scale.domain=i,this.scale.update(),n}};return e.className="NumberAxis",e.type="number",e})();m([b(cs(Lu,Ou("max"))),ua(NaN)],Iu.prototype,"min",2);m([b(cs(Lu,Ru("min"))),ua(NaN)],Iu.prototype,"max",2);var gF=ot(e=>In(e)&&e!==0,"a non-zero number"),Bp=(()=>{let e=class extends Iu{constructor(t){super(t,new dD),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:i,max:n}=this,{extent:s,clipped:r}=Ip(t,i,n),o=s[0]>s[1],a=s[0]<0&&s[1]>0,l=s[0]===0&&s[1]===0;return(o||a||l)&&(a?z.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):l&&z.warn("the data domain has 0 extent, no data is rendered.")),s[0]===0&&(s[0]=1),s[1]===0&&(s[1]=-1),{domain:s,clipped:r}}set base(t){this.scale.base=t}get base(){return this.scale.base}};return e.className="LogAxis",e.type="log",e})();m([b(cs(Lu,gF,Ou("max"))),ua(NaN)],Bp.prototype,"min",2);m([b(cs(Lu,gF,Ru("min"))),ua(NaN)],Bp.prototype,"max",2);var D0=(()=>{let e=class extends Vu{constructor(t){super(t,new p0),this.min=void 0,this.max=void 0}normaliseDataDomain(t){let{min:i,max:n}=this,s=!1;return typeof i=="number"&&(i=new Date(i)),typeof n=="number"&&(n=new Date(n)),t.length>2&&(t=(gr(t)??[0,1e3]).map(r=>new Date(r))),i instanceof Date&&(s||(s=i>t[0]),t=[i,t[1]]),n instanceof Date&&(s||(s=n<t[1]),t=[t[0],n]),t[0]>t[1]&&(t=[]),{domain:t,clipped:s}}onFormatChange(t,i,n,s){s?super.onFormatChange(t,i,n,s):(this.labelFormatter=this.scale.tickFormat({ticks:t,domain:n}),this.datumFormatter=this.scale.tickFormat({ticks:t,domain:n,formatOffset:1}))}calculatePadding(){return[0,0]}};return e.className="TimeAxis",e.type="time",e})();m([b(cs(rD,Ou("max")),{optional:!0})],D0.prototype,"min",2);m([b(cs(rD,Ru("min")),{optional:!0})],D0.prototype,"max",2);var Xh=(e,{x0:t,y0:i,x1:n,y1:s,cx:r,cy:o},a,l)=>{if(l&&e.moveTo(t,i),t!==n||i!==s){let c=Math.atan2(i-o,t-r),u=Math.atan2(s-o,n-r);e.arc(r,o,a,c,u)}else e.lineTo(t,i)},jO=1e-6,py=(e,t,i,n,s)=>{let r=!1,o=!1,a=n-Math.sqrt(Math.max(s**2-i**2,0)),l=0,c=0,u=i-Math.sqrt(Math.max(s**2-n**2,0));return a>e?(r=!0,a=e,l=i-Math.sqrt(Math.max(s**2-(n-e)**2))):a<jO&&(a=0),u>t?(o=!0,c=n-Math.sqrt(Math.max(s**2-(i-t)**2)),u=t):u<jO&&(u=0),{leading0:a,leading1:l,trailing0:c,trailing1:u,leadingClipped:r,trailingClipped:o}},XC=(e,t,i,n,s,r,o)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:u}=r,d=Math.max(a+u,l+c),h=Math.max(a+l,u+c);if(d<=0&&h<=0){o==null?e.rect(t,i,n,s):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===c&&a===u){e.roundRect(t,i,n,s,a);return}if(n<0&&(t+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(o==null)o=new X(t,i,n,s);else{let M=Math.max(t,o.x),I=Math.min(t+n,o.x+o.width),T=Math.max(i,o.y),A=Math.min(i+s,o.y+o.height);o=new X(M,T,I-M,A-T)}let p=Math.max(d/s,h/n,1);p>1&&(a/=p,l/=p,c/=p,u/=p);let f=!0,g=!0,y=!0,x=!0,v,_,C,w;if(f){let M=py(o.height,o.width,Math.max(t+a-o.x,0),Math.max(i+a-o.y,0),a);M.leadingClipped&&(x=!1),M.trailingClipped&&(g=!1);let I=Math.max(o.x+M.leading1,o.x),T=Math.max(o.y+M.leading0,o.y),A=Math.max(o.x+M.trailing1,o.x),E=Math.max(o.y+M.trailing0,o.y),P=t+a,N=i+a;v={x0:I,y0:T,x1:A,y1:E,cx:P,cy:N}}if(g){let M=py(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(t+n-l),0),l);M.leadingClipped&&(f=!1),M.trailingClipped&&(y=!1);let I=Math.min(o.x+o.width-M.leading0,o.x+o.width),T=Math.max(o.y+M.leading1,o.y),A=Math.min(o.x+o.width-M.trailing0,o.x+o.width),E=Math.max(o.y+M.trailing1,o.y),P=t+n-l,N=i+l;_={x0:I,y0:T,x1:A,y1:E,cx:P,cy:N}}if(y){let M=py(o.height,o.width,Math.max(o.x+o.width-(t+n-c),0),Math.max(o.y+o.height-(i+s-c),0),c);M.leadingClipped&&(g=!1),M.trailingClipped&&(x=!1);let I=Math.min(o.x+o.width-M.leading1,o.x+o.width),T=Math.min(o.y+o.height-M.leading0,o.y+o.height),A=Math.min(o.x+o.width-M.trailing1,o.x+o.width),E=Math.min(o.y+o.height-M.trailing0,o.y+o.height),P=t+n-c,N=i+s-c;C={x0:I,y0:T,x1:A,y1:E,cx:P,cy:N}}if(x){let M=py(o.width,o.height,Math.max(o.y+o.height-(i+s-u),0),Math.max(t+u-o.x,0),u);M.leadingClipped&&(y=!1),M.trailingClipped&&(f=!1);let I=Math.max(o.x+M.leading0,o.x),T=Math.min(o.y+o.height-M.leading1,o.y+o.height),A=Math.max(o.x+M.trailing0,o.x),E=Math.min(o.y+o.height-M.trailing1,o.y+o.height),P=t+u,N=i+s-u;w={x0:I,y0:T,x1:A,y1:E,cx:P,cy:N}}let D=!1;f&&v!=null&&(Xh(e,v,a,!D),D||(D=!0)),g&&_!=null&&(Xh(e,_,l,!D),D||(D=!0)),y&&C!=null&&(Xh(e,C,c,!D),D||(D=!0)),x&&w!=null&&(Xh(e,w,u,!D),D||(D=!0)),e.closePath()},vn=(()=>{let e=class extends Zi{constructor(){super(...arguments),this.borderPath=new fp,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=as.defaultStyles.strokeWidth,this.effectiveStrokeWidth=as.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:t,borderPath:i,crisp:n,topLeftCornerRadius:s,topRightCornerRadius:r,bottomRightCornerRadius:o,bottomLeftCornerRadius:a}=this,{x:l,y:c,width:u,height:d,strokeWidth:h,clipBBox:p}=this,g=1/(this.layerManager?.canvas.pixelRatio??1),y=1;if(t.clear(!0),i.clear(!0),n&&(u<=g&&(y*=u/g),d<=g&&(y*=d/g),u=this.align(l,u),d=this.align(c,d),l=this.align(l),c=this.align(c),p=p!=null?new X(this.align(p.x),this.align(p.y),this.align(p.x,p.width),this.align(p.y,p.height)):void 0),h)if(u<g){let x=l+g/2;i.moveTo(x,c),i.lineTo(x,c+d),h=g,this.borderClipPath=void 0}else if(d<g){let x=c+g/2;i.moveTo(l,x),i.lineTo(l+u,x),h=g,this.borderClipPath=void 0}else if(h<u&&h<d){let x=h/2;l+=x,c+=x,u-=h,d-=h;let v=p?.clone().shrink(x),_={topLeft:s>0?s-h:0,topRight:r>0?r-h:0,bottomRight:o>0?o-h:0,bottomLeft:a>0?a-h:0};this.borderClipPath=void 0,u>0&&d>0&&(v==null||v?.width>0&&v?.height>0)&&(XC(t,l,c,u,d,_,v),XC(i,l,c,u,d,_,v))}else this.borderClipPath=this.borderClipPath??new fp,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,u,d),i.rect(l,c,u,d);else{let x={topLeft:s,topRight:r,bottomRight:o,bottomLeft:a};this.borderClipPath=void 0,XC(t,l,c,u,d,x,p)}[s,r,o,a].every(x=>x===0)?(this.hittester=(x,v)=>{let _=this.transformPoint(x,v);return this.getBBox().containsPoint(_.x,_.y)},this.distanceSquared=(x,v)=>this.getBBox().distanceSquared(x,v)):(this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint),this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=y}computeBBox(){let{x:t,y:i,width:n,height:s,clipBBox:r}=this;return r?.clone()??new X(t,i,n,s)}isPointInPath(t,i){return this.hittester(t,i)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,i){return this.distanceCalculator(t,i)}applyFillAlpha(t){let{fillOpacity:i,microPixelEffectOpacity:n,opacity:s}=this;t.globalAlpha*=s*i*n}renderStroke(t){let{stroke:i,effectiveStrokeWidth:n}=this;if(i&&n){let{globalAlpha:s}=t,{strokeOpacity:r,lineDash:o,lineDashOffset:a,lineCap:l,lineJoin:c,borderPath:u,borderClipPath:d,opacity:h,microPixelEffectOpacity:p}=this;d&&t.clip(d.getPath2D()),t.strokeStyle=i,t.globalAlpha*=h*r*p,t.lineWidth=n,o&&t.setLineDash(o),a&&(t.lineDashOffset=a),l&&(t.lineCap=l),c&&(t.lineJoin=c),t.stroke(u.getPath2D()),t.globalAlpha=s}}};return e.className="Rect",e})();m([ye()],vn.prototype,"x",2);m([ye()],vn.prototype,"y",2);m([ye()],vn.prototype,"width",2);m([ye()],vn.prototype,"height",2);m([ye()],vn.prototype,"topLeftCornerRadius",2);m([ye()],vn.prototype,"topRightCornerRadius",2);m([ye()],vn.prototype,"bottomRightCornerRadius",2);m([ye()],vn.prototype,"bottomLeftCornerRadius",2);m([ye()],vn.prototype,"clipBBox",2);m([ye()],vn.prototype,"crisp",2);var Hu=class extends Lp{constructor(e,t=0,i=!1){super(),this.zIndex=t,this.layer=i,this.rectNode=new vn,this.textNode=new gt,this.fill="white",this.node=new se({name:"background",zIndex:this.zIndex,layer:this.layer}),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutService.addListener("layout-complete",n=>this.onLayoutComplete(n)))}onLayoutComplete(e){let{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};m([b(pe),Ei("node","visible")],Hu.prototype,"visible",2);m([b(it,{optional:!0}),Ei("rectNode","fill")],Hu.prototype,"fill",2);m([b(Q,{optional:!0})],Hu.prototype,"image",2);m([b(U,{optional:!0}),Ei("textNode")],Hu.prototype,"text",2);var mF={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:e=>new Hu(e)},oQ=class{constructor(){this.offscreenCanvas=new OffscreenCanvas(1,1);let e=this.offscreenCanvas.getContext("2d");if(e==null)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:e,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize({spritePixelRatio:e,spriteWidth:t,spriteHeight:i}){this.offscreenCanvas.width=Math.max(t,0)*e,this.offscreenCanvas.height=Math.max(i,0)*e}renderSprite(e,t){e=NR(e);let{renderCtx:i,renderCtx:{ctx:n},offscreenCanvas:s}=this,{scale:r=1,translateX:o=0,translateY:a=0}=t??{};n.resetTransform(),n.clearRect(0,0,s.width,s.height),n.save(),n.beginPath(),n.setTransform(r,0,0,r,o,a);for(let l of e)l.render(i);return n.closePath(),n.restore(),s.transferToImageBitmap()}};function Ml(e,t,i,n){t.addEventListener(i,n),e.push(()=>t.removeEventListener(i,n))}function kw(e,t,i){Ml(e,t,"keydown",n=>{n.key==="Escape"&&i(n)})}function yF(e,t,...i){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&(e.key===t||i.some(n=>e.key===n))}function zO(e,t,i,n){i&&Ml(e,t,"keydown",s=>{yF(s,n)&&i.focus()})}function vF(e,t,i,n,s,r){zO(e,t,s,r),zO(e,t,i,n),Ml(e,t,"keydown",o=>{yF(o,n,r)&&o.preventDefault()})}var xF={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function S0(e){let{orientation:t,toolbar:i,buttons:n,onEscape:s,onFocus:r,onBlur:o}=e,{nextKey:a,prevKey:l}=xF[t],c=n.length===0;i.role="toolbar",i.ariaOrientation=t,i.ariaHidden=c.toString();let u=h=>{h.target&&"tabIndex"in h.target&&(n.forEach(p=>p.tabIndex=-1),h.target.tabIndex=0)},d=[];for(let h=0;h<n.length;h++){let p=n[h-1],f=n[h],g=n[h+1];Ml(d,f,"focus",u),r&&Ml(d,f,"focus",r),o&&Ml(d,f,"blur",o),s&&kw(d,f,s),vF(d,f,p,l,g,a),f.tabIndex=h===0?0:-1}return d}function aQ(e){let{orientation:t,menu:i,buttons:n,onEscape:s}=e,{nextKey:r,prevKey:o}=xF[t];i.role="menu",i.ariaOrientation=t;let a=[];for(let l=0;l<n.length;l++){let c=n[(n.length+l-1)%n.length],u=n[l],d=n[(n.length+l+1)%n.length];s&&kw(a,u,s),vF(a,u,c,o,d,r),u.tabIndex=-1}return i.tabIndex=-1,s&&kw(a,i,s),Ml(a,i,"keydown",l=>{l.target===i&&(l.key===r||l.key===o)&&(l.preventDefault(),n[0]?.focus())}),a}function bF(e,t){return i=>{if(e.ariaDisabled==="true")return i.preventDefault();t(i)}}function lQ({orientation:e,bboxes:t,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}){let a=e==="horizontal",l={max:a?n:i,fn:a?h=>h.width:h=>h.height,padding:a?r:s},c={max:a?i:n,fn:a?h=>h.height:h=>h.width,padding:a?s:r},u=0,d=[];for(;u<t.length;){let h=t.slice(u),p=cQ(h,u,l,c,o);if(!p)return;u+=p.processedBBoxCount,d.push(p.pageIndices)}return dQ(d,e,t,s,r)}function cQ(e,t,i,n,s){let o=pQ(e,i);if(o<1){if(!s)return;o=1}let a=o;for(;a>=1;){let l=uQ(e,t,a,i,n,s);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function uQ(e,t,i,n,s,r){let o=[],a=0,l=0,c=[],u=[];for(let d=0;d<e.length;d++){let h=(d+i)%i;h===0&&(a+=l,l=0,c.length>0&&o.push(c),c=[]);let p=n.fn(e[d])+n.padding;u[h]=Math.max(u[h]??0,p),l=Math.max(l,s.fn(e[d])+s.padding);let f=a+l,g=!r||o.length>0;if(f>s.max&&g){c=[];break}if(u.reduce((x,v)=>x+v,0)>n.max&&!r)return u.length<i?u.length:void 0;c.push(d+t)}return c.length>0&&o.push(c),o.length>0?o:void 0}function dQ(e,t,i,n,s){let r=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=hQ(l));let c=0,u=l.map(p=>{let f=p.map(x=>(c=Math.max(x,c),i[x])),g=0,y=0;return f.forEach(x=>{g+=x.height+n,y=Math.max(y,x.width+s)}),{indices:p,bboxes:f,columnHeight:Math.ceil(g),columnWidth:Math.ceil(y)}}),d=0,h=0;return u.forEach(p=>{d+=p.columnWidth,h=Math.max(h,p.columnHeight)}),r=Math.max(d,r),o=Math.max(h,o),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:d,pageHeight:h}}),maxPageWidth:r,maxPageHeight:o}}function hQ(e){let t=[];for(let i of e[0])t.push([]);return e.forEach((i,n)=>{i.forEach((s,r)=>{t[r][n]=s})}),t}function pQ(e,t){let i=e.length,n=0;for(let s=0;s<i;s++)if(n+=t.fn(e[s])+t.padding,n>t.max)return i/s<2?Math.ceil(i/2):s;return i}var jl=class extends ku{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(e,t,i,n){this.sourceImage=e,this.width=e.width/t,this.height=e.height/t,this.x=i/t,this.y=n/t,this.markDirty(this,3)}render(e){let{ctx:t,forceRender:i,stats:n}=e;if(this.dirty===0&&!i){n&&n.nodesSkipped++;return}let s=this.sourceImage;s&&(this.transformRenderContext(e),t.globalAlpha=this.opacity,t.drawImage(s,0,0,s.width,s.height,this.x,this.y,this.width,this.height),super.render(e))}};m([Y({redraw:3})],jl.prototype,"x",2);m([Y({redraw:3})],jl.prototype,"y",2);m([Y({redraw:3})],jl.prototype,"width",2);m([Y({redraw:3})],jl.prototype,"height",2);m([Y({redraw:3})],jl.prototype,"opacity",2);var ra=(()=>{let e=class extends se{constructor(){super({name:"markerLabelGroup"}),this.label=new gt,this.symbolsGroup=new se({name:"legend-markerLabel-symbols"}),this.bitmap=new jl,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];let{markers:t,label:i,lines:n}=this;i.textBaseline="middle",i.fontSize=12,i.fontFamily="Verdana, sans-serif",i.fill="black",i.y=1,this.updateSymbols(t,n),this.append(RR(this.symbolsGroup,i))}destroy(){super.destroy(),this.proxyButton?.remove()}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(t,i){Cl(this._markers,t)&&Cl(this._lines,i)||(this.bitmapDirty=!0,this._markers=t,this._lines=i,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...t,...i]))}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){let t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t,this.bitmap.opacity=t,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(t){let{lines:i,markers:n}=this;[i,n].forEach(s=>s.forEach(r=>r.visible=!t)),this.bitmap.visible=t}update(t,{spriteAAPadding:i,spritePixelRatio:n},s){let{markers:r,lines:o}=this,a=0,l=0,c=0;for(let v=0;v<Math.max(r.length,o.length);v++){let{length:_,spacing:C}=s[v]??0,w=r[v],D=o[v],M=w?.size??0,I=1/0,T=1/0,A=1/0;if(w){let E=w.constructor.center,P=(M+w.strokeWidth)/2;w.x=(E.x-.5)*M+_/2+c,w.y=(E.y-.5)*M,T=w.y-P,A=w.x-P}D&&(D.x1=c,D.x2=c+_,D.y1=0,D.y2=0,D.markDirtyTransform(),I=-D.strokeWidth/2),c+=C+Math.max(_,M),a=Math.min(a,D.x1,D.x2,A),l=Math.min(l,I,T)}let u=s.at(-1),d=this.lines.at(-1),h=this.markers.at(-1),p=d?d.x2:-1/0,f=(h?.x??0)+(h?.size??0)/2;if(this.label.x=Math.max(p,f)+(u?.spacing??0),this.bitmapDirty){this.setBitmapVisibility(!1);let v=(i+a)*n,_=(i-l)*n,C=t.renderSprite(this.symbolsGroup,{scale:n,translateX:Math.floor(v),translateY:Math.floor(_)});this.bitmap.updateBitmap(C,n,Math.ceil(-v),Math.ceil(-_)),this.bitmapDirty=!1,this.refreshVisibilities()}if(s.length<2)return;let g=this.symbolsGroup.getBBox(),y=Math.max(h?.size??0,u?.length??0),x=new X(g.x+y/2,g.y,y,g.height);this.symbolsGroup.setClipRectInGroupCoordinateSpace(x)}computeBBox(){let{label:t,lines:i,markers:n}=this;return se.computeBBox(OR([t],i,n),{skipInvisible:!1})}};return e.className="MarkerLabel",e})();m([Ei("label")],ra.prototype,"text",2);m([Ei("label")],ra.prototype,"fontStyle",2);m([Ei("label")],ra.prototype,"fontWeight",2);m([Ei("label")],ra.prototype,"fontSize",2);m([Ei("label")],ra.prototype,"fontFamily",2);m([Ei("label","fill")],ra.prototype,"color",2);var Uu=class extends Te{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};m([b(it)],Uu.prototype,"color",2);m([b(aa,{optional:!0})],Uu.prototype,"fontStyle",2);m([b(la,{optional:!0})],Uu.prototype,"fontWeight",2);m([b(H)],Uu.prototype,"fontSize",2);m([b(U)],Uu.prototype,"fontFamily",2);var Xr=class extends Te{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};m([b(H)],Xr.prototype,"size",2);m([b(it,{optional:!0})],Xr.prototype,"fill",2);m([b(Ke,{optional:!0})],Xr.prototype,"fillOpacity",2);m([b(it,{optional:!0})],Xr.prototype,"stroke",2);m([b(H)],Xr.prototype,"strokeWidth",2);m([b(Ke)],Xr.prototype,"strokeOpacity",2);var M0=class extends Te{constructor(e){super(),this.parent=e,this.shape=vu,this.size=15,this.padding=8}};m([Wi({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],M0.prototype,"shape",2);m([b(H)],M0.prototype,"size",2);m([b(H)],M0.prototype,"padding",2);var $u=(()=>{let e=class extends Te{constructor(t,i,n,s){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=i,this.regionManager=n,this.cursorManager=s,this.id=ls(this),this.marker=new M0(this),this.activeStyle=new Xr,this.inactiveStyle=new Xr,this.highlightStyle=new Xr,this.label=new Uu,this.group=new se({name:"pagination"}),this.labelNode=new gt,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new vu,this._previousButton=new vu,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);let r=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(r.addListener("click",o=>this.onPaginationClick(o)),r.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(t=>t())}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))}get nextButton(){return this._nextButton}set previousButton(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:t,padding:i}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+i}updateNextButtonPosition(){let t=this.labelNode.getBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding}updateLabel(){let{currentPage:t,totalPages:i,labelNode:n,label:{color:s,fontStyle:r,fontWeight:o,fontSize:a,fontFamily:l}}=this;n.text=`${t+1} / ${i}`,n.fill=s,n.fontStyle=r,n.fontWeight=o,n.fontSize=a,n.fontFamily=l}updateMarkers(){let{nextButton:t,previousButton:i,nextButtonDisabled:n,previousButtonDisabled:s,activeStyle:r,inactiveStyle:o,highlightStyle:a,highlightActive:l}=this,c=(u,d)=>d?o:u===l?a:r;this.updateMarker(t,c("next",n)),this.updateMarker(i,c("previous",s))}updateMarker(t,i){let{size:n}=this.marker;t.size=n,t.fill=i.fill,t.fillOpacity=i.fillOpacity??1,t.stroke=i.stroke,t.strokeWidth=i.strokeWidth,t.strokeOpacity=i.strokeOpacity}enableOrDisableButtons(){let{currentPage:t,totalPages:i}=this,n=i===0,s=t===i-1,r=t===0;this.nextButtonDisabled=s||n,this.previousButtonDisabled=r||n}nextButtonContainsPoint(t,i){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,i)}previousButtonContainsPoint(t,i){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,i)}clickNext(){this.incrementPage(),this.onPaginationChanged()}clickPrevious(){this.decrementPage(),this.onPaginationChanged()}setPage(t){t=De(0,t,this.totalPages-1),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}onPaginationClick(t){let{offsetX:i,offsetY:n}=t;t.preventDefault(),this.nextButtonContainsPoint(i,n)?this.clickNext():this.previousButtonContainsPoint(i,n)&&this.clickPrevious()}onPaginationMouseMove(t){let{offsetX:i,offsetY:n}=t;this.nextButtonContainsPoint(i,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(i,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){let t=hr(this.marker.shape||vu);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox(!0)}computeCSSBounds(){let t=this._previousButton.computeTransformedBBox(),i=this._nextButton.computeTransformedBBox();return{prev:t,next:i}}};return e.className="Pagination",e})();m([b(Q)],$u.prototype,"marker",2);m([b(Q)],$u.prototype,"activeStyle",2);m([b(Q)],$u.prototype,"inactiveStyle",2);m([b(Q)],$u.prototype,"highlightStyle",2);m([b(Q)],$u.prototype,"label",2);var fa=class extends Te{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};m([b(H,{optional:!0})],fa.prototype,"maxLength",2);m([b(it)],fa.prototype,"color",2);m([b(aa,{optional:!0})],fa.prototype,"fontStyle",2);m([b(la,{optional:!0})],fa.prototype,"fontWeight",2);m([b(H)],fa.prototype,"fontSize",2);m([b(U)],fa.prototype,"fontFamily",2);m([b(mn,{optional:!0})],fa.prototype,"formatter",2);var Wu=class extends Te{constructor(){super(...arguments),this.size=15,this.padding=8}};m([Yi(e=>e.parent?.onMarkerShapeChange())],Wu.prototype,"shape",2);m([b(H)],Wu.prototype,"size",2);m([b(H)],Wu.prototype,"padding",2);m([b(H,{optional:!0})],Wu.prototype,"strokeWidth",2);m([b(pe)],Wu.prototype,"enabled",2);var PD=class extends Te{};m([b(H,{optional:!0})],PD.prototype,"strokeWidth",2);m([b(H,{optional:!0})],PD.prototype,"length",2);var ga=class extends Te{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Wu,this.label=new fa,this.line=new PD}};m([b(H,{optional:!0})],ga.prototype,"maxWidth",2);m([b(H)],ga.prototype,"paddingX",2);m([b(H)],ga.prototype,"paddingY",2);m([b(pe)],ga.prototype,"showSeriesStroke",2);m([b(Q)],ga.prototype,"marker",2);m([b(Q)],ga.prototype,"label",2);m([b(Q)],ga.prototype,"line",2);var FD=class extends Te{};m([b(mn,{optional:!0})],FD.prototype,"legendItemClick",2);m([b(mn,{optional:!0})],FD.prototype,"legendItemDoubleClick",2);var fy="legend-visibility",GO="legend-other-series",On=(()=>{let e=class extends Te{constructor(t){super(),this.ctx=t,this.id=ls(this),this.group=new se({name:"legend",layer:!0,zIndex:13}),this.itemSelection=bt.select(this.group,ra),this.spriteRenderer=new oQ,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new ga,this.listeners=new FD,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new $u(l=>t.updateService.update(l),l=>this.updatePageNumber(l),t.regionManager,t.cursorManager),this.pagination.attachPagination(this.group),t.contextMenuRegistry.registerDefaultAction({id:fy,type:"legend",label:"contextMenuToggleSeriesVisibility",action:l=>this.contextToggleVisibility(l)}),t.contextMenuRegistry.registerDefaultAction({id:GO,type:"legend",label:"contextMenuToggleOtherSeries",action:l=>this.contextToggleOtherSeries(l)});let{Default:i,Animation:n,ContextMenu:s}=Np,r=i|n,o=i|n|s,a=t.regionManager.addRegion("legend",this.group);this.destroyFns.push(a.addListener("contextmenu",l=>this.checkContextClick(l),o),a.addListener("click",l=>this.checkLegendClick(l),r),a.addListener("dblclick",l=>this.checkLegendDoubleClick(l),r),a.addListener("hover",l=>this.handleLegendMouseMove(l),r),a.addListener("leave",()=>this.handleLegendMouseExit(),r),a.addListener("enter",l=>this.handleLegendMouseEnter(l),r),t.layoutService.addListener("start-layout",l=>this.positionLegend(l)),t.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.parent?.removeChild(this.group)),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0})}set data(t){this._data=t,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(t=>t()),this.pagination.destroy(),this.itemSelection.clear()}initLegendItemToolbar(){this.itemSelection.each((i,n,s)=>{i.proxyButton??(i.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`ag-charts-legend-item-${s}`,textContent:this.getItemAriaText(s),parent:this.proxyLegendToolbar,focusable:i,onclick:()=>{this.doClick(i.datum),i.proxyButton.textContent=this.getItemAriaText(s,!i.datum.enabled)},onblur:()=>this.handleLegendMouseExit(),onfocus:()=>{let r=i?.computeTransformedBBox(),o=nF(this.ctx.focusIndicator,{bounds:r,showFocusBox:!0});this.doHover(o,i.datum),this.pagination.setPage(i.pageIndex)}}))});let t=this.itemSelection.nodes().map(i=>i.proxyButton).filter(i=>!!i);S0({orientation:this.getOrientation(),buttons:t,toolbar:this.proxyLegendToolbar})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){let{ctx:{callbackCache:i}}=this,{formatter:n}=this.item.label;return n?i.call(n,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}calcLayout(t,i){let{paddingX:n,paddingY:s,label:r,maxWidth:o,label:{maxLength:a=1/0,fontStyle:l,fontWeight:c,fontSize:u,fontFamily:d}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse();let p=this.itemSelection.nodes().length===0;this.itemSelection.update(h),p&&this.initLegendItemToolbar();let f=[],g=Ht.toFontString(r),x=o??t*.8,v=this.calculateSpriteDimensions();if(this.spriteRenderer.resize(v),this.itemSelection.each((E,P)=>{E.fontStyle=l,E.fontWeight=c,E.fontSize=u,E.fontFamily=d;let N=this.updateMarkerLabel(E,P,v),j=P.itemId??P.id,oe=(this.getItemLabel(P)??"<unknown>").replace(/\r?\n/g," ");E.text=this.truncate(oe,a,x,N,g,j),f.push(E.getBBox())}),t=Math.max(1,t),i=Math.max(1,i),!isFinite(t))return{};let _=this.size,C=this.oldSize;_[0]=t,_[1]=i,(_[0]!==C[0]||_[1]!==C[1])&&(C[0]=_[0],C[1]=_[1]);let{pages:w,maxPageHeight:D,maxPageWidth:M}=this.updatePagination(f,t,i),I=this.pages;this.pages=w,this.maxPageSize=[M-n,D-s];let T=this.pagination.currentPage,A=this.pages[T];return this.pages.length<1||!A?(this.visible=!1,{oldPages:I}):(this.visible=!0,this.updatePositions(T),this.update(),{oldPages:I})}calcSymbolsEnabled(t){let{showSeriesStroke:i,marker:n}=this.item,s=!!n.enabled||!i||(t.marker.enabled??!0),r=!!(t.line&&i);return{markerEnabled:s,lineEnabled:r}}calcSymbolsLengths(t){let{marker:i,line:n}=this.item,{markerEnabled:s,lineEnabled:r}=this.calcSymbolsEnabled(t),{strokeWidth:o}=this.getMarkerStyles(t),{strokeWidth:a}=r?this.getLineStyles(t):{strokeWidth:0},l=s?i.size:0,c=r?n.length??25:0;return{markerLength:l,markerStrokeWidth:o,lineLength:c,lineStrokeWidth:a}}calculateSpriteDimensions(){let t=0,i=0,n=0,s=0;return this.itemSelection.each((o,a)=>{a.symbols.forEach(l=>{let{markerLength:c,markerStrokeWidth:u,lineLength:d,lineStrokeWidth:h}=this.calcSymbolsLengths(l),p=c+u;s=Math.max(s,d,c),i=Math.max(i,d,p),n=Math.max(n,h,p),t=Math.max(t,u+.5)})}),i+=t*2,n+=t*2,{spritePixelRatio:Vs().devicePixelRatio,spriteAAPadding:t,spriteWidth:i,spriteHeight:n,markerWidth:s}}updateMarkerLabel(t,i,n){let{marker:s,paddingX:r}=this.item,{markerWidth:o}=n,a=[],l=r;if(t.markers.length!==i.symbols.length&&t.lines.length!==i.symbols.length){let c=[],u=[];i.symbols.forEach(d=>{let{shape:h=d.marker.shape}=s,p=hr(h);u.push(new li),c.push(new p)}),t.updateSymbols(c,u)}return i.symbols.forEach((c,u)=>{let d=c.marker.padding??s.padding,{markerEnabled:h,lineEnabled:p}=this.calcSymbolsEnabled(c);t.markers[u].size=h||!p?s.size:0,a.push({length:o,spacing:d}),(h||p)&&(l+=d+o);let f=t.markers[u],g=t.lines[u];if(f){let{strokeWidth:y,fill:x,stroke:v,fillOpacity:_,strokeOpacity:C}=this.getMarkerStyles(c);f.fill=x,f.stroke=v,f.strokeWidth=y,f.fillOpacity=_,f.strokeOpacity=C}if(g){let y=this.getLineStyles(c);g.stroke=y.stroke,g.strokeOpacity=y.strokeOpacity,g.strokeWidth=y.strokeWidth,g.lineDash=y.lineDash}}),t.update(this.spriteRenderer,n,a),l}truncate(t,i,n,s,r,o){let a=!1;t.length>i&&(t=t.substring(0,i),a=!0);let l=eo.getMeasurer({font:r}),c=fD.truncateLine(t,l,n-s,a);return c.endsWith(Ht.EllipsisChar)?this.truncatedItems.add(o):this.truncatedItems.delete(o),c}updatePagination(t,i,n){let s=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=s,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:o,maxPageHeight:a,maxPageWidth:l,paginationBBox:c,paginationVertical:u}=this.calculatePagination(t,i,n),d=o.findIndex(C=>C.endIndex>=r);this.pagination.currentPage=De(0,d,o.length-1);let{paddingX:h,paddingY:p}=this.item,f=8,g=l-h,y=a-p,x=0,v=-c.y-this.item.marker.size/2;u?v+=y+f:(x+=-c.x+g+f,v+=(y-c.height)/2),this.pagination.translationX=x,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers();let _=0;return this.itemSelection.each((C,w,D)=>{D>(o[_]?.endIndex??1/0)&&_++,C.pageIndex=_}),{maxPageHeight:a,maxPageWidth:l,pages:o}}updateItemProxyButtons(){this.itemSelection.each(t=>{let i=t.computeTransformedBBox()?.clone();i.translate(this.group.translationX,this.group.translationY),ea(t.proxyButton,i)})}updatePaginationProxyButtons(t){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";let i=(t?.length??this.pages.length)>1,n=this.pages.length>1;i!==n&&(n?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.previousButton,onclick:()=>this.pagination.clickPrevious()}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.nextButton,onclick:()=>this.pagination.clickNext()}))):(this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0]));let{prev:s,next:r}=this.pagination.computeCSSBounds();ea(this.proxyPrevButton,s),ea(this.proxyNextButton,r)}calculatePagination(t,i,n){let{paddingX:s,paddingY:r}=this.item,o=this.getOrientation(),a=["left","right"].includes(this.position),l=this.pagination.getBBox(),c=new X(0,0,0,0),u=[],d=0,h=0,p=0,f=y=>y.width===l.width&&y.height===l.height,g=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(p++>10){z.warn("unable to find stable legend layout.");break}l=c;let y=i-(a?0:l.width),x=n-(a?l.height:0),v=lQ({orientation:o,bboxes:t,maxHeight:x,maxWidth:y,itemPaddingY:r,itemPaddingX:s,forceResult:g});u=v?.pages??[],d=v?.maxPageWidth??0,h=v?.maxPageHeight??0;let _=u.length;if(this.pagination.visible=_>1,this.pagination.totalPages=_,this.pagination.update(),c=this.pagination.getBBox(),!this.pagination.visible)break}while(!f(c));return{maxPageWidth:d,maxPageHeight:h,pages:u,paginationBBox:l,paginationVertical:a}}updatePositions(t=0){let{item:{paddingY:i},itemSelection:n,pages:s}=this;if(s.length<1||!s[t])return;let{columns:r,startIndex:o,endIndex:a}=s[t],l=0,c=0,u=r.length,d=r[0].indices.length,h=this.getOrientation()==="horizontal",p=r[0].bboxes[0].height+i,f=[];n.each((g,y,x)=>{if(x<o||x>a){g.visible=!1;return}let v=x-o,_,C;h?(_=v%u,C=Math.floor(v/u)):(_=Math.floor(v/d),C=v%d),g.visible=!0;let w=r[_];w&&(c=Math.floor(p*C),l=Math.floor(f[C]??0),f[C]=(f[C]??0)+w.columnWidth,g.translationX=l,g.translationY=c)})}updatePageNumber(t){let{pages:i}=this,{startIndex:n,endIndex:s}=i[t];n===0?this.paginationTrackingIndex=0:t===i.length-1?this.paginationTrackingIndex=s:this.paginationTrackingIndex=Math.floor((n+s)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(6)}update(){let{label:{color:t}}=this.item;this.itemSelection.each((i,n)=>{i.setEnabled(n.enabled),i.color=t}),this.updateContextMenu()}updateContextMenu(){let{toggleSeries:t}=this;this.ctx.contextMenuRegistry.setActionVisiblity(fy,t),this.ctx.contextMenuRegistry.setActionVisiblity(GO,t)}getLineStyles(t){let{stroke:i,strokeOpacity:n=1,strokeWidth:s,lineDash:r}=t.line??{},o=Math.min(2,s??1);return{stroke:i,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??o,lineDash:r}}getMarkerStyles(t){let{fill:i,stroke:n,strokeOpacity:s=1,fillOpacity:r=1,strokeWidth:o}=t.marker,a=Math.min(2,o??1);return{fill:i,stroke:n,strokeOpacity:s,fillOpacity:r,strokeWidth:this.item.marker.strokeWidth??a}}getDatumForPoint(t,i){let n=[],s={dist:1/0,datum:void 0};for(let o of this.group.children){if(!o.visible||!(o instanceof ra))continue;let a=o.getBBox().clone();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(t,i))return o.datum;let l=t-a.x-this.item.paddingX/2,c=i-a.y-this.item.paddingY/2,u=l**2+c**2;l>=0&&c>=0&&u<s.dist&&(s.dist=u,s.datum=o.datum),n.push(a)}if(X.merge(n).containsPoint(t,i))return s.datum}computePagedBBox(){let t=this.group.getBBox();if(this.pages.length<=1)return t;let[i,n]=this.maxPageSize;return t=t.clone(),t.height=Math.max(n,t.height),t.width=Math.max(i,t.width),t}contextToggleVisibility(t){let i=this.data.find(n=>n.itemId===t.itemId);this.doClick(i)}contextToggleOtherSeries(t){let i=this.data.find(n=>n.itemId===t.itemId);this.doDoubleClick(i)}checkContextClick(t){let i=this.getDatumForPoint(t.offsetX,t.offsetY);this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(fy):this.ctx.contextMenuRegistry.enableAction(fy),this.ctx.contextMenuRegistry.dispatchContext("legend",t,{legendItem:i})}checkLegendClick(t){let i=this.getDatumForPoint(t.offsetX,t.offsetY);this.doClick(i)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(t=>t.getLegendData("category")).filter(t=>t.enabled).length}doClick(t){let{listeners:{legendItemClick:i},ctx:{chartService:n,highlightManager:s},preventHidingAll:r,toggleSeries:o}=this;if(!t)return!1;let{id:a,itemId:l,enabled:c}=t,u=n.series.find(h=>h.id===a);if(!u)return!1;let d=c;if(o){d=!c,r&&!d&&this.getVisibleItemCount()<2&&(d=!0);let h=d?"ariaAnnounceVisible":"ariaAnnounceHidden";this.ctx.ariaAnnouncementService.announceValue(h),this.ctx.chartEventManager.legendItemClick(u,l,d,t.legendItemName)}return d?s.updateHighlight(this.id,{series:u,itemId:l,datum:void 0}):s.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),i?.({type:"click",enabled:d,itemId:l,seriesId:u.id}),!0}checkLegendDoubleClick(t){let i=this.getDatumForPoint(t.offsetX,t.offsetY);this.doDoubleClick(i)&&t.preventDefault()}doDoubleClick(t){let{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:s}=this;if(n.mode==="integrated"||!t)return!1;let{id:r,itemId:o,seriesId:a}=t,l=n.series.find(c=>c.id===r);if(!l)return!1;if(s){let c=n.series.flatMap(h=>h.getLegendData("category")),u=c.filter(h=>h.enabled).length,d=c.find(h=>h.itemId===o&&h.seriesId===a);this.ctx.chartEventManager.legendItemDoubleClick(l,o,d?.enabled??!1,u,d?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),i?.({type:"dblclick",enabled:!0,itemId:o,seriesId:l.id}),!0}handleLegendMouseMove(t){if(!this.enabled)return;let{offsetX:i,offsetY:n}=t;t.preventDefault();let s=this.getDatumForPoint(i,n);this.doHover(t,s)}doHover(t,i){let{toggleSeries:n,listeners:s}=this;if(t===void 0||i===void 0){this.ctx.cursorManager.updateCursor(this.id),this.updateHighlight();return}let r=i?this.ctx.chartService.series.find(o=>o.id===i?.id):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){let{offsetX:o,offsetY:a}=t;this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:a,lastPointerEvent:t,showArrow:!1},Du({content:this.getItemLabel(i)}))}else this.ctx.tooltipManager.removeTooltip(this.id);(n||s.legendItemClick!=null||s.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),i?.enabled&&r?this.updateHighlight({series:r,itemId:i?.itemId,datum:void 0}):this.updateHighlight()}handleLegendMouseExit(){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){let i=this.ctx.interactionManager.getState();i===16?this.ctx.highlightManager.updateHighlight(this.id,t):i===1&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}handleLegendMouseEnter(t){let{enabled:i,toggleSeries:n,listeners:{legendItemClick:s,legendItemDoubleClick:r}}=this,o=this.getDatumForPoint(t.offsetX,t.offsetY);i&&o!==void 0&&(n||s!=null||r!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}onLocaleChanged(){this.itemSelection.each(({proxyButton:t},i,n)=>{t!=null&&(t.textContent=this.getItemAriaText(n))})}getItemAriaText(t,i){let n=this.data[t],s=n&&this.getItemLabel(n);i??(i=n.enabled);let r=this.ctx.localeManager;if(t>=0&&s){let o=t+1,a=this.data.length,l=r.t("ariaLabelLegendItem",{label:s,index:o,count:a}),c=r.t(i?"ariaAnnounceVisible":"ariaAnnounceHidden");return[l,c].join("")}return r.t("ariaLabelLegendItemUnknown")}positionLegend(t){let{shrinkRect:i}=t,n=i.clone();if(!this.enabled||!this.data.length)return k(S({},t),{shrinkRect:n});let[s,r]=this.calculateLegendDimensions(i);this.group.translationX=0,this.group.translationY=0;let{oldPages:o}=this.calcLayout(s,r),a=this.computePagedBBox(),l=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return i.height-a.height;case"right":default:return i.width-a.width}};if(this.visible){let c=this.spacing,u,d;switch(this.position){case"top":case"bottom":u=(i.width-a.width)/2,d=l(),n.shrink(a.height+c,this.position);break;case"left":case"right":default:u=l(),d=(i.height-a.height)/2,n.shrink(a.width+c,this.position)}this.group.translationX=Math.floor(-a.x+i.x+u),this.group.translationY=Math.floor(-a.y+i.y+d),this.proxyLegendToolbar.style.removeProperty("display"),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}else this.proxyLegendToolbar.style.display="none";return this.updateItemProxyButtons(),this.updatePaginationProxyButtons(o),k(S({},t),{shrinkRect:n})}calculateLegendDimensions(t){let{width:i,height:n}=t,s=i/n,r=.5,o=.2,a=.25,l,c;switch(this.position){case"top":case"bottom":let u=s<1?Math.min(r,o*(1/s)):o;l=this.maxWidth?Math.min(this.maxWidth,i):i,c=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*u);break;case"left":case"right":default:let d=s>1?Math.min(r,a*s):a;l=this.maxWidth?Math.min(this.maxWidth,i):Math.round(i*d),c=this.maxHeight?Math.min(this.maxHeight,n):n}return[l,c]}};return e.className="Legend",e})();m([b(pe)],On.prototype,"toggleSeries",2);m([b(Q)],On.prototype,"pagination",2);m([b(Q)],On.prototype,"item",2);m([b(Q)],On.prototype,"listeners",2);m([Yi(e=>e.updateGroupVisibility()),b(pe)],On.prototype,"enabled",2);m([b(oD)],On.prototype,"position",2);m([b(H,{optional:!0})],On.prototype,"maxWidth",2);m([b(H,{optional:!0})],On.prototype,"maxHeight",2);m([b(pe,{optional:!0})],On.prototype,"reverseOrder",2);m([b(ht(["horizontal","vertical"],"an orientation"),{optional:!0})],On.prototype,"orientation",2);m([b(pe,{optional:!0})],On.prototype,"preventHidingAll",2);m([b(H)],On.prototype,"spacing",2);var fQ={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:e=>new On(e),packageType:"community"},VD=class extends Lp{constructor(e){super(),this.ctx=e,this.localeText=void 0}};m([Yi(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),b(e2,{optional:!0})],VD.prototype,"localeText",2);m([Yi(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),b(mn,{optional:!0})],VD.prototype,"getLocaleText",2);var gQ={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:e=>new VD(e)},Tl=(()=>{let e=class extends Zi{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(t,i){this.dirtyPath=!0,this.centerX=t,this.centerY=i}static align(t,i,n,s,r,o,a,l){let c=t.strokeWidth/2,u=t.align(n+r*a)+c,d=u+t.align(n+r*a,r*(l-a))-2*c,h=t.align(s+o/2)+c;t.setCenter(u,h),i.setCenter(d,h)}computeBBox(){let{centerX:t,centerY:i,width:n,height:s}=this,r=t-n/2,o=i-s/2;return new X(r,o,n,s)}computeTransformedBBox(){return super.computeTransformedBBox()}isPointInPath(t,i){let n=this.transformPoint(t,i);return this.getBBox().containsPoint(n.x,n.y)}updatePath(){let{centerX:t,centerY:i,path:n,strokeWidth:s,gripLineGap:r,gripLineLength:o}=this,a=this.layerManager?.canvas?.pixelRatio??1;n.clear();let l=Math.floor(this.width/2*a)/a,c=Math.floor(this.height/2*a)/a;n.moveTo(t-l,i-c),n.lineTo(t+l,i-c),n.lineTo(t+l,i+c),n.lineTo(t-l,i+c),n.closePath();let u=Math.floor((r+s)/2*a)/a,d=Math.floor(o/2*a)/a;n.moveTo(t-u,i-d),n.lineTo(t-u,i+d),n.moveTo(t+u,i-d),n.lineTo(t+u,i+d)}};return e.className="RangeHandle",e})();m([b(H),Y({redraw:3,type:"path"})],Tl.prototype,"width",2);m([b(H),Y({redraw:3,type:"path"})],Tl.prototype,"height",2);m([b(H),Y({redraw:3,type:"path"})],Tl.prototype,"gripLineGap",2);m([b(H),Y({redraw:3,type:"path"})],Tl.prototype,"gripLineLength",2);var mQ=(()=>{let e=class extends Zi{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(t,i,n,s){this.x=t,this.y=i,this.width=n,this.height=s,this.dirtyPath=!0}update(t,i){this.min=isNaN(t)?this.min:t,this.max=isNaN(i)?this.max:i,this.dirtyPath=!0}computeBBox(){let{x:t,y:i,width:n,height:s}=this;return new X(t,i,n,s)}computeVisibleRangeBBox(){let{x:t,y:i,width:n,height:s,min:r,max:o}=this,a=t+n*r,l=t+n*o;return new X(a,i,l-a,s)}updatePath(){let{path:t,x:i,y:n,width:s,height:r,min:o,max:a,strokeWidth:l}=this,c=l/2;t.clear();let u=this.align(i)+c,d=this.align(n)+c,h=u+this.align(i,s)-2*c,p=d+this.align(n,r)-2*c;t.moveTo(u,d),t.lineTo(h,d),t.lineTo(h,p),t.lineTo(u,p),t.closePath();let f=this.align(i+s*o)+c,g=f+this.align(i+s*o,s*(a-o))-2*c;t.moveTo(f,d),t.lineTo(f,p),t.lineTo(g,p),t.lineTo(g,d),t.closePath()}};return e.className="RangeMask",e})(),yQ=class extends se{constructor(e){super({name:"rangeSelectorGroup",layer:!0,zIndex:14}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new se({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(e)}layout(e,t,i,n,s,r){this.x=e,this.y=t,this.width=i,this.height=n,this.lOffset=s,this.rOffset=r,this.background.translationX=e,this.background.translationY=t}updateBackground(e,t){e!=null&&this.background.removeChild(e),t!=null&&this.background.appendChild(t)}computeBBox(){let{x:e,y:t,width:i,height:n,lOffset:s,rOffset:r}=this;return new X(e-s,t,i+(s+r),n)}},ma=class extends Lp{constructor(e){super(),this.ctx=e,this.miniChart=void 0,this.enabled=!1,this.mask=new mQ,this.minHandle=new Tl,this.maxHandle=new Tl,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),computeTransformedBBox:()=>this.mask.computeVisibleRangeBBox()},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new yQ([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;let t=e.regionManager.addRegion("navigator",this.rangeSelector),i=25;this.destroyFns.push(e.scene.attachNode(this.rangeSelector),t.addListener("hover",n=>this.onHover(n),i),t.addListener("drag-start",n=>this.onDragStart(n),i),t.addListener("drag",n=>this.onDrag(n),i),t.addListener("drag-end",()=>this.onDragEnd(),i),t.addListener("leave",n=>this.onLeave(n),i),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),e.zoomManager.addListener("zoom-change",n=>this.onZoomChange(n))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.minHandle,onchange:n=>this.onMinSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maskVisibleRange,onchange:n=>this.onPanSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maxHandle,onchange:n=>this.onMaxSliderChange(n)})],S0({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push(()=>{this.proxyNavigatorElements.forEach(n=>n.remove()),this.proxyNavigatorToolbar.remove()})}updateBackground(e,t){this.rangeSelector?.updateBackground(e,t)}updateGroupVisibility(){let{enabled:e}=this;this.rangeSelector==null||e===this.rangeSelector.visible||(this.rangeSelector.visible=e,this.proxyNavigatorToolbar.ariaHidden=(!e).toString(),e?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}performLayout(e){return L(this,null,function*(){let{shrinkRect:t}=e;if(this.enabled){let i=this.height+this.spacing;t.shrink(i,"bottom"),this.y=t.y+t.height+this.spacing}else this.y=0;return k(S({},e),{shrinkRect:t})})}performCartesianLayout(e){return L(this,null,function*(){let{x:t,width:i}=e.seriesRect;if(this.enabled){let{y:n,height:s}=this;this.layoutNodes(t,n,i,s),ea(this.proxyNavigatorToolbar,{x:t,y:n,width:i,height:s}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=t,this.width=i})}onHover(e){if(!this.enabled)return;let{mask:t,minHandle:i,maxHandle:n}=this,{offsetX:s,offsetY:r}=e;i.containsPoint(s,r)||n.containsPoint(s,r)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):t.computeVisibleRangeBBox().containsPoint(s,r)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(e){if(!this.enabled)return;let{mask:t,minHandle:i,maxHandle:n,x:s,width:r,_min:o}=this,{offsetX:a,offsetY:l}=e;i.zIndex<n.zIndex?n.containsPoint(a,l)?this.dragging="max":i.containsPoint(a,l)&&(this.dragging="min"):i.containsPoint(a,l)?this.dragging="min":n.containsPoint(a,l)&&(this.dragging="max"),this.dragging==null&&t.computeVisibleRangeBBox().containsPoint(a,l)&&(this.dragging="pan",this.panStart=(a-s)/r-o),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(e){if(!this.enabled||this.dragging==null)return;let{dragging:t,minRange:i,panStart:n,x:s,width:r}=this,{_min:o,_max:a}=this,{offsetX:l}=e,c=(l-s)/r;if(t==="min")o=De(0,c,a-i);else if(t==="max")a=De(o+i,c,1);else if(t==="pan"&&n!=null){let u=a-o;o=De(0,c-n,1-u),a=o+u}this._min=o,this._max=a,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(e){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(e){let{x:t}=e;t&&(this._min=t.min,this._max=t.max,this.updateNodes(t.min,t.max),this.setPanSliderValue(t.min,t.max),this.setSliderRatio(this.proxyNavigatorElements[0],t.min),this.setSliderRatio(this.proxyNavigatorElements[2],t.max))}onPanSliderChange(e){let t=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=De(0,t,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(e){let t=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(t,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(e){let t=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(t,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(e,t){this.proxyNavigatorElements[1].value=`${Math.round(e*100)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:e,max:t})}setSliderRatioClamped(e,t,i){let n=this.getSliderRatio(e),s=De(t,n,i);return s!==n&&this.setSliderRatio(e,s),s}setSliderRatio(e,t){let i=Math.round(t*100);e.value=`${i}`,e.ariaValueText=Xw(i)}getSliderRatio(e){return parseFloat(e.value)/100}layoutNodes(e,t,i,n){let{rangeSelector:s,mask:r,minHandle:o,maxHandle:a,_min:l,_max:c}=this;s.layout(e,t,i,n,o.width/2,a.width/2),r.layout(e,t,i,n),Tl.align(o,a,e,t,i,n,l,c),l+(c-l)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3),[o,this.maskVisibleRange,a].forEach((u,d)=>{let h=u.getBBox(),p={x:h.x-e,y:h.y-t,height:h.height,width:h.width};ea(this.proxyNavigatorElements[d],p)})}updateNodes(e,t){this.mask.update(e,t)}updateZoom(){if(!this.enabled)return;let{_min:e,_max:t}=this;if(e==null||t==null)return;let i=n=>{this.min==null&&this.max==null||z.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${n}] has modified the initial zoom state.`)};return this.ctx.zoomManager.updateZoom("navigator",{x:{min:e,max:t}},!1,i)}};m([b(Q,{optional:!0})],ma.prototype,"miniChart",2);m([b(pe),Yi(e=>e.updateGroupVisibility())],ma.prototype,"enabled",2);m([b(H)],ma.prototype,"height",2);m([b(H)],ma.prototype,"spacing",2);m([Wi({newValue(e){this._min=e,this.updateZoom()}}),b(cs(Ke,Ou("max")),{optional:!0})],ma.prototype,"min",2);m([Wi({newValue(e){this._max=e,this.updateZoom()}}),b(cs(Ke,Ru("min")),{optional:!0})],ma.prototype,"max",2);var _F={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new ma(e),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function Yu({takeColors:e}){let{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}function T0(e){return{marker:Yu(e)}}var CF=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(CF||{}),wF=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(wF||{}),DF=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(DF||{}),SF=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(SF||{}),MF=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(MF||{}),TF=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(TF||{}),ip=Symbol("is-dark-theme"),Rt=Symbol("default-font"),ai=Symbol("default-label-colour"),IF=Symbol("default-inverted-label-colour"),zl=Symbol("default-inside-series-label-colour"),Il=Symbol("default-muted-label-colour"),Au=Symbol("default-axis-grid-colour"),Oy=Symbol("default-axis-line-colour"),np=Symbol("default-cross-lines-colour"),$y=Symbol("default-background-colour"),Gl=Symbol("default-shadow-colour"),vQ=Symbol("default-colours"),Yo=Symbol("default-padding"),vl=Symbol("default-caption-layout-style"),xl=Symbol("default-caption-alignment"),BD=Symbol("palette-up-stroke"),jD=Symbol("palette-down-stroke"),zD=Symbol("palette-up-fill"),GD=Symbol("palette-down-fill"),sp=Symbol("palette-neutral-stroke"),HD=Symbol("palette-neutral-fill"),AF=Symbol("palette-alt-up-stroke"),EF=Symbol("palette-alt-down-stroke"),kF=Symbol("palette-alt-up-fill"),LF=Symbol("palette-alt-down-fill"),NF=Symbol("palette-gray-fill"),UD=Symbol("palette-gray-stroke"),$D=Symbol("default-polar-series-stroke"),Rn=Symbol("default-diverging-series-colour-range"),WD=Symbol("default-hierarchy-fills"),YD=Symbol("default-hierarchy-strokes"),Pn=Symbol("default-annotation-stroke"),ZD=Symbol("default-text-annotation-color"),Fn=Symbol("default-annotation-background-fill"),XD=Symbol("default-annotation-handle-fill"),qD=Symbol("default-textbox-fill"),QD=Symbol("default-textbox-stroke"),KD=Symbol("default-textbox-color"),jp=Symbol("default-toolbar-position"),$r=Symbol("default-gridline-enabled");function OF(e,t,i,n,s){let{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:a}=s,l=(c,u,d)=>{i.animate({id:`${e}_${t}_${u.id}_${c}`,groupId:e,from:0,to:1,ease:cp,collapsable:!1,onUpdate(h,p){p&&c!=="removed"||(u.path.clear(!0),d(h,u),u.checkPathDirty())},onStop(){c==="added"&&(u.path.clear(!0),d(1,u),u.checkPathDirty())},phase:Ui[c]})};for(let c of n)i.isSkipped()||(l("removed",c,a),l("updated",c,o)),l("added",c,r)}var gy=null;function xt(e){if(e!=null)return e===""?"":(gy??(gy=Vt("div")),gy.textContent=String(e),gy.innerHTML)}function Xe({id:e},t,i,...n){fr(e,t,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function Ko({id:e},t,i,...n){fr(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function so(e){return{opacity:1}}var JD=class extends Te{constructor(){super(...arguments),this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},js=class extends JD{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};m([b(pe),Y({redraw:3})],js.prototype,"enabled",2);m([b(it),Y({redraw:3})],js.prototype,"color",2);m([b(dt),Y({redraw:3})],js.prototype,"xOffset",2);m([b(dt),Y({redraw:3})],js.prototype,"yOffset",2);m([b(H),Y({redraw:3})],js.prototype,"blur",2);var RF=ot(e=>hF(e)||typeof e=="function"&&Object.create(e.prototype)instanceof Xi,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),xn=class extends JD{constructor(){super(...arguments),this.enabled=!0,this.shape=Sl,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){let{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};m([b(pe),Y({redraw:3})],xn.prototype,"enabled",2);m([b(RF),Y({redraw:3})],xn.prototype,"shape",2);m([b(H),Y({redraw:3})],xn.prototype,"size",2);m([b(it,{optional:!0}),Y({redraw:3})],xn.prototype,"fill",2);m([b(Ke),Y({redraw:3})],xn.prototype,"fillOpacity",2);m([b(it,{optional:!0}),Y({redraw:3})],xn.prototype,"stroke",2);m([b(H),Y({redraw:3})],xn.prototype,"strokeWidth",2);m([b(Ke),Y({redraw:3})],xn.prototype,"strokeOpacity",2);m([b(mn,{optional:!0}),Y({redraw:3})],xn.prototype,"itemStyler",2);var PF=class extends Te{constructor(){super(...arguments),this.enabled=!1}};m([b(pe)],PF.prototype,"enabled",2);var qi=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.interaction=new PF,this.position=new Pu,this.range=void 0}toTooltipHtml(e,t){return this.renderer?Du(this.renderer(t),e):Du(e)}};m([b(pe)],qi.prototype,"enabled",2);m([b(pe,{optional:!0})],qi.prototype,"showArrow",2);m([b(mn,{optional:!0})],qi.prototype,"renderer",2);m([b(Q)],qi.prototype,"interaction",2);m([b(Q)],qi.prototype,"position",2);m([b(u0,{optional:!0})],qi.prototype,"range",2);var FF=ht(["linear","smooth","step"],"a line style"),VF=ht(["start","middle","end"]),Zu=class extends Te{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};m([b(FF)],Zu.prototype,"type",2);m([b(Ke)],Zu.prototype,"tension",2);m([b(VF)],Zu.prototype,"position",2);var Jt=class extends no{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Zu,this.shadow=new js,this.marker=new xn,this.label=new Qt,this.tooltip=new qi,this.connectMissingData=!1}};m([b(U)],Jt.prototype,"xKey",2);m([b(U,{optional:!0})],Jt.prototype,"xName",2);m([b(U)],Jt.prototype,"yKey",2);m([b(U,{optional:!0})],Jt.prototype,"yName",2);m([b(H,{optional:!0})],Jt.prototype,"normalizedTo",2);m([b(it)],Jt.prototype,"fill",2);m([b(Ke)],Jt.prototype,"fillOpacity",2);m([b(it)],Jt.prototype,"stroke",2);m([b(H)],Jt.prototype,"strokeWidth",2);m([b(Ke)],Jt.prototype,"strokeOpacity",2);m([b(Jr)],Jt.prototype,"lineDash",2);m([b(H)],Jt.prototype,"lineDashOffset",2);m([b(Q)],Jt.prototype,"interpolation",2);m([b(Q)],Jt.prototype,"shadow",2);m([b(Q)],Jt.prototype,"marker",2);m([b(Q)],Jt.prototype,"label",2);m([b(Q)],Jt.prototype,"tooltip",2);m([b(pe)],Jt.prototype,"connectMissingData",2);function xQ(e,t,i,n,s){return(1-s)**3*e+3*(1-s)**2*s*t+3*(1-s)+s**2*i+s**3*n}function Wy(e,t,i,n,s){if(s<=Math.min(e,n))return e<n?0:1;if(s>=Math.max(e,n))return e<n?1:0;let r=0,o=1,a=NaN;for(let l=0;l<8;l+=1)a=(r+o)/2,(1-a)**3*e+3*(1-a)**2*a*t+3*(1-a)*a**2*i+a**3*n<s?r=a:o=a;return a}function Yy(e,t,i,n,s,r,o,a,l){let c=(1-l)*e+l*i,u=(1-l)*t+l*n,d=(1-l)*i+l*s,h=(1-l)*n+l*r,p=(1-l)*s+l*o,f=(1-l)*r+l*a,g=(1-l)*c+l*d,y=(1-l)*u+l*h,x=(1-l)*d+l*p,v=(1-l)*h+l*f,_=(1-l)*g+l*x,C=(1-l)*y+l*v;return[[{x:e,y:t},{x:c,y:u},{x:g,y},{x:_,y:C}],[{x:_,y:C},{x,y:v},{x:p,y:f},{x:o,y:a}]]}function ns(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function BF(e){switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:e.x1,y0:e.y1,x1:e.x0,y1:e.y0};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:e.cp3x,cp0y:e.cp3y,cp1x:e.cp2x,cp1y:e.cp2y,cp2x:e.cp1x,cp2y:e.cp1y,cp3x:e.cp0x,cp3y:e.cp0y};case"step":return{type:"step",moveTo:e.moveTo,x0:e.x1,y0:e.y1,x1:e.x0,y1:e.y0,stepX:e.stepX}}}function my(e,t){let{x:i,y:n}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function hn(e,t,i){let[n,s]=ns(e),r=s.x!==n.x?(i.x-t.x)/(s.x-n.x):0,o=s.y!==n.y?(i.y-t.y)/(s.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*r,cp1y:i.y-(e.cp2y-n.y)*o,cp2x:i.x-(e.cp1x-n.x)*r,cp2y:i.y-(e.cp1y-n.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*r}}}function HO(e,t){return e.moveTo!==t?k(S({},e),{moveTo:t}):e}function UO(e,t){let[i,n]=ns(e),s,r,o,a;if(i.x<n.x?(s=i.x,r=i.y,o=n.x,a=n.y):(s=n.x,r=n.y,o=i.x,a=i.y),t<s)return[hn(e,i,i),HO(e,!1)];if(t>o)return[e,HO(hn(e,n,n),!1)];switch(e.type){case"linear":{let l=r===a?r:(a-r)/(o-s)*(t-s)+r;return[{type:"linear",moveTo:e.moveTo,x0:s,y0:r,x1:t,y1:l},{type:"linear",moveTo:!1,x0:t,y0:l,x1:o,y1:a}]}case"step":return t<e.stepX?[{type:"step",moveTo:e.moveTo,x0:s,y0:r,x1:t,y1:r,stepX:t},{type:"step",moveTo:!1,x0:t,y0:r,x1:o,y1:a,stepX:e.stepX}]:[{type:"step",moveTo:e.moveTo,x0:s,y0:r,x1:t,y1:a,stepX:e.stepX},{type:"step",moveTo:!1,x0:t,y0:a,x1:o,y1:a,stepX:t}];case"cubic":{let l=Wy(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t),[c,u]=Yy(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,l);return[{type:"cubic",moveTo:e.moveTo,cp0x:c[0].x,cp0y:c[0].y,cp1x:c[1].x,cp1y:c[1].y,cp2x:c[2].x,cp2y:c[2].y,cp3x:c[3].x,cp3y:c[3].y},{type:"cubic",moveTo:!1,cp0x:u[0].x,cp0y:u[0].y,cp1x:u[1].x,cp1y:u[1].y,cp2x:u[2].x,cp2y:u[2].y,cp3x:u[3].x,cp3y:u[3].y}]}}}function yy(e,t,i){let{moveTo:n}=e,[s,r]=ns(e),o,a,l,c;if(s.x<r.x?(o=s.x,a=s.y,l=r.x,c=r.y):(o=r.x,a=r.y,l=s.x,c=s.y),i<o)return hn(e,s,s);if(t>l)return hn(e,r,r);switch(e.type){case"linear":{let u=a===c?void 0:(c-a)/(l-o),d=u==null?a:u*(t-o)+a,h=u==null?a:u*(i-o)+a;return{type:"linear",moveTo:n,x0:t,y0:d,x1:i,y1:h}}case"step":if(i<=e.stepX){let u=e.y0;return{type:"step",moveTo:n,x0:t,y0:u,x1:i,y1:u,stepX:i}}else if(t>=e.stepX){let u=e.y1;return{type:"step",moveTo:n,x0:t,y0:u,x1:i,y1:u,stepX:t}}else{let{y0:u,y1:d,stepX:h}=e;return{type:"step",moveTo:n,x0:t,y0:u,x1:i,y1:d,stepX:h}}case"cubic":{let u=Wy(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t),[d,h]=Yy(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,u),p=Wy(h[0].x,h[1].x,h[2].x,h[3].x,i);return[h,d]=Yy(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,p),{type:"cubic",moveTo:n,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function $O(e,t,i){if(e.type==="cubic"&&t.type==="cubic")return{type:"cubic",moveTo:e.moveTo,cp0x:(t.cp0x-e.cp0x)*i+e.cp0x,cp0y:(t.cp0y-e.cp0y)*i+e.cp0y,cp1x:(t.cp1x-e.cp1x)*i+e.cp1x,cp1y:(t.cp1y-e.cp1y)*i+e.cp1y,cp2x:(t.cp2x-e.cp2x)*i+e.cp2x,cp2y:(t.cp2y-e.cp2y)*i+e.cp2y,cp3x:(t.cp3x-e.cp3x)*i+e.cp3x,cp3y:(t.cp3y-e.cp3y)*i+e.cp3y};if(e.type==="step"&&t.type==="step")return{type:"step",moveTo:e.moveTo,x0:(t.x0-e.x0)*i+e.x0,y0:(t.y0-e.y0)*i+e.y0,x1:(t.x1-e.x1)*i+e.x1,y1:(t.y1-e.y1)*i+e.y1,stepX:(t.stepX-e.stepX)*i+e.stepX};let[n,s]=ns(e),[r,o]=ns(t);return{type:"linear",moveTo:e.moveTo,x0:(r.x-n.x)*i+n.x,y0:(r.y-n.y)*i+n.y,x1:(o.x-s.x)*i+s.x,y1:(o.y-s.y)*i+s.y}}function rp(e,t,i=t.moveTo?1:0){let[n]=ns(t);switch(i){case 1:e.moveTo(n.x,n.y);break;case 2:e.lineTo(n.x,n.y);break}switch(t.type){case"linear":e.lineTo(t.x1,t.y1);break;case"cubic":e.cubicCurveTo(t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y);break;case"step":e.lineTo(t.stepX,t.y0),e.lineTo(t.stepX,t.y1),e.lineTo(t.x1,t.y1);break}}function bQ(e){let t=[],i=0,n=NaN,s=NaN;for(let{x:r,y:o}of e){if(i>0){let a=i===1;t.push({type:"linear",moveTo:a,x0:n,y0:s,x1:r,y1:o})}i+=1,n=r,s=o}return t}var _Q={start:0,middle:.5,end:1};function CQ(e,t){let i=[],n=0,s=NaN,r=NaN,o=typeof t=="number"?t:_Q[t];for(let{x:a,y:l}of e){if(n>0){let c=n===1,u=s+(a-s)*o;i.push({type:"step",moveTo:c,x0:s,y0:r,x1:a,y1:l,stepX:u})}n+=1,s=a,r=l}return i}var vy=.05;function wQ(e,t){let i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];let n=i.map((r,o)=>{let a=o===0?r:i[o-1],l=o===i.length-1?r:i[o+1],c=o===0||o===i.length-1;if(Math.sign(a.y-r.y)===Math.sign(l.y-r.y))return 0;if(!c){let u=Math.abs(a.y-l.y),d=Math.abs(r.y-a.y)/u,h=Math.abs(r.y-l.y)/u;if(d<=vy||1-d<=vy||h<=vy||1-h<=vy)return 0}return(l.y-a.y)/(l.x-a.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);let s=[];for(let r=1;r<i.length;r+=1){let o=i[r-1],a=n[r-1],l=i[r],c=n[r],u=l.x-o.x,d=l.y-o.y,h=u*t/3,p=u*a*t/3,f=u*t/3,g=u*c*t/3;c===0&&Math.abs(p)>Math.abs(d)&&(h*=Math.abs(d/p),p=Math.sign(p)*Math.abs(d)),a===0&&Math.abs(g)>Math.abs(d)&&(f*=Math.abs(d/g),g=Math.sign(g)*Math.abs(d)),s.push({type:"cubic",moveTo:r===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+h,cp1y:o.y+p,cp2x:l.x-f,cp2y:l.y-g,cp3x:l.x,cp3y:l.y})}return s}function yp({id:e},t,i,...n){let s={phase:i?Ui[i]:"trailing"};fr(e,"markers",t,n,{opacity:0},{opacity:1},s),n.forEach(r=>r.cleanup())}function eS({id:e},t,...i){fr(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function tS({id:e,nodeDataDependencies:t},i,...n){let s=t.seriesRectWidth;Pt(e,"markers",i,n,{fromFn:(a,l)=>{let c=l.midPoint?.x??s,u=De(0,YR(c/s),1);return isNaN(u)&&(u=0),{scalingX:0,scalingY:0,delay:u,duration:By,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function zp(e){return{opacity:1,scalingX:1,scalingY:1}}function vp(e,t){return{translationX:t.point?.x??NaN,translationY:t.point?.y??NaN}}function iS(e,t){let i=(o,a)=>{let l=e[a][o];return Array.isArray(l)?l[0]:l},n=o=>{let{xValue:a}=o;return e.moved[a]?{point:i(a,"moved"),status:"updated"}:e.removed[a]?{point:i(a,"removed"),status:"removed"}:e.added[a]?{point:i(a,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(o,a)=>{let{status:l,point:c}=n(a);if(l==="unknown")return{opacity:0};let u={translationX:c?.from?.x??o.translationX,translationY:c?.from?.y??o.translationY,opacity:o.opacity,phase:Ui[l]};return t==="added"?k(S({},u),{opacity:0,translationX:c?.to?.x,translationY:c?.to?.y,phase:Ui.added}):(l==="added"&&(u.opacity=0),u)},toFn:(o,a)=>{let{status:l,point:c}=n(a);if(l==="unknown")return{opacity:0};let u={translationX:a.point.x,translationY:a.point.y,opacity:1,phase:Ui[l]};return l==="removed"||t==="removed"?k(S({},u),{translationX:c?.to?.x,translationY:c?.to?.y,opacity:0,phase:Ui.removed}):u}}}function Gp(e,{datumIndex:t}){let i=e.getNodeData();if(i===void 0)return;let n=i[t];if(n===void 0||n.point===void 0)return;let s=e.getFormattedMarkerStyle(n).size,r=s/2,{x:o,y:a}=e.contentGroup.inverseTransformPoint(n.point.x-r,n.point.y-r);return new X(o,a,s,s)}function DQ(e,t,i){let n=i;for(let{x:s,y:r}of t)n?e.lineTo(s,r):(e.moveTo(s,r),n=!0)}var xy=.05;function SQ(e,t,i,n){let s=Array.isArray(t)?t:Array.from(t);if(s.length===0||(n?e.lineTo(s[0].x,s[0].y):e.moveTo(s[0].x,s[0].y),s.length<=1))return;let r=s.map((o,a)=>{let l=a===0?o:s[a-1],c=a===s.length-1?o:s[a+1],u=a===0||a===s.length-1;if(Math.sign(l.y-o.y)===Math.sign(c.y-o.y))return 0;if(!u){let d=Math.abs(l.y-c.y),h=Math.abs(o.y-l.y)/d,p=Math.abs(o.y-c.y)/d;if(h<=xy||1-h<=xy||p<=xy||1-p<=xy)return 0}return(c.y-l.y)/(c.x-l.x)});r[1]===0&&(r[0]*=2),r[r.length-2]===0&&(r[r.length-1]*=2);for(let o=1;o<s.length;o+=1){let a=s[o-1],l=r[o-1],c=s[o],u=r[o],d=c.x-a.x,h=c.y-a.y,p=d*i/3,f=d*l*i/3,g=d*i/3,y=d*u*i/3;u===0&&Math.abs(f)>Math.abs(h)&&(p*=Math.abs(h/f),f=Math.sign(f)*Math.abs(h)),l===0&&Math.abs(y)>Math.abs(h)&&(g*=Math.abs(h/y),y=Math.sign(y)*Math.abs(h)),e.cubicCurveTo(a.x+p,a.y+f,c.x-g,c.y-y,c.x,c.y)}}function MQ(e,t,i,n){let s;for(let r of t){if(s!=null){let o=s.x<r.x?i:1-i,a=(r.x-s.x)*o+s.x;e.lineTo(a,s?.y??r.y),e.lineTo(a,r.y),e.lineTo(r.x,r.y)}else n?e.lineTo(r.x,r.y):e.moveTo(r.x,r.y);s=r}}function Lw(e){return e.reduce(({min:t,max:i},n)=>((t==null||t.point.x>n.point.x)&&(t=n),(i==null||i.point.x<n.point.x)&&(i=n),{min:t,max:i}),{})}function WO(e,t,i){let n=(t.y-e.y)/(t.x-e.x),s=(i-e.x)*n+e.y;return{x:i,y:s}}function YO(e,t,i,n){let s=-1,r=0,o=[];for(;r<e.length;){if(e[r].change===t){o.push(e[r]),r++;continue}if(e[r].change===i){r++;continue}o.length>0&&(n(o,s,r),o.length=0),s=r,r++}o.length>0&&n(o,s,r)}function nS(e,t){YO(e,"out","in",(i,n,s)=>{n===-1&&e[s]?i.forEach(r=>r.to=e[s].from):s===e.length&&e[n]?i.forEach(r=>r.to=e[n].from):t==="intersect"&&e[n]?.from&&e[s]?.from?i.forEach(r=>r.to=WO(e[n].from,e[s].from,r.from.x)):i.forEach(r=>r.to=r.from)}),YO(e,"in","out",(i,n,s)=>{n===-1&&e[s]?i.forEach(r=>r.from=e[s].to):s===e.length&&e[n]?i.forEach(r=>r.from=e[n].to):t==="intersect"&&e[n]?.to&&e[s]?.to?i.forEach(r=>r.from=WO(e[n].to,e[s].to,r.to.x)):i.forEach(r=>r.from=r.to)})}function ZO(e,t,i){let n=isNaN(e.x)?t.x:e.x,s=isNaN(e.y)?t.y:e.y,r=t.x-e.x,o=t.y-e.y,a=isNaN(r)?0:r*i,l=isNaN(o)?0:o*i;return{x:n+a,y:s+l}}var TQ={start:0,middle:.5,end:1};function sS(e,t,i,n=!1){let{path:s}=t;i?.type==="smooth"?SQ(s,e,i.tension??1,n):i?.type==="step"?MQ(s,e,TQ[i.position??"end"],n):DQ(s,e,n)}function jF(e,t){let i,n,s=[],r=()=>{n!=null&&(s.push(n),n=void 0)};for(let o of e){let{from:a,to:l}=o,c=t[o.change];if(c==null||a==null||l==null)continue;let u=ZO(a,l,c);if(o.moveTo===!1)n??(n=[]),n.push(u);else if(o.moveTo===!0||!i)r(),n=[u];else if(i){let d=o.moveTo==="in"?c:1-c,{x:h,y:p}=ZO(i,u,d);n??(n=[]),n.push({x:h,y:p}),r(),n=[u]}i=u}return r(),s}function zF(e,t,i,n){jF(e,t).forEach(s=>{sS(s,i,n)})}function rS({id:e,visible:t,nodeDataDependencies:i},n,...s){let{seriesRectWidth:r,seriesRectHeight:o}=i;fr(e,"path_properties",n,s,{clipX:0},{clipX:r},{phase:"initial",start:{clipMode:"normal",clipY:o,visible:t},finish:{clipMode:void 0,visible:t}})}function op({id:e},t,i,n="add",...s){fr(e,t,i,s,{opacity:0},{opacity:1},{phase:n})}function IQ({id:e},t,i,...n){fr(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function oS(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clipMode:void 0})}function Zy({nodeDataDependencies:e},t){let i=n=>isFinite(n)?n:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}function XO(e){return e.type==="continuous"||e.type==="log"}function qO(e){return e.type==="category"}function QO(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every((i,n)=>i===t.domain[n])&&e.range.every((i,n)=>i===t.range[n])}function KO(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:XO(e)&&XO(t)?e.type===t.type&&QO(e,t):qO(e)&&qO(t)?QO(e,t):!1}function Xy(e){return e==null||!e.range.every(t=>Number.isFinite(t))?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)}function*GF(e){let t=-1,i=0;for(let{point:n}of e){if(n.moveTo){let s=t>=0?{start:t,end:i}:void 0;t=i,i=t,s!==void 0&&(yield s)}i+=1}t!==-1&&(yield{start:t,end:i})}function*HF(e,{start:t,end:i}){for(let n=t;n<i;n+=1)yield e[n].point}function*AQ(e,{start:t,end:i}){for(let n=i-1;n>=t;n-=1)yield e[n].point}function EQ(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function oi(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);let i=t.domain.findIndex(s=>s===e);if(i>=0)return t.range[i];let n=t.domain.findIndex(s=>EQ(e,s));return n>=0?t.range[n]:NaN}function kQ(e,t){return!KO(e.scales.x,t.scales.x)||!KO(e.scales.y,t.scales.y)}function LQ(e,t){let i=Number(e),n=Number(t);return!isNaN(i)&&!isNaN(n)?Math.abs(n-i)<.25:e===t}function UF(e=!1,t=!1){return e===t?!!e:e?"in":"out"}function aS(e,t,i={}){let{backfillSplitMode:n="intersect"}=i,s=[],r={added:{},moved:{},removed:{}},o=(p,f,g,y="move")=>{p&&(isNaN(p.point.x)||isNaN(p.point.y))&&(p=f);let x={from:p?.point,to:f?.point,moveTo:UF(p?.point.moveTo,f?.point.moveTo),change:y};y==="move"?(r.moved[g]=x,d++,h++):y==="in"?(r.added[g]=x,h++):y==="out"&&(r.removed[g]=x,d++),s.push(x)},{min:a,max:l}=Lw(t.nodeData),{min:c,max:u}=Lw(e.nodeData),d=0,h=0;for(;d<t.nodeData.length||h<e.nodeData.length;){let p=t.nodeData[d],f=e.nodeData[h],g=p?oi(p.xValue??NaN,e.scales.x):void 0,y=f?oi(f.xValue??NaN,t.scales.x):void 0,x=void 0;if(g!=null&&LQ(g,f?.point.x))o(p,f,f.xValue,"move");else if(g!=null&&g<(c?.point.x??-1/0))o(p,x,p.xValue,"out");else if(g!=null&&g>(u?.point.x??1/0))o(p,x,p.xValue,"out");else if(y!=null&&y<(a?.point.x??-1/0))o(x,f,f.xValue,"in");else if(y!=null&&y>(l?.point.x??1/0))o(x,f,f.xValue,"in");else if(g!=null&&g<f?.point.x)o(p,x,p.xValue,"out");else if(y!=null&&y<p?.point.x)o(x,f,f.xValue,"in");else if(p)o(p,x,p.xValue,"out");else if(f)o(x,f,f.xValue,"in");else throw new Error("Unable to process points")}return nS(s,n),{result:s,resultMap:r}}function lS(e,t,i,n={}){let{backfillSplitMode:s="intersect",multiDatum:r=!1}=n,o=[],a={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"},u,d,h=(x,v)=>{var _;let C=c[v.change];r?((_=l[C])[x]??(_[x]=[]),l[C][x].push(v)):a[C][x]=v,u=v,d=yu(x)},p=0,f=0,g=!1;for(;p<t.nodeData.length||f<e.nodeData.length;){let x=t.nodeData[p],v=e.nodeData[f],_=yu(x?.xValue),C=yu(v?.xValue),w;if(_===C)w={change:"move",moveTo:UF(x.point.moveTo??!1,v.point.moveTo),from:x.point,to:v.point},h(x?.xValue,w),p++,f++;else if(i?.removed.has(String(_)))w={change:"out",moveTo:x.point.moveTo??!1,from:x.point},h(x?.xValue,w),p++;else if(i?.added.has(String(C)))w={change:"in",moveTo:v.point.moveTo??!1,to:v.point},h(v?.xValue,w),f++;else if(r&&u&&d===_)w=S({},u),h(x?.xValue,w),p++;else if(r&&u&&d===C)w=S({},u),h(v?.xValue,w),f++;else{g=!0;break}o.push(w)}let y=-1/0;return g||(g=o.some(x=>{let{change:v,to:{x:_=-1/0}={}}=x;if(v==="out")return;let C=_<y;return y=_,C})),g?{result:void 0,resultMap:void 0}:(nS(o,s),{result:o,resultMap:r?l:a})}function $F(e,t,i){let n="updated",s=r=>r.visible;if(!s(t)&&s(e))n="added";else if(s(t)&&!s(e))n="removed";else for(let r=0;r<i.length&&!(i[r].change!=="move"||i[r].from?.x!==i[r].to?.x||i[r].from?.y!==i[r].to?.y);r++)if(r===i.length-1)return"no-op";return n}function cS(e,t){let i=t==="none"?"updated":e,n={fromFn:s=>{let r;return e==="removed"?r={finish:{visible:!1}}:e==="added"?r={start:{visible:!0}}:r={},S({phase:Ui[i]},r)},toFn:s=>({phase:Ui[i]})};return t==="fade"?{fromFn:s=>{let r=e==="added"?0:s.opacity;return S({opacity:r},n.fromFn(s))},toFn:s=>S({opacity:e==="removed"?0:1},n.toFn(s))}:n}function WF(e,t,i,n,s,r){let o=$F(e,t,i),a=(d,h)=>{r(i,{move:0,out:d},h,s)},l=(d,h)=>{r(i,{move:d},h,s)},c=(d,h)=>{r(i,{move:1,in:d},h,s)},u=cS(o,n);return{status:o,path:{addPhaseFn:c,updatePhaseFn:l,removePhaseFn:a},pathProperties:u}}function YF(e,t,i,n){let s=e.scales.x?.type==="category",r=t.scales.x?.type==="category";if(s!==r||!Xy(e.scales.x)||!Xy(t.scales.x))return;let{result:o,resultMap:a}=s?lS(e,t,i):aS(e,t),l="updated";if(t.visible&&!e.visible?l="removed":!t.visible&&e.visible&&(l="added"),o===void 0||a===void 0)return;let c=(i?.changed??!0)||kQ(e,t)||l!=="updated",u=WF(e,t,o,"fade",n,zF),d=iS(a,l);return k(S({},u),{marker:d,hasMotion:c})}function Ur(e,t,i=1e-6){return e===t||1-Math.min(e,t)/Math.max(e,t)<i?0:e<t?-1:1}function by(e,t,i){if(e===t)return!0;let n=Number(e),s=Number(t);return Number.isFinite(n)&&Number.isFinite(s)&&Ur(n,s,i)===0}function JO(e,{x:t,y:i}){let n,s=[],r=1/0,o=-1/0;for(let l of e){let c=oi(l.xValue0,t),u=oi(l.yValue0,i),d=oi(l.xValue1,t),h=oi(l.yValue1,i),p=Number.isFinite(c),f=Number.isFinite(d);if(p&&f&&n==null){let g=l.span,y=hn(g,{x:c,y:u},{x:d,y:h}),x={unshifted:g,shifted:y};r=Math.min(r,c),o=Math.max(o,d),s.push(x)}else if(p&&!f&&n==null)n=[l];else if(!p&&!f&&n!=null)n?.push(l);else if(!p&&f&&n!=null){n.push(l);let g=n.at(0),y=n.at(-1),x={x:oi(g.xValue0,t),y:oi(g.yValue0,i)},v={x:oi(y.xValue1,t),y:oi(y.yValue1,i)},_=(v.x-x.x)/(n.length-1);for(let C=0;C<n.length;C+=1){let{span:w,yValue0:D,yValue1:M}=n[C],I=hn(w,{x:x.x+_*(C+0),y:oi(D,i)},{x:x.x+_*(C+1),y:oi(M,i)});s.push({unshifted:w,shifted:I})}r=Math.min(r,x.x),o=Math.max(o,v.x),n=void 0}else if(!p&&f&&n==null){let g=l.span,y=hn(g,{x:d,y:u},{x:d,y:h});s.push({unshifted:g,shifted:y})}else n=void 0}if(n!=null){let l=n.at(0),c=oi(l.xValue0,t);for(let{span:u,yValue0:d,yValue1:h}of n){let p=hn(u,{x:c,y:oi(d,i)},{x:c,y:oi(h,i)});s.push({unshifted:u,shifted:p})}}return{interpolatingInvalidSpans:s,shiftedXRange:[r,o]}}function eR(e,t,i){let n=JO(t.data,e.scales),s=JO(e.data,t.scales),[r,o]=n.shiftedXRange,[a,l]=s.shiftedXRange,c=[],u=[];for(let h of n.interpolatingInvalidSpans){let p=h.unshifted,f=h.shifted,[{x:g,y},{x,y:v}]=ns(p),_=!1;for(let C of s.interpolatingInvalidSpans){let w=C.shifted,D=C.unshifted,[{x:M},{x:I}]=ns(w);if(!(Ur(g,I)!==-1||Ur(x,M)!==1)){if(by(g,M)&&by(x,I))c.push({from:p,to:p}),u.push({from:p,to:D});else if(g<=M&&x>=I)c.push({from:p,to:p}),u.push({from:p,to:f});else{let[{x:T},{x:A}]=ns(f),[{x:E},{x:P}]=ns(D),N=Math.max(g,M),j=Math.min(x,I),ae=yy(p,N,j),oe=yy(w,N,j),re=Math.max(T,E),ie=Math.min(A,P),ne=yy(D,re,ie);c.push({from:ae,to:oe}),u.push({from:oe,to:ne})}_=!0}}if(!_){if(Ur(x,a)!==1)c.push({from:p,to:hn(p,{x:a,y},{x:a,y:v})});else if(Ur(g,l)!==-1)c.push({from:p,to:hn(p,{x:l,y},{x:l,y:v})});else if(i===0){let C=oi(0,t.scales.y);c.push({from:p,to:hn(p,{x:g,y:C},{x,y:C})})}else if(i===1){let[C,w]=UO(p,(g+x)/2);c.push({from:C,to:my(C,{x:g,y})},{from:w,to:my(w,{x,y:v})})}}}let d=[];for(let h of e.data){let p=h.span,[{x:f,y:g},{x:y,y:x}]=ns(p),v=!1;for(let _ of n.interpolatingInvalidSpans){let C=_.shifted,[{x:w},{x:D}]=ns(C);if(!(Ur(w,y)!==-1||Ur(D,f)!==1)){if(by(w,f)&&by(D,y))d.push({from:p,to:p});else if(w<=f&&D>=y){let M=yy(C,f,y);d.push({from:M,to:p})}else d.push({from:p,to:p});v=!0}}if(!v){if(Ur(y,r)!==1)d.push({from:hn(p,{x:r,y:g},{x:r,y:x}),to:p});else if(Ur(f,o)!==-1)d.push({from:hn(p,{x:o,y:g},{x:o,y:x}),to:p});else if(i===0){let _=oi(0,e.scales.y);d.push({from:hn(p,{x:f,y:_},{x:y,y:_}),to:p})}else if(i===1){let[_,C]=UO(p,(f+y)/2);d.push({from:my(_,{x:f,y:g}),to:p},{from:my(C,{x:y,y:x}),to:p})}}}return{added:d,moved:u,removed:c}}var ZF=(e=>(e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.Marker=2]="Marker",e[e.Label=3]="Label",e))(ZF||{});function qC(e,t,i,n){for(let s=0;s<i.length;s+=1){let r=i[s],o=n[s];rp(t.path,$O(r.from,r.to,e),1),rp(t.path,BF($O(o.from,o.to,e)),2),t.path.closePath()}}function NQ(e,t,i,n){let s=(l,c)=>qC(l,c,t.removed,i.removed),r=(l,c)=>qC(l,c,t.moved,i.moved),o=(l,c)=>qC(l,c,t.added,i.added),a=cS(e,n);return{status:e,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:s},pathProperties:a}}function XF(e,t,i){let n=e.scales.x?.type==="category",s=t.scales.x?.type==="category";if(n!==s||!Xy(e.scales.x)||!Xy(t.scales.x))return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");let o=eR({scales:e.scales,data:e.fillData.spans,visible:e.visible},{scales:t.scales,data:t.fillData.spans,visible:t.visible},0),a=eR({scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible},{scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible},0),l=()=>n?lS(e,t,i,{backfillSplitMode:"static",multiDatum:!0}):aS(e,t,{backfillSplitMode:"static"}),{resultMap:c}=l();if(c===void 0)return;let h=NQ(r,o,a,!0?"none":"fade"),p=iS(c,r);return{status:r,fill:h,marker:p}}var OQ=(()=>{let e=class extends pa{constructor(t){super({moduleCtx:t,directionKeys:Vl,directionNames:Bl,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:oS({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:so,marker:(i,n)=>S(S({},zp(i)),vp(i,n))}}),this.properties=new Jt}processData(t){return L(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:i,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:r=1}={}}=this,{xKey:o,yKey:a,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=this.axes.x?.scale,h=this.axes.y?.scale,{isContinuousX:p,xScaleType:f,yScaleType:g}=this.getScaleInformation({xScale:d,yScale:h}),y={value:`area-stack-${s}-yValue`,values:`area-stack-${s}-yValues`,stack:`area-stack-${s}-yValue-stack`,marker:`area-stack-${s}-yValues-marker`},x=[];lp(c)&&x.push(C0(Object.values(y),c,"range")),!p&&u&&this.processedData&&x.push(Fl(this.processedData)),u&&x.push(zu());let v={invalidValue:null};l&&r>1&&(v.invalidValue=0),n||(v.forceValue=0),yield this.requestDataModel(t,i,{props:[Ai(o,f,{id:"xValue"}),qe(a,g,S({id:"yValueRaw"},v)),...iF(a,g,k(S({id:"yValueStack"},v),{groupId:y.stack})),qe(a,g,k(S({id:"yValue"},v),{groupId:y.value})),...ia(a,"window","current",k(S({id:"yValueEnd"},v),{groupId:y.values}),g),...ia(a,"normal","current",k(S({id:"yValueCumulative"},v),{groupId:y.marker}),g),...x],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:i,dataModel:n,axes:s}=this;if(!i||!n||i.data.length===0)return[];let r=s.x,o=s.y,a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",i),c=n.getDomain(this,"yValueEnd","value",i);if(t==="x")return a?.def.type==="key"&&a.def.valueType==="category"?l:gn(gr(l),r);if(o instanceof Bp||o instanceof D0)return gn(c,o);{let u=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return gn(u,o)}}createNodeData(){return L(this,null,function*(){let{axes:t,data:i,processedData:{data:n}={},dataModel:s}=this,r=t.x,o=t.y;if(!r||!o||!i||!s||!this.properties.isValid())return;let{yKey:a,xKey:l,marker:c,label:u,fill:d,stroke:h,connectMissingData:p}=this.properties,{scale:f}=r,{scale:g}=o,{isContinuousY:y}=this.getScaleInformation({xScale:f,yScale:g}),x=(f.bandwidth??0)/2,v=s.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),_=s.resolveProcessedDataIndexById(this,"yValueStack"),C=(le,Z,ue)=>{let B;return(lp(this.properties.normalizedTo)?y&&m0(ue):!isNaN(ue))&&(B=Z),{x:f.convert(le)+x,y:g.convert(B),size:c.size}},w=a,D=[],M=[],{visibleSameStackCount:I}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),T=-1;n?.forEach(le=>{let{keys:Z,keys:[ue],datum:B,values:xe}=le;xe.forEach((Me,de)=>{T++;let _e=B[de],Ge=s.resolveProcessedDataDefsValues(v,{keys:Z,values:Me}),{yValueRaw:et,yValueCumulative:tt,yValueEnd:ei}=Ge,ti=Number.isFinite(et),jt=C(ue,+tt,et);if(ti&&c&&M.push({index:T,series:this,itemId:w,datum:_e,midPoint:{x:jt.x,y:jt.y},cumulativeValue:ei,yValue:et,xValue:ue,yKey:a,xKey:l,point:jt,fill:c.fill??d,stroke:c.stroke??h,strokeWidth:c.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth)}),ti&&u){let hi=this.getLabelText(u,{value:et,datum:_e,xKey:l,yKey:a,xName:this.properties.xName,yName:this.properties.yName},pi=>He(pi)?pi.toFixed(2):String(pi));D.push({index:T,series:this,itemId:a,datum:_e,x:jt.x,y:jt.y,label:hi?{text:hi,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontSize:u.fontSize,fontFamily:u.fontFamily,textAlign:"center",textBaseline:"bottom",fill:u.color}:void 0})}})});let{interpolation:A}=this.properties,E=le=>{let Z,ue=le.map(B=>B.point);switch(A.type){case"linear":Z=bQ(ue);break;case"smooth":Z=wQ(ue,A.tension);break;case"step":Z=CQ(ue,A.position);break}return Z.map((B,xe)=>({span:B,xValue0:le[xe].xDatum,yValue0:le[xe].yDatum,xValue1:le[xe+1].xDatum,yValue1:le[xe+1].yDatum}))},P=le=>le.flatMap(Z=>Array.isArray(Z)?E(Z):new Array(Z.skip).fill(null)),N=n?.flatMap(le=>{let{keys:[Z],values:ue}=le;return ue.map(B=>({xDatum:Z,values:B}))}),j=(le,Z)=>({point:{x:f.convert(le)+x,y:g.convert(Z)},xDatum:le,yDatum:Z}),ae=le=>{let Z=[];if(N==null)return[];for(let ue=0;ue<N.length;ue+=1){let{xDatum:B,values:xe}=N[ue],Me=xe[_],de=Me[le],_e=Number.isFinite(de);if(p&&!_e)continue;let Ge=N[ue-1]?.values[_],et=N[ue+1]?.values[_],tt=0,ei=0;for(let jt=0;jt<=le;jt+=1){let hi=Me[jt];if(Number.isFinite(hi)){let pi=Ge==null||Number.isFinite(Ge[jt]),O0=et==null||Number.isFinite(et[jt]);pi&&(tt+=hi),O0&&(ei+=hi)}}let ti=Z[Z.length-1];if(!p&&(tt!==ei||!_e))if(!_e&&Array.isArray(ti)&&ti.length===1)Z[Z.length-1]={skip:1};else{let jt=j(B,tt),hi=j(B,ei);Array.isArray(ti)?ti.push(jt):ti!=null&&(ti.skip+=1),Z.push(_e?[hi]:{skip:0})}else{let jt=Math.max(tt,ei),hi=j(B,jt);Array.isArray(ti)?ti.push(hi):ti!=null?(ti.skip+=1,Z.push([hi])):Z.push([hi])}}return P(Z)},oe=this.seriesGrouping?.stackIndex??0,re=()=>{if(N==null)return[];let le=N.map(({xDatum:Z,values:ue})=>{let xe=ue[_][oe];if(!(p&&!Number.isFinite(xe)))return j(Z,0)}).filter(Z=>Z!=null);return E(le)},ie=ae(oe),ne=ie.map(()=>null);for(let le=oe-1;le>=-1;le-=1){let Z;for(let ue=0;ue<ne.length;ue+=1)ne[ue]==null&&(Z??(Z=le!==-1?ae(le):re()),ne[ue]=Z[ue])}let Ue=ie.map((le,Z)=>le??ne[Z]),we=ie.filter(le=>le!=null);return{itemId:w,fillData:{itemId:w,spans:Ue,phantomSpans:ne},strokeData:{itemId:w,spans:we},labelData:D,nodeData:M,scales:this.calculateScaling(),visible:this.visible,stackVisible:I>0}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:t}=this.properties.marker,i=hr(t);return new i}updatePathNodes(t){return L(this,null,function*(){let{opacity:i,visible:n,animationEnabled:s}=t,[r,o]=t.paths,a=this.getStrokeWidth(this.properties.strokeWidth);o.setProperties({tag:1,fill:void 0,lineJoin:o.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:n}),r.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:i,visible:n||s,strokeWidth:a}),Zy(this,o),Zy(this,r)})}updatePaths(t){return L(this,null,function*(){this.updateAreaPaths(t.paths,t.contextData)})}updateAreaPaths(t,i){this.updateFillPath(t,i),this.updateStrokePath(t,i)}updateFillPath(t,i){let{spans:n,phantomSpans:s}=i.fillData,[r]=t,{path:o}=r;o.clear(!0);for(let a=0;a<n.length;a+=1){let{span:l}=n[a],c=s[a].span;rp(o,l,1),rp(o,BF(c),2),o.closePath()}r.checkPathDirty()}updateStrokePath(t,i){let{spans:n}=i.strokeData,[,s]=t,{path:r}=s;r.clear(!0);for(let{span:o}of n)rp(r,o);s.checkPathDirty()}updateMarkerSelection(t){return L(this,null,function*(){let{nodeData:i,markerSelection:n}=t;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(t){return L(this,null,function*(){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:r,marker:o,fill:a,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d,highlightStyle:h}=this.properties,p=Ve(n&&h.item,o.getStyle(),{fill:a,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d});i.each((f,g)=>{this.updateMarkerStyle(f,o,{datum:g,highlighted:n,xKey:s,yKey:r},p)}),n||this.properties.marker.markClean()})}updateLabelSelection(t){return L(this,null,function*(){let{labelData:i,labelSelection:n}=t;return n.update(i,s=>{s.tag=3})})}updateLabelNodes(t){return L(this,null,function*(){let{labelSelection:i}=t,{enabled:n,fontStyle:s,fontWeight:r,fontSize:o,fontFamily:a,color:l}=this.properties.label;i.each((c,u)=>{let{x:d,y:h,label:p}=u;p&&n&&this.visible?(c.fontStyle=s,c.fontWeight=r,c.fontSize=o,c.fontFamily=a,c.textAlign=p.textAlign,c.textBaseline=p.textBaseline,c.text=p.text,c.x=d,c.y=h-10,c.fill=l,c.visible=!0):c.visible=!1})})}getTooltipHtml(t){let{id:i,axes:n,dataModel:s}=this,{xKey:r,xName:o,yName:a,tooltip:l,marker:c}=this.properties,{yKey:u,xValue:d,yValue:h,datum:p,itemId:f}=t,g=n.x,y=n.y;if(!this.properties.isValid()||!(g&&y&&He(h))||!s)return to;let x=g.formatDatum(d),v=y.formatDatum(h),_=xt(a),C=xt(x+": "+v),w=Ve({fill:this.properties.fill},c.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:D}=this.getMarkerStyle(c,{datum:t,xKey:r,yKey:u,highlighted:!1},w);return l.toTooltipHtml({title:_,content:C,backgroundColor:D},{datum:p,itemId:f,xKey:r,xName:o,yKey:u,yName:a,color:D,title:_,seriesId:i})}getLegendData(t){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||t!=="category")return[];let{yKey:i,yName:n,fill:s,stroke:r,fillOpacity:o,strokeOpacity:a,strokeWidth:l,lineDash:c,marker:u,visible:d,legendItemName:h}=this.properties,p=!u.enabled||u.fill===void 0;return[{legendType:t,id:this.id,itemId:i,seriesId:this.id,enabled:d,label:{text:h??n??i},symbols:[{marker:{shape:u.shape,fill:p?s:u.fill,fillOpacity:p?o:u.fillOpacity,stroke:u.stroke??r,strokeOpacity:u.strokeOpacity??a,strokeWidth:u.strokeWidth??0,enabled:u.enabled||l<=0},line:{stroke:r,strokeOpacity:a,strokeWidth:l,lineDash:c}}],legendItemName:h}]}animateEmptyUpdateReady(t){let{markerSelection:i,labelSelection:n,contextData:s,paths:r}=t,{animationManager:o}=this.ctx;this.updateAreaPaths(r,s),rS(this,o,...r),Gt([i],vp),tS(this,o,i),Xe(this,"labels",o,n)}animateReadyResize(t){let{contextData:i,paths:n}=t;this.updateAreaPaths(n,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:s,contextData:r,paths:o,previousContextData:a}=t,[l,c]=o;if(l==null&&c==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);let u=()=>{this.resetPathAnimation(t),this.updateAreaPaths(o,r),this.updateStrokePath(o,r)},d=()=>{i.skipCurrentBatch(),u()};if(r==null||a==null){u(),yp(this,i,"added",n),op(this,"fill_path_properties",i,"add",l),op(this,"stroke",i,"trailing",c),Xe(this,"labels",i,s);return}let h=XF(r,a,this.processedData?.reduced?.diff);if(h===void 0){d();return}else if(h.status==="no-op")return;yp(this,i,void 0,n),Pt(this.id,"fill_path_properties",i,[l],h.fill.pathProperties),OF(this.id,"fill_path_update",i,[l],h.fill.path),this.updateStrokePath(o,r),op(this,"stroke",i,"trailing",c),Xe(this,"labels",i,s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new se}getFormattedMarkerStyle(t){let{xKey:i,yKey:n}=t;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:i,yKey:n,highlighted:!0})}computeFocusBounds(t){return Gp(this,t)}};return e.className="AreaSeries",e.type="area",e})(),RQ={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new OQ(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Rt,color:ai}}},paletteFactory:e=>{let{marker:t}=T0(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function*qF(e){for(let t of e.children)yield t}function uS(e,t){for(let i of t){let n=i.datum;n===void 0?z.error("undefined datum"):e.addValue(i,n)}}function dS(e,t){let{x:i,y:n}=e.contentGroup.transformPoint(t.x,t.y),{nearest:s,distanceSquared:r}=e.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(r)}}var hS=class extends no{constructor(){super(...arguments),this.direction="vertical"}};m([b(r2)],hS.prototype,"direction",2);var QF=class extends pa{constructor(){super(...arguments),this.groupScale=new sa,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){let e=this.getCategoryDirection();return this.axes[e]}updateGroupScale(e){let{groupScale:t,smallestDataInterval:i,ctx:{seriesStateManager:n}}=this,s=e.scale,r=st.is(s)?s.calcBandwidth(i):s.bandwidth,o=[],{index:a,visibleGroupCount:l}=n.getVisiblePeerGroupIndex(this);for(let u=0;u<l;u++)o.push(String(u));return t.domain=o,t.range=[0,r??0],e instanceof Bu?t.paddingInner=e.groupPaddingInner:e instanceof Su?t.padding=.1:t.padding=0,t.round=t.padding!==0,{barWidth:t.bandwidth>=1?t.bandwidth:t.rawBandwidth,groupIndex:a}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){uS(e,this.datumNodesIter())}pickNodeClosestDatum(e){return dS(this,e)}},KF=class extends Qt{constructor(){super(...arguments),this.placement="inside"}};m([b(o2)],KF.prototype,"placement",2);var Bt=class extends hS{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new js,this.label=new KF,this.tooltip=new qi}};m([b(U)],Bt.prototype,"xKey",2);m([b(U,{optional:!0})],Bt.prototype,"xName",2);m([b(U)],Bt.prototype,"yKey",2);m([b(U,{optional:!0})],Bt.prototype,"yName",2);m([b(U,{optional:!0})],Bt.prototype,"yFilterKey",2);m([b(U,{optional:!0})],Bt.prototype,"stackGroup",2);m([b(dt,{optional:!0})],Bt.prototype,"normalizedTo",2);m([b(it)],Bt.prototype,"fill",2);m([b(Ke)],Bt.prototype,"fillOpacity",2);m([b(it)],Bt.prototype,"stroke",2);m([b(H)],Bt.prototype,"strokeWidth",2);m([b(Ke)],Bt.prototype,"strokeOpacity",2);m([b(Jr)],Bt.prototype,"lineDash",2);m([b(H)],Bt.prototype,"lineDashOffset",2);m([b(H)],Bt.prototype,"cornerRadius",2);m([b(pe,{optional:!0})],Bt.prototype,"crisp",2);m([b(mn,{optional:!0})],Bt.prototype,"itemStyler",2);m([b(Q,{optional:!0})],Bt.prototype,"shadow",2);m([b(Q)],Bt.prototype,"label",2);m([b(Q)],Bt.prototype,"tooltip",2);function JF(e,t){e.crisp=t.crisp??!0,e.fill=t.fill,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.fillOpacity=t.fillOpacity,e.strokeOpacity=t.strokeOpacity,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.fillShadow=t.fillShadow,e.topLeftCornerRadius=t.topLeftCornerRadius!==!1?t.cornerRadius??0:0,e.topRightCornerRadius=t.topRightCornerRadius!==!1?t.cornerRadius??0:0,e.bottomRightCornerRadius=t.bottomRightCornerRadius!==!1?t.cornerRadius??0:0,e.bottomLeftCornerRadius=t.bottomLeftCornerRadius!==!1?t.cornerRadius??0:0,e.visible=t.visible??!0}function eV(l){var c=l,{datum:e,isHighlighted:t,style:i,highlightStyle:n,itemStyler:s,seriesId:r,ctx:{callbackCache:o}}=c,a=mt(c,["datum","isHighlighted","style","highlightStyle","itemStyler","seriesId","ctx"]);let{fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:f,lineDash:g,lineDashOffset:y,cornerRadius:x=0}=Ve(t&&n,i),v;return s&&(v=o.call(s,S({datum:e.datum,xKey:e.xKey,fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:f,lineDash:g,lineDashOffset:y,cornerRadius:x,highlighted:t,seriesId:r},a))),{fill:v?.fill??u,fillOpacity:v?.fillOpacity??d,stroke:v?.stroke??h,strokeWidth:v?.strokeWidth??p,strokeOpacity:v?.strokeOpacity??f,lineDash:v?.lineDash??g,lineDashOffset:v?.lineDashOffset??y,cornerRadius:v?.cornerRadius??x,topLeftCornerRadius:i.topLeftCornerRadius,topRightCornerRadius:i.topRightCornerRadius,bottomRightCornerRadius:i.bottomRightCornerRadius,bottomLeftCornerRadius:i.bottomLeftCornerRadius,fillShadow:i.fillShadow}}function tV(e,t,i,n){if(t!=null){let[s,r]=t;if(s!==0||r!==1)return!1}if(st.is(e)){let s=e.calcBandwidth(n)-e.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var QC=e=>Cp(e.yValue??0);function xp(e,t,i){let{startingX:n,startingY:s}=FQ(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:n,c=e?s:o.y,u=e?o.width:0,d=e?0:o.height,{opacity:h}=o;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,u=e?a.width:0,d=e?0:a.height,e&&!QC(a)?c+=a.height:!e&&QC(a)&&(l+=a.width));let p;return o.clipBBox==null?p=void 0:QC(o)?p=e?new X(l,c-d,u,d):new X(l-u,c,u,d):p=new X(l,c,u,d),{x:l,y:c,width:u,height:d,clipBBox:p,opacity:h}},mode:i}}function PQ(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity}),mode:t}}function bp(e){let t=s=>s==null||isNaN(s.x)||isNaN(s.y);return{toFn:(s,r,o)=>{let a;return o==="removed"&&s.datum==null&&e.mode==="fade"?a=k(S({},_p(s,r)),{opacity:0}):o==="removed"||t(r)?a=e.calculate(r,s.previousDatum):a={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity},a},fromFn:(s,r,o)=>{o==="updated"&&t(r)?o="removed":o==="updated"&&t(s.previousDatum)&&(o="added");let a;o==="added"&&s.previousDatum==null&&e.mode==="fade"?a=k(S({},_p(s,r)),{opacity:0}):o==="unknown"||o==="added"?a=e.calculate(r,s.previousDatum):a={x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity};let l=Ui[o];return k(S({},a),{phase:l})}}}function FQ(e,t){let i=t[e?"y":"x"],n=1/0,s=0;return i?(e?s=i.scale.convert(st.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(st.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function _p(e,{x:t,y:i,width:n,height:s,clipBBox:r,opacity:o}){return{x:t,y:i,width:n,height:s,clipBBox:r,opacity:o}}function pS(e,t,i){if(e===void 0)return;let{x:n,y:s,width:r,height:o}=e;return t.inverseTransformBBox(new X(n,s,r,o)).clip(i)}function iV(e,t,i){if(t.enabled&&i){let{x:n,y:s,text:r,textAlign:o,textBaseline:a}=i,{color:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h}=t;e.setProperties({visible:!0,x:n,y:s,text:r,fill:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h,textAlign:o,textBaseline:a})}else e.visible=!1}function nV({isPositive:e,isVertical:t,placement:i,padding:n=0,rect:s}){let r=s.x+s.width/2,o=s.y+s.height/2,a="center",l="middle";switch(i){case"start":{t?(o=e?s.y+s.height+n:s.y-n,l=e?"top":"bottom"):(r=e?s.x-n:s.x+s.width+n,a=e?"start":"end");break}case"outside":case"end":{t?(o=e?s.y-n:s.y+s.height+n,l=e?"bottom":"top"):(r=e?s.x+s.width+n:s.x-n,a=e?"start":"end");break}}return{x:r,y:o,textAlign:a,textBaseline:l}}var VQ=(()=>{let e=class extends QF{constructor(t){super({moduleCtx:t,directionKeys:Vl,directionNames:Bl,pickModes:[3,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:_p,label:so}}),this.properties=new Bt}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}processData(t){return L(this,null,function*(){if(!this.properties.isValid()||!this.data)return;let{seriesGrouping:{groupIndex:i=this.id}={},data:n=[]}=this,{xKey:s,yKey:r,yFilterKey:o,normalizedTo:a}=this.properties,l=!this.ctx.animationManager.isSkipped(),c=this.getCategoryAxis()?.scale,u=this.getValueAxis()?.scale,{isContinuousX:d,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:c,yScale:u}),f=`bar-stack-${i}-yValues`,g=`${f}-trailing`,y=[];He(a)&&y.push(C0([f,g],Math.abs(a),"range")),l&&this.processedData&&y.push(Fl(this.processedData)),l&&y.push(zu());let x=this.visible?{}:{forceValue:0},{processedData:v}=yield this.requestDataModel(t,n,{props:[Ai(s,h,{id:"xValue"}),qe(r,p,S({id:"yValue-raw",invalidValue:null},x)),...this.crossFilteringEnabled()?[qe(o,p,S({id:"yFilterValue",invalidValue:null},x))]:[],...ia(r,"normal","current",S({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:f,separateNegative:!0},x),p),...ia(r,"trailing","current",S({id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},x),p),...d?[ZP,XP]:[],...y],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=v.reduced?.smallestKeyInterval,this.largestDataInterval=v.reduced?.largestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:i,dataModel:n,smallestDataInterval:s}=this;if(!i||!n||i.data.length===0)return[];let r=this.getCategoryAxis(),o=this.getValueAxis(),a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",i),c=n.getDomain(this,"yValue-end","value",i),u=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",i):void 0;if(u!=null&&(c=[Math.min(c[0],u[0]),Math.max(c[1],u[1])]),t===this.getCategoryDirection()){if(a?.def.type==="key"&&a.def.valueType==="category")return l;let d=He(s)?s*.5:0,h=gr(l)??[NaN,NaN],p=h[0]+-d,f=h[1]+d;return gn([p,f],r)}else{if(this.getValueAxis()instanceof Bp)return gn(c,o);{let d=[Math.min(0,c[0]),Math.max(0,c[1])];return gn(d,o)}}}createNodeData(){return L(this,null,function*(){let{dataModel:t}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!t||!i||!n||!this.properties.isValid())return;let s=i.scale,r=n.scale,{xKey:o,yKey:a,xName:l,yName:c,fill:u,stroke:d,strokeWidth:h,cornerRadius:p,legendItemName:f,label:g}=this.properties,y=n.isReversed(),{barWidth:x,groupIndex:v}=this.updateGroupScale(i),_=st.is(s)?x*-.5:0,C=t.resolveProcessedDataIndexById(this,"xValue"),w=t.resolveProcessedDataIndexById(this,"yValue-raw"),D=this.crossFilteringEnabled()?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,M=t.resolveProcessedDataIndexById(this,"yValue-start"),I=t.resolveProcessedDataIndexById(this,"yValue-end"),T=t.resolveProcessedDataIndexById(this,"yValue-range"),A=!this.ctx.animationManager.isSkipped(),E=({datum:re,valueIndex:ie,xValue:ne,yValue:Ue,cumulativeValue:we,phantom:Pe,currY:le,prevY:Z,isPositive:ue,yRange:B,labelText:xe,crossScale:Me=1})=>{let de=s.convert(ne),_e=ue!==y,Ge=de+P.convert(String(v))+_,et=r.convert(le),tt=r.convert(Z),ei=this.getBarDirection()==="x",ti=r.convert(B),jt=r.convert(0),hi=x*.5*(1-Me),pi={x:ei?Math.min(et,tt):Ge+hi,y:ei?Ge+hi:Math.min(et,tt),width:ei?Math.abs(tt-et):x*Me,height:ei?x*Me:Math.abs(tt-et)},O0=new X(pi.x,pi.y,pi.width,pi.height),Hp={x:ei?Math.min(jt,ti):Ge+hi,y:ei?Ge+hi:Math.min(jt,ti),width:ei?Math.abs(jt-ti):x*Me,height:ei?x*Me:Math.abs(jt-ti)},{fontStyle:DV,fontWeight:SV,fontSize:MV,fontFamily:TV,color:IV,placement:AV}=g,MS=this.shouldFlipXY()?pi.height:pi.width;return{series:this,itemId:Pe?Zr(a,Pe):a,datum:re,valueIndex:ie,cumulativeValue:we,phantom:Pe,xValue:ne,yValue:Ue,yKey:a,xKey:o,capDefaults:{lengthRatioMultiplier:MS,lengthMax:MS},x:Hp.x,y:Hp.y,width:Hp.width,height:Hp.height,midPoint:{x:pi.x+pi.width/2,y:pi.y+pi.height/2},fill:u,stroke:d,opacity:1,strokeWidth:h,cornerRadius:p,topLeftCornerRadius:ei!==_e,topRightCornerRadius:_e,bottomRightCornerRadius:ei===_e,bottomLeftCornerRadius:!_e,clipBBox:O0,label:xe!=null?S({text:xe,fill:IV,fontStyle:DV,fontWeight:SV,fontSize:MV,fontFamily:TV},nV({isPositive:ue,isVertical:!ei,placement:AV,rect:pi})):void 0,missing:Ue==null,focusable:!Pe}},{groupScale:P,processedData:N}=this,j=[],ae=[],oe=[];return N?.data.forEach(({keys:re,datum:ie,values:ne,aggValues:Ue})=>{ne.forEach((we,Pe)=>{let le=re[C],Z=we[w],ue=Number(we[M]),B=D!=null?Number(we[D]):void 0,xe=Number(we[I]),Me=Z>=0&&!Object.is(Z,-0),de=Ue?.[T][Me?1:0]??0;if(!Number.isFinite(xe)||B!=null&&!Number.isFinite(B))return;let _e=Z!=null?this.getLabelText(this.properties.label,{datum:ie[Pe],value:B??Z,xKey:o,yKey:a,xName:l,yName:c,legendItemName:f},tt=>He(tt)?tt.toFixed(2):String(tt)):void 0,Ge=B!=null&&B>Z,et=E({datum:ie[Pe],valueIndex:Pe,xValue:le,yValue:B??Z,cumulativeValue:B??xe,phantom:!1,currY:B!=null?ue+B:xe,prevY:ue,isPositive:Me,yRange:Math.max(ue+(B??-1/0),de),labelText:_e,crossScale:Ge?.6:void 0});if(ae.push(et),oe.push(et),B!=null){let tt=E({datum:ie[Pe],valueIndex:Pe,xValue:le,yValue:B,cumulativeValue:B,phantom:!0,currY:xe,prevY:ue,isPositive:Me,yRange:de,labelText:void 0,crossScale:void 0});j.push(tt)}})}),{itemId:a,nodeData:j.length>0?[...j,...ae]:ae,labelData:oe,scales:this.calculateScaling(),visible:this.visible||A}})}nodeFactory(){return new vn}getHighlightData(t,i){let n=t.find(s=>s.datum===i.datum&&!s.phantom);return n!=null?[n]:void 0}updateDatumSelection(t){return L(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,i=>Zr(i.xValue,i.valueIndex,i.phantom))})}updateDatumNodes(t){return L(this,null,function*(){if(!this.properties.isValid())return;let{yKey:i,stackGroup:n,fill:s,fillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,lineDash:c,lineDashOffset:u,itemStyler:d,shadow:h,highlightStyle:{item:p}}=this.properties,f=this.axes.x,g=this.properties.crisp??tV(f?.scale,f?.visibleRange,this.smallestDataInterval,this.largestDataInterval),y=this.getCategoryDirection()==="x",x={fill:s,stroke:o,lineDash:c,lineDashOffset:u,fillShadow:h,strokeWidth:this.getStrokeWidth(a),fillOpacity:0,strokeOpacity:0},v={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:p,yKey:i,style:x,itemStyler:d,stackGroup:n};t.datumSelection.each((_,C)=>{x.fillOpacity=r*(C.phantom?.2:1),x.strokeOpacity=l*(C.phantom?.2:1),x.cornerRadius=C.cornerRadius,x.topLeftCornerRadius=C.topLeftCornerRadius,x.topRightCornerRadius=C.topRightCornerRadius,x.bottomRightCornerRadius=C.bottomRightCornerRadius,x.bottomLeftCornerRadius=C.bottomLeftCornerRadius;let w=y?(C.clipBBox?.width??C.width)>0:(C.clipBBox?.height??C.height)>0;v.datum=C;let D=eV(v);D.crisp=g,D.visible=w,JF(_,D)})})}updateLabelSelection(t){return L(this,null,function*(){let i=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(i,n=>{n.pointerEvents=1})})}updateLabelNodes(t){return L(this,null,function*(){t.labelSelection.each((i,n)=>{iV(i,this.properties.label,n.label)})})}getTooltipHtml(t){let{id:i,processedData:n,ctx:{callbackCache:s}}=this,r=this.getCategoryAxis(),o=this.getValueAxis();if(!n||!this.properties.isValid()||!r||!o)return to;let{xKey:a,yKey:l,xName:c,yName:u,fill:d,stroke:h,strokeWidth:p,tooltip:f,itemStyler:g,stackGroup:y,legendItemName:x}=this.properties,{xValue:v,yValue:_,datum:C,itemId:w}=t,D=r.formatDatum(v),M=o.formatDatum(_),I=xt(u),T=xt(D+": "+M),A;g&&(A=s.call(g,{seriesId:i,datum:C,xKey:a,yKey:l,stackGroup:y,fill:d,stroke:h,strokeWidth:this.getStrokeWidth(p),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));let E=A?.fill??d;return f.toTooltipHtml({title:I,content:T,backgroundColor:E},S({seriesId:i,itemId:w,datum:C,xKey:a,yKey:l,xName:c,yName:u,stackGroup:y,title:I,color:E,legendItemName:x},this.getModuleTooltipParams()))}getLegendData(t){let{showInLegend:i}=this.properties;if(t!=="category"||!this.data?.length||!this.properties.isValid()||!i)return[];let{yKey:n,yName:s,fill:r,stroke:o,strokeWidth:a,fillOpacity:l,strokeOpacity:c,legendItemName:u,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:d,label:{text:u??s??n},symbols:[{marker:{fill:r,fillOpacity:l,stroke:o,strokeWidth:a,strokeOpacity:c}}],legendItemName:u}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:i,annotationSelections:n}){let s=bp(xp(this.isVertical(),this.axes,"normal"));Pt(this.id,"nodes",this.ctx.animationManager,[t],s),Xe(this,"labels",this.ctx.animationManager,i),Xe(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(t){let{datumSelection:i,labelSelection:n,annotationSelections:s,previousContextData:r}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);let o=this.processedData?.reduced?.diff,a=r==null?"fade":"normal",l=bp(xp(this.isVertical(),this.axes,a));Pt(this.id,"nodes",this.ctx.animationManager,[i],l,(u,d)=>Zr(d.xValue,d.valueIndex,d.phantom),o),(o?.changed??!0)&&(Xe(this,"labels",this.ctx.animationManager,n),Xe(this,"annotations",this.ctx.animationManager,...s))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t,seriesRect:i}){let n=this.contextNodeData?.nodeData[t].clipBBox;return pS(n,this.contentGroup,i)}};return e.className="BarSeries",e.type="bar",e})(),BQ={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new VQ(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:e=>e?.direction==="horizontal",themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:Rt,color:zl,placement:"inside"},shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:Yu},tR=e=>{let t=ar.fromString(e),[i,n,s]=ar.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:s,a:t.a}},KC=1e-6,iR=e=>e.c<KC||e.l<KC||e.l>1-KC,jQ=(e,t,i)=>{i=De(0,i,1);let n;if(iR(e))n=t.h;else if(iR(t))n=e.h;else{let a=e.h,l=t.h,c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),n=a*(1-i)+l*i}let s=e.c*(1-i)+t.c*i,r=e.l*(1-i)+t.l*i,o=e.a*(1-i)+t.a*i;return ar.fromOKLCH(r,s,n,o)},Hl=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(tR)}update(){let{domain:e,range:t}=this;e.length<2&&(z.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let i=1;i<e.length;i++){let n=e[i-1],s=e[i];if(n>=s){z.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,o)=>r-o);break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(tR)}convert(e){this.refresh();let{domain:t,range:i,parsedRange:n}=this,s=t[0],r=t.at(-1),o=i[0],a=i[i.length-1];if(e<=s)return o;if(e>=r)return a;let l,c;if(t.length===2){let h=(e-s)/(r-s),p=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(h*(i.length-1)),i.length-2),c=(h-l*p)/p}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);let h=t[l],p=t[l+1];c=(e-h)/(p-h)}let u=n[l],d=n[l+1];return jQ(u,d,c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&z.warnOnce("Expected update to not invalidate scale"))}};m([ui],Hl.prototype,"domain",2);m([ui],Hl.prototype,"range",2);var fS=class extends xn{constructor(){super(...arguments),this.maxSize=30}};m([b(H),Y({redraw:3})],fS.prototype,"maxSize",2);m([b(l0,{optional:!0}),Y({redraw:3})],fS.prototype,"domain",2);var sV=class extends Qt{constructor(){super(...arguments),this.placement="top"}};m([b(aD)],sV.prototype,"placement",2);var yt=class extends no{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new sV,this.tooltip=new qi,this.marker=new fS}};m([b(U)],yt.prototype,"xKey",2);m([b(U)],yt.prototype,"yKey",2);m([b(U)],yt.prototype,"sizeKey",2);m([b(U,{optional:!0})],yt.prototype,"labelKey",2);m([b(U,{optional:!0})],yt.prototype,"colorKey",2);m([b(U,{optional:!0})],yt.prototype,"xName",2);m([b(U,{optional:!0})],yt.prototype,"yName",2);m([b(U,{optional:!0})],yt.prototype,"sizeName",2);m([b(U,{optional:!0})],yt.prototype,"labelName",2);m([b(U,{optional:!0})],yt.prototype,"colorName",2);m([b(l0,{optional:!0})],yt.prototype,"colorDomain",2);m([b(us)],yt.prototype,"colorRange",2);m([b(U,{optional:!0})],yt.prototype,"title",2);m([qt("marker.shape")],yt.prototype,"shape",2);m([qt("marker.size")],yt.prototype,"size",2);m([qt("marker.maxSize")],yt.prototype,"maxSize",2);m([qt("marker.domain",{optional:!0})],yt.prototype,"domain",2);m([qt("marker.fill",{optional:!0})],yt.prototype,"fill",2);m([qt("marker.fillOpacity")],yt.prototype,"fillOpacity",2);m([qt("marker.stroke",{optional:!0})],yt.prototype,"stroke",2);m([qt("marker.strokeWidth")],yt.prototype,"strokeWidth",2);m([qt("marker.strokeOpacity")],yt.prototype,"strokeOpacity",2);m([qt("marker.itemStyler",{optional:!0})],yt.prototype,"itemStyler",2);m([b(Q)],yt.prototype,"label",2);m([b(Q)],yt.prototype,"tooltip",2);var zQ=class extends RD{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},GQ=(()=>{let e=class extends pa{constructor(t){super({moduleCtx:t,directionKeys:Vl,directionNames:Bl,pickModes:[2,3,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:so,marker:zp}}),this.NodeEvent=zQ,this.properties=new yt,this.sizeScale=new Fs,this.colorScale=new Hl}processData(t){return L(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let i=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:s,yScaleType:r}=this.getScaleInformation({xScale:i,yScale:n}),o=this.colorScale.type,a=this.sizeScale.type,{xKey:l,yKey:c,sizeKey:u,labelKey:d,colorDomain:h,colorRange:p,colorKey:f,marker:g}=this.properties,{dataModel:y,processedData:x}=yield this.requestDataModel(t,this.data,{props:[Ai(l,s,{id:"xKey-raw"}),Ai(c,r,{id:"yKey-raw"}),...d?[Ai(d,"band",{id:"labelKey-raw"})]:[],qe(l,s,{id:"xValue"}),qe(c,r,{id:"yValue"}),qe(u,a,{id:"sizeValue"}),...f?[qe(f,o,{id:"colorValue"})]:[],...d?[qe(d,"band",{id:"labelValue"})]:[]]}),v=y.resolveProcessedDataIndexById(this,"sizeValue"),_=x.domain.values[v]??[];if(this.sizeScale.domain=g.domain?g.domain:_,f){let C=y.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=h??x.domain.values[C]??[],this.colorScale.range=p,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){let{dataModel:i,processedData:n}=this;if(!n||!i)return[];let s=t==="x"?"xValue":"yValue",r=i.resolveProcessedDataDefById(this,s),o=i.getDomain(this,s,"value",n);if(r?.def.type==="value"&&r?.def.valueType==="category")return o;let a=this.axes[t];return gn(gr(o),a)}createNodeData(){return L(this,null,function*(){let{axes:t,dataModel:i,processedData:n,colorScale:s,sizeScale:r}=this,{xKey:o,yKey:a,sizeKey:l,labelKey:c,xName:u,yName:d,sizeName:h,labelName:p,label:f,colorKey:g,marker:y,visible:x}=this.properties,v=hr(y.shape),{placement:_}=f,C=t.x,w=t.y;if(!(i&&n&&x&&C&&w))return;let D=i.resolveProcessedDataIndexById(this,"xValue"),M=i.resolveProcessedDataIndexById(this,"yValue"),I=l?i.resolveProcessedDataIndexById(this,"sizeValue"):-1,T=g?i.resolveProcessedDataIndexById(this,"colorValue"):-1,A=c?i.resolveProcessedDataIndexById(this,"labelValue"):-1,E=C.scale,P=w.scale,N=(E.bandwidth??0)/2,j=(P.bandwidth??0)/2,ae=[];r.range=[y.size,y.maxSize];let oe=f.getFont(),re=eo.getMeasurer({font:oe});for(let{values:ie,datum:ne}of n.data??[]){let Ue=ie[D],we=ie[M],Pe=E.convert(Ue)+N,le=P.convert(we)+j,Z=this.getLabelText(f,{value:c?ie[A]:we,datum:ne,xKey:o,yKey:a,sizeKey:l,labelKey:c,xName:u,yName:d,sizeName:h,labelName:p}),ue=re.measureText(String(Z)),B=l?r.convert(ie[I]):y.size,xe=g?s.convert(ie[T]):void 0;ae.push({series:this,itemId:a,yKey:a,xKey:o,datum:ne,xValue:Ue,yValue:we,sizeValue:ie[I],point:{x:Pe,y:le,size:B},midPoint:{x:Pe,y:le},fill:xe,label:S({text:Z},ue),marker:v,placement:_})}return{itemId:a,nodeData:ae,labelData:ae,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:t}=this.properties.marker,i=hr(t);return new i}updateMarkerSelection(t){return L(this,null,function*(){let{nodeData:i,markerSelection:n}=t;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());let s=this.properties.marker.enabled?i:[];return n.update(s,void 0,r=>Zr([r.xValue,r.yValue,r.label.text]))})}updateMarkerNodes(t){return L(this,null,function*(){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:r,sizeKey:o,labelKey:a,marker:l}=this.properties,{size:c,shape:u,fill:d,fillOpacity:h,stroke:p,strokeWidth:f,strokeOpacity:g}=Ve(n&&this.properties.highlightStyle.item,l.getStyle()),y={size:c,shape:u,fill:d,fillOpacity:h,stroke:p,strokeWidth:f,strokeOpacity:g};this.sizeScale.range=[l.size,l.maxSize],i.each((x,v)=>{this.updateMarkerStyle(x,l,{datum:v,highlighted:n,xKey:s,yKey:r,sizeKey:o,labelKey:a},y)}),n||this.properties.marker.markClean()})}updateLabelSelection(t){return L(this,null,function*(){let i=this.properties.label.enabled?this.chart?.placeLabels().get(this)??[]:[];return t.labelSelection.update(i.map(n=>k(S({},n.datum),{point:{x:n.x,y:n.y,size:n.datum.point.size}})))})}updateLabelNodes(t){return L(this,null,function*(){let{label:i}=this.properties;t.labelSelection.each((n,s)=>{n.text=s.label.text,n.fill=i.color,n.x=s.point?.x??0,n.y=s.point?.y??0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})})}getTooltipHtml(t){let i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return to;let{xKey:s,yKey:r,sizeKey:o,labelKey:a,xName:l,yName:c,sizeName:u,labelName:d,marker:h,tooltip:p}=this.properties,f=this.properties.title??c,g=Ve({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:y="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:s,yKey:r,sizeKey:o,labelKey:a},g),{datum:x,xValue:v,yValue:_,sizeValue:C,label:{text:w},itemId:D}=t,M=xt(i.formatDatum(v)),I=xt(n.formatDatum(_)),T=`<b>${xt(l??s)}</b>: ${M}<br><b>${xt(c??r)}</b>: ${I}`;return o&&(T+=`<br><b>${xt(u??o)}</b>: ${xt(String(C))}`),a&&(T=`<b>${xt(d??a)}</b>: ${xt(w)}<br>`+T),p.toTooltipHtml({title:f,content:T,backgroundColor:y},{datum:x,itemId:D,xKey:s,xName:l,yKey:r,yName:c,sizeKey:o,sizeName:u,labelKey:a,labelName:d,title:f,color:y,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];let{yKey:t,yName:i,title:n,marker:s,visible:r}=this.properties,{shape:o,fill:a,stroke:l,fillOpacity:c,strokeOpacity:u,strokeWidth:d}=s;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:r,label:{text:n??i??t},symbols:[{marker:{shape:o,fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:c??1,strokeOpacity:u??1,strokeWidth:d??0}}]}]}animateEmptyUpdateReady({markerSelection:t,labelSelection:i}){eS(this,this.ctx.animationManager,t),Xe(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new se}getFormattedMarkerStyle(t){let{xKey:i,yKey:n,sizeKey:s,labelKey:r}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:i,yKey:n,sizeKey:s,labelKey:r,highlighted:!1})}computeFocusBounds(t){return Gp(this,t)}};return e.className="BubbleSeries",e.type="bubble",e})(),HQ={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new GQ(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Rt,color:ai}}},paletteFactory:Yu},Ut=class extends no{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new js,this.label=new Qt,this.tooltip=new qi}};m([b(U)],Ut.prototype,"xKey",2);m([b(U,{optional:!0})],Ut.prototype,"yKey",2);m([b(U,{optional:!0})],Ut.prototype,"xName",2);m([b(U,{optional:!0})],Ut.prototype,"yName",2);m([b(it,{optional:!0})],Ut.prototype,"fill",2);m([b(Ke)],Ut.prototype,"fillOpacity",2);m([b(it,{optional:!0})],Ut.prototype,"stroke",2);m([b(H)],Ut.prototype,"strokeWidth",2);m([b(Ke)],Ut.prototype,"strokeOpacity",2);m([b(Jr)],Ut.prototype,"lineDash",2);m([b(H)],Ut.prototype,"lineDashOffset",2);m([b(H)],Ut.prototype,"cornerRadius",2);m([b(pe)],Ut.prototype,"areaPlot",2);m([b(Nu,{optional:!0})],Ut.prototype,"bins",2);m([b(ht(["count","sum","mean"],"a histogram aggregation"))],Ut.prototype,"aggregation",2);m([b(H,{optional:!0})],Ut.prototype,"binCount",2);m([b(Q)],Ut.prototype,"shadow",2);m([b(Q)],Ut.prototype,"label",2);m([b(Q)],Ut.prototype,"tooltip",2);var nR=10,UQ=(()=>{let e=class extends pa{constructor(t){super({moduleCtx:t,directionKeys:Vl,directionNames:Bl,pickModes:[3,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:_p,label:so}}),this.properties=new Ut,this.calculatedBins=[]}deriveBins(t){let i=h0(t[0],t[1],nR),n=wu(t[0],t[1],nR),[s]=i,r=o=>[o,o+n];return[[s-n,s],...i.map(r)]}calculateNiceBins(t,i){let n=Math.floor(t[0]),s=t[1],r=i||1,{start:o,binSize:a}=this.calculateNiceStart(n,s,r);return this.getBins(o,s,a,r)}getBins(t,i,n,s){let r=[],o=this.calculatePrecision(n);for(let a=0;a<s;a++){let l=Math.round((t+a*n)*o)/o,c=Math.round((t+(a+1)*n)*o)/o;a===s-1&&(c=Math.max(c,i)),r[a]=[l,c]}return r}calculatePrecision(t){let i=10;if(isFinite(t)&&t>0)for(;t<1;)i*=10,t*=10;return i}calculateNiceStart(t,i,n){let s=Math.abs(i-t)/n,r=Math.floor(Math.log10(s)),o=Math.pow(10,r);return{start:Math.floor(t/o)*o,binSize:s}}processData(t){return L(this,null,function*(){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:i,yKey:n,areaPlot:s,aggregation:r}=this.properties,o=this.axes.x?.scale,a=this.axes.y?.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({yScale:a,xScale:o}),u=[Ai(i,l),qP];if(n){let h=Aw("groupAgg");r==="count"||(r==="sum"?h=HP("groupAgg"):r==="mean"&&(h=$P("groupAgg"))),s&&(h=Ew("groupAgg",h)),u.push(qe(n,c,{invalidValue:void 0}),h)}else{let h=Aw("groupAgg");s&&(h=Ew("groupAgg",h)),u.push(h)}let d=h=>{let p=gn(h.domain.keys[0]);if(p.length===0)return h.domain.groups=[],()=>[];let f=In(this.properties.binCount)?this.calculateNiceBins(p,this.properties.binCount):this.properties.bins??this.deriveBins(p),g=f.length;return this.calculatedBins=[...f],y=>{let x=y.keys[0];for(let v=0;v<g;v++){let _=f[v];if(x>=_[0]&&x<_[1]||v===g-1&&x<=_[1])return _}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&u.push(Fl(this.processedData,!1)),yield this.requestDataModel(t,this.data,{props:u,groupByFn:d}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:i,dataModel:n}=this;if(!i||!n||!this.calculatedBins.length)return[];let s=n.getDomain(this,"groupAgg","aggregate",i),r=this.calculatedBins?.[0][0],o=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return gn(t==="x"?[r,o]:s)}createNodeData(){return L(this,null,function*(){let{id:t,axes:i,processedData:n,ctx:{callbackCache:s}}=this,r=i.x,o=i.y;if(!r||!o)return;let{scale:a}=r,{scale:l}=o,{xKey:c,yKey:u,xName:d,yName:h,fill:p,stroke:f,strokeWidth:g,cornerRadius:y}=this.properties,{formatter:x=T=>String(T.value),fontStyle:v,fontWeight:_,fontSize:C,fontFamily:w,color:D}=this.properties.label,M=[],I={itemId:this.properties.yKey??this.id,nodeData:M,labelData:M,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||!n||n.type!=="grouped"||(n.data.forEach(T=>{let{aggValues:[[A,E]]=[[0,0]],datum:P,datum:{length:N},keys:j,keys:[ae,oe]}=T,re=a.convert(ae),ie=a.convert(oe),ne=A+E,Ue=l.convert(0),we=l.convert(ne),Pe=Math.abs(ie-re),le=Math.abs(we-Ue),Z=Math.min(re,ie),ue=Math.min(Ue,we),B;ne!==0&&(B={text:s.call(x,{value:ne,datum:P,seriesId:t,xKey:c,yKey:u,xName:d,yName:h})??String(ne),fontStyle:v,fontWeight:_,fontSize:C,fontFamily:w,fill:D,x:Z+Pe/2,y:ue+le/2});let xe={x:Z+Pe/2,y:ue+le/2},Me=o.isReversed();M.push({series:this,datum:P,aggregatedValue:ne,frequency:N,domain:j,yKey:u,xKey:c,x:Z,y:ue,xValue:re,yValue:we,width:Pe,height:le,midPoint:xe,fill:p,stroke:f,cornerRadius:y,topLeftCornerRadius:!Me,topRightCornerRadius:!Me,bottomRightCornerRadius:Me,bottomLeftCornerRadius:Me,opacity:1,strokeWidth:g,label:B})}),M.sort((T,A)=>T.x-A.x)),I})}nodeFactory(){return new vn}updateDatumSelection(t){return L(this,null,function*(){let{nodeData:i,datumSelection:n}=t;return n.update(i,s=>{s.tag=0,s.crisp=!0},s=>s.domain.join("_"))})}updateDatumNodes(t){return L(this,null,function*(){let{isHighlight:i}=t,{fillOpacity:n,strokeOpacity:s,lineDash:r,lineDashOffset:o,shadow:a,highlightStyle:{item:{fill:l,fillOpacity:c=n,stroke:u,strokeWidth:d}}}=this.properties;t.datumSelection.each((h,p,f)=>{let{cornerRadius:g,topLeftCornerRadius:y,topRightCornerRadius:x,bottomRightCornerRadius:v,bottomLeftCornerRadius:_}=p,C=i&&d!==void 0?d:p.strokeWidth,w=i?c:n;h.fill=(i?l:void 0)??p.fill,h.stroke=(i?u:void 0)??p.stroke,h.fillOpacity=w,h.strokeOpacity=s,h.strokeWidth=C,h.lineDash=r,h.lineDashOffset=o,h.topLeftCornerRadius=y?g:0,h.topRightCornerRadius=x?g:0,h.bottomRightCornerRadius=v?g:0,h.bottomLeftCornerRadius=_?g:0,h.fillShadow=a,h.zIndex=i?Fp.highlightedZIndex:f,h.visible=p.height>0})})}updateLabelSelection(t){return L(this,null,function*(){let{labelData:i,labelSelection:n}=t;return n.update(i,s=>{s.tag=1,s.pointerEvents=1,s.textAlign="center",s.textBaseline="middle"})})}updateLabelNodes(t){return L(this,null,function*(){let i=this.isLabelEnabled();t.labelSelection.each((n,s)=>{let r=s.label;r&&i?(n.text=r.text,n.x=r.x,n.y=r.y,n.fontStyle=r.fontStyle,n.fontWeight=r.fontWeight,n.fontSize=r.fontSize,n.fontFamily=r.fontFamily,n.fill=r.fill,n.visible=!0):n.visible=!1})})}initQuadTree(t){uS(t,qF(this.contentGroup.children[0]))}pickNodeClosestDatum(t){return dS(this,t)}getTooltipHtml(t){let i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return to;let{xKey:s,yKey:r,xName:o,yName:a,fill:l,aggregation:c,tooltip:u}=this.properties,{aggregatedValue:d,frequency:h,domain:[p,f],itemId:g}=t,y=`${xt(o??s)}: ${i.formatDatum(p)} - ${i.formatDatum(f)}`,x=r?`<b>${xt(a??r)} (${c})</b>: ${n.formatDatum(d)}<br>`:"";x+=`<b>Frequency</b>: ${h}`;let v={title:y,backgroundColor:l,content:x};return u.toTooltipHtml(v,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},itemId:g,xKey:s,xName:o,yKey:r,yName:a,color:l,title:y,seriesId:this.id})}getLegendData(t){if(!this.data?.length||t!=="category")return[];let{xKey:i,yName:n,fill:s,fillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:n??i??"Frequency"},symbols:[{marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:o??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:l,strokeWidth:a}}]}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:i}){let n=bp(xp(!0,this.axes,"normal"));Pt(this.id,"datums",this.ctx.animationManager,[t],n),Xe(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){let i=this.processedData?.reduced?.diff,n=bp(xp(!0,this.axes,"normal"));Pt(this.id,"datums",this.ctx.animationManager,[t.datumSelection],n,(s,r)=>Zr(r.domain),i),Xe(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t,seriesRect:i}){return pS(this.contextNodeData?.nodeData[t],this.contentGroup,i)}};return e.className="HistogramSeries",e.type="histogram",e})(),$Q={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new UQ(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:Rt,color:zl},shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{let{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}},di=class extends no{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Zu,this.marker=new xn,this.label=new Qt,this.tooltip=new qi,this.connectMissingData=!1}};m([b(U)],di.prototype,"xKey",2);m([b(U)],di.prototype,"yKey",2);m([b(U,{optional:!0})],di.prototype,"xName",2);m([b(U,{optional:!0})],di.prototype,"yName",2);m([b(U,{optional:!0})],di.prototype,"stackGroup",2);m([b(H,{optional:!0})],di.prototype,"normalizedTo",2);m([b(U,{optional:!0})],di.prototype,"title",2);m([b(it)],di.prototype,"stroke",2);m([b(H)],di.prototype,"strokeWidth",2);m([b(Ke)],di.prototype,"strokeOpacity",2);m([b(Jr)],di.prototype,"lineDash",2);m([b(H)],di.prototype,"lineDashOffset",2);m([b(Q)],di.prototype,"interpolation",2);m([b(Q)],di.prototype,"marker",2);m([b(Q)],di.prototype,"label",2);m([b(Q)],di.prototype,"tooltip",2);m([b(pe)],di.prototype,"connectMissingData",2);var WQ=(()=>{let e=class extends pa{constructor(t){super({moduleCtx:t,directionKeys:Vl,directionNames:Bl,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:oS({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:so,marker:(i,n)=>S(S({},zp(i)),vp(i,n))}}),this.properties=new di}processData(t){return L(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:i,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:r=1}={}}=this,{xKey:o,yKey:a,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=this.axes.x?.scale,h=this.axes.y?.scale,{isContinuousX:p,xScaleType:f,yScaleType:g}=this.getScaleInformation({xScale:d,yScale:h}),y={invalidValue:null};l&&r>1&&(y.invalidValue=0),n||(y.forceValue=0);let x=[];if(p||x.push(Ai(o,f,{id:"xKey"})),x.push(qe(o,f,{id:"xValue"}),qe(a,g,k(S({id:"yValueRaw"},y),{invalidValue:void 0}))),r>1){let v=[`line-stack-${s}-yValues`,`line-stack-${s}-yValues-trailing`,`line-stack-${s}-yValues-marker`];x.push(...ia(a,"window","current",k(S({id:"yValueEnd"},y),{groupId:v[0]}),g),...ia(a,"window-trailing","current",k(S({id:"yValueStart"},y),{groupId:v[1]}),g),...ia(a,"normal","current",k(S({id:"yValueCumulative"},y),{groupId:v[2]}),g)),lp(c)&&x.push(C0([v[0],v[1],v[2]],c,"range"))}u&&(x.push(zu(p?["xValue"]:void 0)),this.processedData&&x.push(Fl(this.processedData))),yield this.requestDataModel(t,i,{props:x}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:i,dataModel:n,axes:s}=this;if(!i||!n||i.data.length===0)return[];let r=s.x,o=s.y,a=n.resolveProcessedDataDefById(this,"xValue");if(t==="x"){let l=n.getDomain(this,"xValue","value",i);return a?.def.type==="value"&&a.def.valueType==="category"?l:gn(gr(l),r)}else{let c=(this.seriesGrouping?.stackCount??1)>1?n.getDomain(this,"yValueEnd","value",i):n.getDomain(this,"yValueRaw","value",i);return gn(c,o)}}createNodeData(){return L(this,null,function*(){let{processedData:t,dataModel:i,axes:n}=this,s=n.x,r=n.y;if(!t||!i||!s||!r)return;let{xKey:o,yKey:a,xName:l,yName:c,marker:u,label:d,connectMissingData:h,legendItemName:p}=this.properties,f=(this.seriesGrouping?.stackCount??1)>1,g=s.scale,y=r.scale,x=(g.bandwidth??0)/2,v=(y.bandwidth??0)/2,_=[],C=u.enabled?u.size:0,w=i.resolveProcessedDataIndexById(this,"xValue"),D=i.resolveProcessedDataIndexById(this,"yValueRaw"),M=f?i.resolveProcessedDataIndexById(this,"yValueCumulative"):D,I=f?i.resolveProcessedDataIndexById(this,"yValueEnd"):void 0,T=!0;return t.data?.forEach(({datum:A,values:E})=>{let P=E[w],N=E[D],j=E[M],ae=I!=null?E[I]:void 0;if(N==null){T||(T=!h);return}let oe=g.convert(P)+x;if(isNaN(oe)){T||(T=!h);return}let re=y.convert(j)+v,ie=this.getLabelText(d,{value:N,datum:A,xKey:o,yKey:a,xName:l,yName:c,legendItemName:p},ne=>He(ne)?ne.toFixed(2):String(ne));_.push({series:this,datum:A,yKey:a,xKey:o,point:{x:oe,y:re,moveTo:T,size:C},midPoint:{x:oe,y:re},cumulativeValue:ae,yValue:N,xValue:P,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:ie?{text:ie,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0}),T=!1}),{itemId:a,nodeData:_,labelData:_,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:t}=this.properties.marker,i=hr(t);return new i}updatePathNodes(t){return L(this,null,function*(){let{paths:[i],opacity:n,visible:s,animationEnabled:r}=t;i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),r||(i.visible=s),Zy(this,i)})}updateMarkerSelection(t){return L(this,null,function*(){let{nodeData:i}=t,{markerSelection:n}=t,{shape:s,enabled:r}=this.properties.marker;return i=s&&r?i:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i,void 0,o=>Zr(o.xValue))})}updateMarkerNodes(t){return L(this,null,function*(){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:r,stroke:o,strokeWidth:a,strokeOpacity:l,marker:c,highlightStyle:u}=this.properties,d=Ve(n&&u.item,c.getStyle(),{stroke:o,strokeWidth:a,strokeOpacity:l}),h=this.ctx.animationManager.isSkipped();i.each((p,f)=>{this.updateMarkerStyle(p,c,{datum:f,highlighted:n,xKey:s,yKey:r},d,{applyTranslation:h})}),n||c.markClean()})}updateLabelSelection(t){return L(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return L(this,null,function*(){let{enabled:i,fontStyle:n,fontWeight:s,fontSize:r,fontFamily:o,color:a}=this.properties.label;t.labelSelection.each((l,c)=>{let{point:u,label:d}=c;c&&d&&i?(l.fontStyle=n,l.fontWeight=s,l.fontSize=r,l.fontFamily=o,l.textAlign=d.textAlign,l.textBaseline=d.textBaseline,l.text=d.text,l.x=u.x,l.y=u.y-10,l.fill=a,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){let i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return to;let{xKey:s,yKey:r,xName:o,yName:a,strokeWidth:l,marker:c,tooltip:u}=this.properties,{datum:d,xValue:h,yValue:p,itemId:f}=t,g=i.formatDatum(h),y=n.formatDatum(p),x=xt(this.properties.title??a),v=xt(g+": "+y),_=Ve({fill:c.stroke},c.getStyle(),{strokeWidth:l}),{fill:C}=this.getMarkerStyle(c,{datum:t,xKey:s,yKey:r,highlighted:!1},_);return u.toTooltipHtml({title:x,content:v,backgroundColor:C},S({datum:d,itemId:f,xKey:s,xName:o,yKey:r,yName:a,title:x,color:C,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){if(!(this.data?.length&&this.properties.isValid()&&t==="category"))return[];let{yKey:i,yName:n,stroke:s,strokeOpacity:r,strokeWidth:o,lineDash:a,title:l,marker:c,visible:u,legendItemName:d}=this.properties,h="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:i,legendItemName:d,seriesId:this.id,enabled:u,label:{text:d??l??n??i},symbols:[{marker:{shape:c.shape,fill:c.fill??h,stroke:c.stroke??s??h,fillOpacity:c.fillOpacity??1,strokeOpacity:c.strokeOpacity??r??1,strokeWidth:c.strokeWidth??0,enabled:c.enabled},line:{stroke:s??h,strokeOpacity:r,strokeWidth:o,lineDash:a}}]}]}updatePaths(t){return L(this,null,function*(){this.updateLinePaths(t.paths,t.contextData)})}updateLinePaths(t,i){let{interpolation:n}=this.properties,{nodeData:s}=i,[r]=t;r.path.clear(!0);for(let o of GF(s))sS(HF(s,o),r,n);r.checkPathDirty()}animateEmptyUpdateReady(t){let{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:r,paths:o}=t,{animationManager:a}=this.ctx;this.updateLinePaths(o,r),rS(this,a,...o),Gt([i],vp),tS(this,a,i),Xe(this,"labels",a,n),Xe(this,"annotations",a,...s)}animateReadyResize(t){let{contextData:i,paths:n}=t;this.updateLinePaths(n,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:s,annotationSelections:r,contextData:o,paths:a,previousContextData:l}=t,[c]=a;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);let u=()=>{this.resetPathAnimation(t),this.updateLinePaths(a,o)},d=()=>{i.skipCurrentBatch(),u()};if(o==null||l==null){u(),yp(this,i,"added",n),op(this,"path_properties",i,"add",c),Xe(this,"labels",i,s),Xe(this,"annotations",i,...r);return}let h=YF(o,l,this.processedData?.reduced?.diff,this.properties.interpolation);if(h===void 0){d();return}else if(h.status==="no-op")return;yp(this,i,void 0,n),Pt(this.id,"path_properties",i,[c],h.pathProperties),OF(this.id,"path_update",i,[c],h.path),h.hasMotion&&(Xe(this,"labels",i,s),Xe(this,"annotations",i,...r))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new se}getFormattedMarkerStyle(t){let{xKey:i,yKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:i,yKey:n,highlighted:!0})}computeFocusBounds(t){return Gp(this,t)}};return e.className="LineSeries",e.type="line",e})(),YQ={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new WQ(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Rt,color:ai},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{let{marker:t}=T0(e);return{stroke:t.fill,marker:t}}},rV=class extends Qt{constructor(){super(...arguments),this.placement="top"}};m([b(aD)],rV.prototype,"placement",2);var Ft=class extends no{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new rV,this.tooltip=new qi,this.marker=new xn}};m([b(U)],Ft.prototype,"xKey",2);m([b(U)],Ft.prototype,"yKey",2);m([b(U,{optional:!0})],Ft.prototype,"labelKey",2);m([b(U,{optional:!0})],Ft.prototype,"colorKey",2);m([b(U,{optional:!0})],Ft.prototype,"xName",2);m([b(U,{optional:!0})],Ft.prototype,"yName",2);m([b(U,{optional:!0})],Ft.prototype,"labelName",2);m([b(U,{optional:!0})],Ft.prototype,"colorName",2);m([b(l0,{optional:!0})],Ft.prototype,"colorDomain",2);m([b(us)],Ft.prototype,"colorRange",2);m([b(U,{optional:!0})],Ft.prototype,"title",2);m([qt("marker.shape")],Ft.prototype,"shape",2);m([qt("marker.size")],Ft.prototype,"size",2);m([qt("marker.fill")],Ft.prototype,"fill",2);m([qt("marker.fillOpacity")],Ft.prototype,"fillOpacity",2);m([qt("marker.stroke")],Ft.prototype,"stroke",2);m([qt("marker.strokeWidth")],Ft.prototype,"strokeWidth",2);m([qt("marker.strokeOpacity")],Ft.prototype,"strokeOpacity",2);m([qt("marker.itemStyler",{optional:!0})],Ft.prototype,"itemStyler",2);m([b(Q)],Ft.prototype,"label",2);m([b(Q)],Ft.prototype,"tooltip",2);var ZQ=(()=>{let e=class extends pa{constructor(t){super({moduleCtx:t,directionKeys:Vl,directionNames:Bl,pickModes:[2,3,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:zp,label:so}}),this.properties=new Ft,this.colorScale=new Hl}processData(t){return L(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let i=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:s,yScaleType:r}=this.getScaleInformation({xScale:i,yScale:n}),o=this.colorScale.type,{xKey:a,yKey:l,labelKey:c,colorKey:u,colorDomain:d,colorRange:h}=this.properties,{dataModel:p,processedData:f}=yield this.requestDataModel(t,this.data,{props:[Ai(a,s,{id:"xKey-raw"}),Ai(l,r,{id:"yKey-raw"}),...c?[Ai(c,"band",{id:"labelKey-raw"})]:[],qe(a,s,{id:"xValue"}),qe(l,r,{id:"yValue"}),...u?[qe(u,o,{id:"colorValue"})]:[],...c?[qe(c,"band",{id:"labelValue"})]:[]]});if(u){let g=p.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=d??f.domain.values[g]??[],this.colorScale.range=h,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){let{dataModel:i,processedData:n}=this;if(!n||!i)return[];let s=t==="x"?"xValue":"yValue",r=i.resolveProcessedDataDefById(this,s),o=i.getDomain(this,s,"value",n);if(r?.def.type==="value"&&r?.def.valueType==="category")return o;let a=this.axes[t];return gn(gr(o),a)}createNodeData(){return L(this,null,function*(){let{axes:t,dataModel:i,processedData:n,colorScale:s}=this,{xKey:r,yKey:o,labelKey:a,colorKey:l,xName:c,yName:u,labelName:d,marker:h,label:p,visible:f}=this.properties,{placement:g}=p,y=hr(h.shape),x=t.x,v=t.y;if(!(i&&n&&f&&x&&v))return;let _=i.resolveProcessedDataIndexById(this,"xValue"),C=i.resolveProcessedDataIndexById(this,"yValue"),w=l?i.resolveProcessedDataIndexById(this,"colorValue"):-1,D=a?i.resolveProcessedDataIndexById(this,"labelValue"):-1,M=x.scale,I=v.scale,T=(M.bandwidth??0)/2,A=(I.bandwidth??0)/2,E=[],P=p.getFont(),N=eo.getMeasurer({font:P});for(let{values:j,datum:ae}of n.data??[]){let oe=j[_],re=j[C],ie=M.convert(oe)+T,ne=I.convert(re)+A,Ue=this.getLabelText(p,{value:a?j[D]:re,datum:ae,xKey:r,yKey:o,labelKey:a,xName:c,yName:u,labelName:d}),we=N.measureText(Ue),Pe=l?s.convert(j[w]):void 0;E.push({series:this,itemId:o,yKey:o,xKey:r,datum:ae,xValue:oe,yValue:re,capDefaults:{lengthRatioMultiplier:h.getDiameter(),lengthMax:1/0},point:{x:ie,y:ne,size:h.size},midPoint:{x:ie,y:ne},fill:Pe,label:S({text:Ue},we),marker:y,placement:g})}return{itemId:o,nodeData:E,labelData:E,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:t}=this.properties.marker,i=hr(t);return new i}updateMarkerSelection(t){return L(this,null,function*(){let{nodeData:i,markerSelection:n}=t;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(t){return L(this,null,function*(){let{markerSelection:i,isHighlight:n}=t,{xKey:s,yKey:r,labelKey:o,marker:a,highlightStyle:l}=this.properties,c=Ve(n&&l.item,a.getStyle());i.each((u,d)=>{this.updateMarkerStyle(u,a,{datum:d,highlighted:n,xKey:s,yKey:r,labelKey:o},c)}),n||a.markClean()})}updateLabelSelection(t){return L(this,null,function*(){let i=this.isLabelEnabled()?this.chart?.placeLabels().get(this)??[]:[];return t.labelSelection.update(i.map(({datum:n,x:s,y:r})=>k(S({},n),{point:{x:s,y:r,size:n.point.size},placement:"top"})),n=>{n.pointerEvents=1})})}updateLabelNodes(t){return L(this,null,function*(){let{label:i}=this.properties;t.labelSelection.each((n,s)=>{n.text=s.label.text,n.fill=i.color,n.x=s.point?.x??0,n.y=s.point?.y??0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})})}getTooltipHtml(t){let i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return to;let{xKey:s,yKey:r,labelKey:o,xName:a,yName:l,labelName:c,title:u=l,marker:d,tooltip:h}=this.properties,{datum:p,xValue:f,yValue:g,label:y,itemId:x}=t,v=Ve({fill:t.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:_="gray"}=this.getMarkerStyle(d,{datum:t,highlighted:!1,xKey:s,yKey:r,labelKey:o},v),C=xt(i.formatDatum(f)),w=xt(n.formatDatum(g)),D=`<b>${xt(a??s)}</b>: ${C}<br><b>${xt(l??r)}</b>: ${w}`;return o&&(D=`<b>${xt(c??o)}</b>: ${xt(y.text)}<br>`+D),h.toTooltipHtml({title:u,content:D,backgroundColor:_},S({datum:p,itemId:x,xKey:s,xName:a,yKey:r,yName:l,labelKey:o,labelName:c,title:u,color:_,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){let{yKey:i,yName:n,title:s,marker:r,visible:o}=this.properties,{fill:a,stroke:l,fillOpacity:c,strokeOpacity:u,strokeWidth:d}=r;return!this.data?.length||!this.properties.isValid()||t!=="category"?[]:[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:o,label:{text:s??n??i},symbols:[{marker:{shape:r.shape,fill:r.fill??a??"rgba(0, 0, 0, 0)",stroke:r.stroke??l??"rgba(0, 0, 0, 0)",fillOpacity:c??1,strokeOpacity:u??1,strokeWidth:d??0}}]}]}animateEmptyUpdateReady(t){let{markerSelection:i,labelSelection:n,annotationSelections:s}=t;eS(this,this.ctx.animationManager,i),Xe(this,"labels",this.ctx.animationManager,n),Xe(this,"annotations",this.ctx.animationManager,...s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new se}getFormattedMarkerStyle(t){let{xKey:i,yKey:n,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:i,yKey:n,labelKey:s,highlighted:!0})}computeFocusBounds(t){return Gp(this,t)}};return e.className="ScatterSeries",e.type="scatter",e})(),XQ={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new ZQ(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Rt,color:ai},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Yu},oV=class Nw{constructor(t,i,n,s){this.startAngle=t,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){let{startAngle:t,endAngle:i,innerRadius:n,outerRadius:s}=this;return new Nw(t,i,n,s)}[Ky](t,i){return new Nw(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function aV({startAngle:e,endAngle:t,innerRadius:i,outerRadius:n}){let s=1/0,r=1/0,o=-1/0,a=-1/0,l=(c,u)=>{s=Math.min(c,s),r=Math.min(u,r),o=Math.max(c,o),a=Math.max(u,a)};return l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),Qo(0,e,t)&&l(n,0),Qo(Math.PI*.5,e,t)&&l(0,n),Qo(Math.PI,e,t)&&l(-n,0),Qo(Math.PI*1.5,e,t)&&l(0,-n),new X(s,r,o-s,a-r)}function qy(e,t,i){let n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:s,outerRadius:r}=i;if(i.startAngle===i.endAngle||n<Math.min(s,r)||n>Math.max(s,r))return!1;let o=pp(i.startAngle),a=pp(i.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function sR(e,t){let{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=t,o={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(n),y:r*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},c=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return hu(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||hu(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||pP(0,0,r,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function lV(e,t){let i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},s={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return sR({start:i,end:n},t)||sR({start:s,end:r},t)}function rR(e,t,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){let l=(r+o)/2;Math.asin(Math.abs(l*i)/(e+l*i))+Math.asin(Math.abs(l*n)/(e+l*n))-t<0?r=l:o=l}return r}var qQ=1e-6;function na(e,t){return f0(e,t)<qQ?t:_t(e-t)+t}function _y(e,t,i=0){let s=Math.abs(t-e)>=2*Math.PI?2*Math.PI:_t(t-e);return e=na(e,i),t=e+s,{startAngle:e,endAngle:t}}function Cy(e,t,i,n,s,r){let o=Math.sin(r),a=Math.cos(r),l=e**2+t**2-i**2,c=NaN,u=NaN,d=NaN,h=NaN;if(a>.5){let _=o/a,C=1+_**2,w=-2*(e+t*_),D=w**2-4*C*l;if(D<0)return;let M=(-w+Math.sqrt(D))/(2*C),I=(-w-Math.sqrt(D))/(2*C);c=M,u=M*_,d=I,h=I*_}else{let _=a/o,C=1+_**2,w=-2*(t+e*_),D=w**2-4*C*l;if(D<0)return;let M=(-w+Math.sqrt(D))/(2*C),I=(-w-Math.sqrt(D))/(2*C);c=M*_,u=M,d=I*_,h=I}let p=a,f=o,g=c*p+u*f,y=d*p+h*f,x=g>0?na(Math.atan2(u-t,c-e),n):NaN,v=y>0?na(Math.atan2(h-t,d-e),n):NaN;if(x>=n&&x<=s)return x;if(v>=n&&v<=s)return v}function wy(e,t,i,n,s,r){let o=Math.hypot(e,t),a=(o**2-i**2+r**2)/(2*o),l=o-a,c=Math.atan2(t,e),u=Math.acos(-l/i),d=na(c+u,n),h=na(c-u,n);if(d>=n&&d<=s)return d;if(h>=n&&h<=s)return h}var JC=class{constructor(e,t,i,n,s){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Ri=(()=>{let e=class extends Zi{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return aV(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:t}=this,{innerRadius:i,outerRadius:n}=this;return i=i>0?i+t:0,n=Math.max(n-t,0),{innerRadius:i,outerRadius:n}}normalizedClipSector(){let{clipSector:t}=this;if(t==null)return;let{startAngle:i,endAngle:n}=_y(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:r}=this.normalizedRadii(),o=_y(t.startAngle,t.endAngle,i);return new oV(Math.max(i,o.startAngle),Math.min(n,o.endAngle),Math.max(s,t.innerRadius),Math.min(r,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,i,n,s,r,o,a,l){if(t<=0)return;let{startAngle:c,endAngle:u}=_y(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:h}=this.normalizedRadii(),p=this.normalizedClipSector();if(l&&d<=0)return;let f=this.getAngleOffset(d),g=this.getAngleOffset(h),y=l?this.getAngleOffset(d+t):this.getAngleOffset(h-t),x=a?c+y+i:u-y-i,v=l?d+t:h-t,_=v*Math.cos(x),C=v*Math.sin(x);if(p!=null&&(!a&&!(x>=c-1e-6&&x<=p.endAngle-1e-6)||a&&!(x>=p.startAngle+1e-6&&x<=u-1e-6)||l&&!(v>=p.innerRadius-1e-6)||!l&&!(v<=p.outerRadius+1e-6)))return;let w=new JC(_,C,t,n,s);if(p!=null){l?(w.clipStart(Cy(_,C,t,n,s,p.endAngle-f)),w.clipEnd(Cy(_,C,t,n,s,p.startAngle+f))):(w.clipStart(Cy(_,C,t,n,s,p.startAngle+g)),w.clipEnd(Cy(_,C,t,n,s,p.endAngle-g)));let A,E;if(a?(A=wy(_,C,t,n,s,p.innerRadius),E=wy(_,C,t,n,s,p.outerRadius)):(A=wy(_,C,t,n,s,p.outerRadius),E=wy(_,C,t,n,s,p.innerRadius)),w.clipStart(A),w.clipEnd(E),A!=null){let{x:P,y:N}=w.pointAt(A),j=na(Math.atan2(N,P),c);a?o?.clipStart(j):r.clipEnd(j)}if(E!=null){let{x:P,y:N}=w.pointAt(E),j=na(Math.atan2(N,P),c);a?r.clipStart(j):o?.clipEnd(j)}}if(p!=null){let{x:A,y:E}=w.pointAt((w.a0+w.a1)/2);if(!qy(A,E,p))return}let{x:D,y:M}=w.pointAt(a===l?w.a0:w.a1),I=na(Math.atan2(M,D),c),T=l?o:r;return a?T?.clipStart(I):T?.clipEnd(I),w}updatePath(){let{path:i,centerX:n,centerY:s,concentricEdgeInset:r,radialEdgeInset:o}=this,{startOuterCornerRadius:a,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:u}=this,{startAngle:d,endAngle:h}=_y(this.startAngle,this.endAngle),{innerRadius:p,outerRadius:f}=this.normalizedRadii(),g=this.normalizedClipSector(),y=h-d,x=y>=2*Math.PI-1e-6;if(i.clear(),p===0&&f===0||p>f)return;if((g?.startAngle??d)===(g?.endAngle??h))return;if(x&&this.clipSector==null&&a===0&&l===0&&c===0&&u===0){i.moveTo(n+f*Math.cos(d),s+f*Math.sin(d)),i.arc(n,s,f,d,h),p>r&&(i.moveTo(n+p*Math.cos(h),s+p*Math.sin(h)),i.arc(n,s,p,h,d,!0)),i.closePath();return}else if(this.clipSector==null&&Math.abs(p-f)<1e-6){i.arc(n,s,f,d,h,!1),i.arc(n,s,f,h,d,!0),i.closePath();return}let v=this.getAngleOffset(p),_=this.getAngleOffset(f);if(y<2*_)return;let w=(g?.innerRadius??p)>r,D=p<r||y<2*v,M=f-p,I=Math.max(a,c,l,u),T=I>0?Math.min(M/I,1):1;a*=T,l*=T,c*=T,u*=T;let A=rR(f,y-2*_,-a,-l);if(a*=A,l*=A,!D&&w){let de=rR(p,y-2*v,c,u);c*=de,u*=de}else c=0,u=0;let E=Math.max(a+c,l+u),P=E>0?Math.min(M/E,1):1;a*=P,l*=P,c*=P,u*=P;let N=0,j=0,ae=a/(f-a),oe=l/(f-l);if(ae>=0&&ae<.999999)N=Math.asin(ae);else{N=y/2;let de=f/(1/Math.sin(N)+1);a=Math.min(de,a)}if(oe>=0&&oe<.999999)j=Math.asin(oe);else{j=y/2;let de=f/(1/Math.sin(j)+1);l=Math.min(de,l)}let re=Math.asin(c/(p+c)),ie=Math.asin(u/(p+u)),ne=g?.outerRadius??f,Ue=this.getAngleOffset(ne),we=new JC(0,0,ne,d+Ue,h-Ue),Pe=g?.innerRadius??p,le=this.getAngleOffset(Pe),Z=w?new JC(0,0,Pe,d+le,h-le):void 0;g!=null&&(we.clipStart(g.startAngle),we.clipEnd(g.endAngle),Z?.clipStart(g.startAngle),Z?.clipEnd(g.endAngle));let ue=this.arc(a,N,d-Math.PI*.5,d+N,we,Z,!0,!1),B=this.arc(l,j,h-j,h+Math.PI*.5,we,Z,!1,!1),xe=this.arc(u,ie,h+Math.PI*.5,h+Math.PI-ie,we,Z,!1,!0),Me=this.arc(c,re,d+Math.PI+re,d+Math.PI*1.5,we,Z,!0,!0);if(D){let de=y<Math.PI*.5?o*(1+Math.cos(y))/Math.sin(y):NaN,_e;de>0&&de<f?_e=Math.max(Math.hypot(o,de),p):_e=o,_e=Math.max(_e,p);let Ge=d+y*.5;i.moveTo(n+_e*Math.cos(Ge),s+_e*Math.sin(Ge))}else if(!(Me?.isValid()===!0||Z?.isValid()===!0)){let de=d+y/2,_e=p*Math.cos(de),Ge=p*Math.sin(de);i.moveTo(n+_e,s+Ge)}if(ue?.isValid()===!0){let{cx:de,cy:_e,r:Ge,a0:et,a1:tt}=ue;i.arc(n+de,s+_e,Ge,et,tt)}if(we.isValid()){let{r:de,a0:_e,a1:Ge}=we;i.arc(n,s,de,_e,Ge)}if(B?.isValid()===!0){let{cx:de,cy:_e,r:Ge,a0:et,a1:tt}=B;i.arc(n+de,s+_e,Ge,et,tt)}if(!D){if(xe?.isValid()===!0){let{cx:de,cy:_e,r:Ge,a0:et,a1:tt}=xe;i.arc(n+de,s+_e,Ge,et,tt)}if(Z?.isValid()===!0){let{r:de,a0:_e,a1:Ge}=Z;i.arc(n,s,de,Ge,_e,!0)}if(Me?.isValid()===!0){let{cx:de,cy:_e,r:Ge,a0:et,a1:tt}=Me;i.arc(n+de,s+_e,Ge,et,tt)}}i.closePath()}isPointInPath(t,i){let n=this.transformPoint(t,i),{startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.clipSector??this;return qy(n.x-this.centerX,n.y-this.centerY,{startAngle:s,endAngle:r,innerRadius:Math.min(o,a),outerRadius:Math.max(o,a)})}};return e.className="Sector",e})();m([ye()],Ri.prototype,"centerX",2);m([ye()],Ri.prototype,"centerY",2);m([ye()],Ri.prototype,"innerRadius",2);m([ye()],Ri.prototype,"outerRadius",2);m([ye()],Ri.prototype,"startAngle",2);m([ye()],Ri.prototype,"endAngle",2);m([ye()],Ri.prototype,"clipSector",2);m([ye()],Ri.prototype,"concentricEdgeInset",2);m([ye()],Ri.prototype,"radialEdgeInset",2);m([ye()],Ri.prototype,"startOuterCornerRadius",2);m([ye()],Ri.prototype,"endOuterCornerRadius",2);m([ye()],Ri.prototype,"startInnerCornerRadius",2);m([ye()],Ri.prototype,"endInnerCornerRadius",2);var Ni={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},rr={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},cV=class extends Ct{constructor(){super(...arguments),this.showInLegend=!1}};m([b(pe)],cV.prototype,"showInLegend",2);var gS=class extends Qt{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};m([b(U)],gS.prototype,"text",2);m([b(dt)],gS.prototype,"spacing",2);var mS=class extends Te{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};m([b(it)],mS.prototype,"fill",2);m([b(Ke)],mS.prototype,"fillOpacity",2);var Xu=class extends Qt{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};m([b(H)],Xu.prototype,"offset",2);m([b(oa)],Xu.prototype,"minAngle",2);m([b(H)],Xu.prototype,"minSpacing",2);m([b(H)],Xu.prototype,"maxCollisionOffset",2);m([b(pe)],Xu.prototype,"avoidCollisions",2);var yS=class extends Qt{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};m([b(dt)],yS.prototype,"positionOffset",2);m([b(Ke)],yS.prototype,"positionRatio",2);var I0=class extends Te{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};m([b(us,{optional:!0})],I0.prototype,"colors",2);m([b(H)],I0.prototype,"length",2);m([b(H)],I0.prototype,"strokeWidth",2);var ze=class extends fs{constructor(){super(...arguments),this.fills=Object.values(Ni),this.strokes=Object.values(rr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new s0(gS),this.title=new cV,this.innerCircle=new mS,this.shadow=new js,this.calloutLabel=new Xu,this.sectorLabel=new yS,this.calloutLine=new I0,this.tooltip=new qi}isValid(){let e=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(z.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};m([b(U)],ze.prototype,"angleKey",2);m([b(U,{optional:!0})],ze.prototype,"angleName",2);m([b(U,{optional:!0})],ze.prototype,"angleFilterKey",2);m([b(U,{optional:!0})],ze.prototype,"radiusKey",2);m([b(U,{optional:!0})],ze.prototype,"radiusName",2);m([b(H,{optional:!0})],ze.prototype,"radiusMin",2);m([b(H,{optional:!0})],ze.prototype,"radiusMax",2);m([b(U,{optional:!0})],ze.prototype,"calloutLabelKey",2);m([b(U,{optional:!0})],ze.prototype,"calloutLabelName",2);m([b(U,{optional:!0})],ze.prototype,"sectorLabelKey",2);m([b(U,{optional:!0})],ze.prototype,"sectorLabelName",2);m([b(U,{optional:!0})],ze.prototype,"legendItemKey",2);m([b(us)],ze.prototype,"fills",2);m([b(us)],ze.prototype,"strokes",2);m([b(Ke)],ze.prototype,"fillOpacity",2);m([b(Ke)],ze.prototype,"strokeOpacity",2);m([b(Jr)],ze.prototype,"lineDash",2);m([b(H)],ze.prototype,"lineDashOffset",2);m([b(H)],ze.prototype,"cornerRadius",2);m([b(mn,{optional:!0})],ze.prototype,"itemStyler",2);m([b(oa)],ze.prototype,"rotation",2);m([b(dt)],ze.prototype,"outerRadiusOffset",2);m([b(Ke)],ze.prototype,"outerRadiusRatio",2);m([b(dt,{optional:!0})],ze.prototype,"innerRadiusOffset",2);m([b(Ke,{optional:!0})],ze.prototype,"innerRadiusRatio",2);m([b(H)],ze.prototype,"strokeWidth",2);m([b(dt)],ze.prototype,"sectorSpacing",2);m([b(n2)],ze.prototype,"innerLabels",2);m([b(Q)],ze.prototype,"title",2);m([b(Q)],ze.prototype,"innerCircle",2);m([b(Q)],ze.prototype,"shadow",2);m([b(Q)],ze.prototype,"calloutLabel",2);m([b(Q)],ze.prototype,"sectorLabel",2);m([b(Q)],ze.prototype,"calloutLine",2);m([b(Q)],ze.prototype,"tooltip",2);function Al(e,t,i,n){let s=[i.convert(0),i.convert(1)],r=[n.convert(0),n.convert(1)],o=Math.PI/-2+$i(t),a=e?"initial":"update",l=({radius:f})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*f}),c=({radius:f})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*f});return{nodes:{toFn:(f,g,y,{prevLive:x})=>{let{startAngle:v,endAngle:_,innerRadius:C,outerRadius:w}=g,{stroke:D,fill:M}=g.sectorFormat;if(y==="removed"&&x?(v=x.datum?.endAngle,_=x.datum?.endAngle):y==="removed"&&!x&&(v=o,_=o),y==="removed"){let I=l(g);C=I.innerRadius,w=I.outerRadius}return{startAngle:v,endAngle:_,outerRadius:w,innerRadius:C,stroke:D,fill:M}},fromFn:(f,g,y,{prevFromProps:x})=>{let{startAngle:v,endAngle:_,innerRadius:C,outerRadius:w}=f,{fill:D,stroke:M}=g.sectorFormat;if(y==="unknown"||y==="added"&&!x?(v=o,_=o,C=g.innerRadius,w=g.outerRadius):y==="added"&&x&&(v=x.endAngle??o,_=x.endAngle??o,C=x.innerRadius??g.innerRadius,w=x.outerRadius??g.outerRadius),y==="added"&&!e){let I=c(g);C=I.innerRadius,w=I.outerRadius}return y==="updated"&&(D=f.fill??D,M=f.stroke??M),{startAngle:v,endAngle:_,innerRadius:C,outerRadius:w,fill:D,stroke:M,phase:a}}},innerCircle:{fromFn:(f,g)=>({size:f.previousDatum?.radius??f.size??0,phase:a}),toFn:(f,g)=>({size:g.radius??0})}}}function vS(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function xS(e,t){let i=t.y-e.centerY,n=t.x-e.centerX,s=Math.atan2(i,n),r=e.getItemNodes();for(let o of r)if(o.datum.missing!==!0&&Qo(s,o.startAngle,o.endAngle)){let a=Math.sqrt(n*n+i*i),l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}var A0=class extends ND{constructor(r){var o=r,{useLabelLayer:e=!1,pickModes:t=[3,0],canHaveAxes:i=!1,animationResetFns:n}=o,s=mt(o,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(k(S({},s),{useLabelLayer:e,pickModes:t,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i})),this.itemGroup=this.contentGroup.appendChild(new se),this.nodeData=[],this.itemSelection=bt.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=bt.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=bt.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=bt.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=n,this.animationState=new Ep("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return this.itemGroup.children}getNodeData(){return this.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){let e=new gt;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){let{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Gt([this.itemSelection,this.highlightSelection],e),t&&Gt([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){let{item:t,label:i}=this.animationResetFns??{};t&&Gt([this.highlightSelection],t),i&&Gt([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){let t=this.getNodeData()?.[e.datumIndex];if(t!==void 0)return this.itemSelection.select(i=>i instanceof Zi&&i.datum===t)[0]}},QQ=class extends Pp{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},KQ=(()=>{let e=class extends A0{constructor(t){super({moduleCtx:t,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:vS,label:so}}),this.properties=new ze,this.phantomNodeData=void 0,this.previousRadiusScale=new Fs,this.radiusScale=new Fs,this.phantomGroup=this.contentGroup.appendChild(new se),this.phantomSelection=bt.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new se({name:"pieCalloutLabels"})),this.calloutLabelSelection=new bt(this.calloutLabelGroup,se),this.backgroundGroup=this.rootGroup.appendChild(new se({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new se({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Sl),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Sl),this.innerLabelsGroup=this.contentGroup.appendChild(new se({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new se({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=bt.select(this.innerLabelsGroup,gt),this.innerCircleSelection=bt.select(this.innerCircleGroup,Sl),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=QQ,this.angleScale=new Fs,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){return new Ri}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return L(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:i}=this,{visible:n,seriesItemEnabled:s}=this,{angleKey:r,angleFilterKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=[],p=[];u?h.push(Ai(u,"band",{id:"legendItemKey"})):l?h.push(Ai(l,"band",{id:"calloutLabelKey"})):c&&h.push(Ai(c,"band",{id:"sectorLabelKey"}));let f=this.radiusScale.type,g=this.radiusScale.type;a&&p.push(ED(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),qe(a,f,{id:"radiusRaw"}),Dl("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&p.push(qe(l,"band",{id:"calloutLabelValue"})),c&&p.push(qe(c,"band",{id:"sectorLabelValue"})),u&&p.push(qe(u,"band",{id:"legendItemValue"})),o&&p.push(mp(o,g,{id:"angleFilterValue",onlyPositive:!0}),qe(o,g,{id:"angleFilterRaw"}),Dl("angleFilterValue",[0,1],0,0)),d&&this.processedData&&h.length>0&&p.push(Fl(this.processedData)),p.push(zu()),i=i.map((y,x)=>n&&s[x]?y:k(S({},y),{[r]:0})),yield this.requestDataModel(t,i,{props:[...h,mp(r,g,{id:"angleValue",onlyPositive:!0}),qe(r,g,{id:"angleRaw"}),Dl("angleValue",[0,1],0,0),...p]});for(let y of this.processedData?.defs?.values??[]){let{id:x,missing:v,property:_}=y,C=CD(this,v);x!=="angleRaw"&&C>0&&z.warnOnce(`no value was found for the key '${String(_)}' on ${C} data element${C>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return L(this,null,function*(){if(!this.nodeDataRefresh)return;let{nodeData:t=[],phantomNodeData:i}=(yield this.createNodeData())??{};this.nodeData=t,this.phantomNodeData=i,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){let i=t.resolveProcessedDataIndexById(this,"angleValue"),n=t.resolveProcessedDataIndexById(this,"angleRaw"),s=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,r=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,o=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,a=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,l=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,c=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,u=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:i,angleRawIdx:n,angleFilterIdx:s,angleFilterRawIdx:r,radiusIdx:o,radiusRawIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}}createNodeData(){return L(this,null,function*(){let{id:t,processedData:i,dataModel:n,angleScale:s}=this,{rotation:r,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!i||!n||i.type!=="ungrouped")return;let{angleIdx:a,angleRawIdx:l,angleFilterIdx:c,angleFilterRawIdx:u,radiusIdx:d,radiusRawIdx:h,calloutLabelIdx:p,sectorLabelIdx:f,legendItemIdx:g}=this.getProcessedDataIndexes(n),y=u!=null&&i.data.some(({values:w})=>w[u]>w[l]),x=0,v=0,_=[],C=u!=null?[]:void 0;return i.data.forEach((w,D)=>{let{datum:M,values:I}=w,T=y?I[c]:I[a],A=u!=null&&!y?Math.sqrt(I[u]/I[l]):1,E=s.convert(x)+$i(r);x=T,v+=T;let P=s.convert(x)+$i(r),N=Math.abs(P-E),j=E+N/2,ae=I[l],re=(d!=null?I[d]??1:1)*A,ie=h!=null?I[h]:void 0,ne=g!=null?I[g]:void 0,Ue=this.getLabels(M,j,N,!0,p!=null?I[p]:void 0,f!=null?I[f]:void 0,ne),we=this.getSectorFormat(M,D,!1),Pe=S({itemId:D,series:this,datum:M,index:D,angleValue:ae,midAngle:j,midCos:Math.cos(j),midSin:Math.sin(j),startAngle:E,endAngle:P,radius:re,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(re),0),sectorFormat:we,radiusValue:ie,legendItemValue:ne,enabled:this.seriesItemEnabled[D],focusable:!0},Ue);_.push(Pe),C?.push(k(S({},Pe),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))}),this.zerosumOuterRing.visible=v===0,this.zerosumInnerRing.visible=v===0&&o!=null&&o!==1&&o>0,{itemId:t,nodeData:_,labelData:_,phantomNodeData:C}})}getLabels(t,i,n,s,r,o,a){let{calloutLabel:l,sectorLabel:c,legendItemKey:u}=this.properties,d=!s||l.enabled?this.properties.calloutLabelKey:void 0,h=!s||c.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!h&&!u)return{};let p={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},f={};return d&&n>$i(l.minAngle)&&(f.calloutLabel=k(S({},this.getTextAlignment(i)),{text:this.getLabelText(l,k(S({},p),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(f.sectorLabel={text:this.getLabelText(c,k(S({},p),{value:o}))}),u!=null&&a!=null&&(f.legendItem={key:u,text:a}),f}getTextAlignment(t){let i=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=pp(t),s=-.75*Math.PI,r=n-s,o=Math.floor(r/(Math.PI/2)),a=i0(o,i.length);return i[a]}getSectorFormat(t,i,n){let{callbackCache:s}=this.ctx,{angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fills:u,strokes:d,itemStyler:h}=this.properties,p=d[i%d.length],{fill:f,fillOpacity:g,stroke:y,strokeWidth:x,strokeOpacity:v,lineDash:_,lineDashOffset:C,cornerRadius:w}=Ve(n&&this.properties.highlightStyle.item,{fill:u.length>0?u[i%u.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),D;return h&&(D=s.call(h,{datum:t,angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fill:f,fillOpacity:g,stroke:y,strokeWidth:x,strokeOpacity:v,lineDash:_,lineDashOffset:C,cornerRadius:w,highlighted:n,seriesId:this.id})),{fill:D?.fill??f,fillOpacity:D?.fillOpacity??g,stroke:D?.stroke??y,strokeWidth:D?.strokeWidth??x,strokeOpacity:D?.strokeOpacity??v,lineDash:D?.lineDash??_,lineDashOffset:D?.lineDashOffset??C,cornerRadius:D?.cornerRadius??w}}getInnerRadius(){let{radius:t}=this,{innerRadiusRatio:i=1,innerRadiusOffset:n=0}=this.properties,s=t*i+n;return s===t||s<0?0:s}getOuterRadius(){let{outerRadiusRatio:t,outerRadiusOffset:i}=this.properties;return Math.max(this.radius*t+i,0)}updateRadiusScale(t){let i=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=i,t&&(this.previousRadiusScale.range=i);let n=s=>k(S({},s),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;let n=2+(this.properties.title?.spacing??0),s=Math.max(0,-t);return-t-n-s}update(i){return L(this,arguments,function*({seriesRect:t}){let{title:n}=this.properties,s={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=En(this.nodeDataDependencies,s)!=null;if(r&&(this._nodeDataDependencies=s),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let o=this.getTitleTranslationY(),a=n.node.getBBox();n.node.visible=n.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),n.node.translationY=isFinite(o)?o:0}for(let o of[this.zerosumInnerRing,this.zerosumOuterRing])o.fillOpacity=0,o.stroke=this.properties.calloutLabel.color,o.strokeWidth=1,o.strokeOpacity=1;this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){let{oldTitle:t}=this,{title:i}=this.properties;t!==i&&(t&&this.labelGroup?.removeChild(t.node),i&&(i.node.textBaseline="bottom",this.labelGroup?.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){let t=i=>{let n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}updateSelections(){return L(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return L(this,null,function*(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,highlightLabelSelection:s,calloutLabelSelection:r,labelSelection:o,innerLabelsSelection:a}=this,l=this.nodeData.map(u=>k(S({},u),{sectorFormat:S({},u.sectorFormat)})),c=(u,d)=>{u.update(d,void 0,h=>this.getDatumId(h)),this.ctx.animationManager.isSkipped()&&u.cleanup()};c(t,this.nodeData),c(i,l),c(n,this.phantomNodeData??[]),r.update(this.calloutNodeData,u=>{let d=new li;d.tag=0,d.pointerEvents=1,u.appendChild(d);let h=new gt;h.tag=1,h.pointerEvents=1,u.appendChild(h)}),o.update(this.nodeData),s.update(l),a.update(this.properties.innerLabels,u=>{u.pointerEvents=1})})}updateInnerCircleSelection(){let{innerCircle:t}=this.properties,i=0,n=this.getInnerRadius();if(n>0){let r=Math.min(n,this.getOuterRadius());i=Math.ceil(r*2+1)}let s=t?[{radius:i}]:[];this.innerCircleSelection.update(s)}updateNodes(t){return L(this,null,function*(){let i=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&i?.series===this,this.highlightLabel.visible=n&&i?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((o,{radius:a})=>{o.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:a})});let s=this.ctx.animationManager.isSkipped(),r=(o,a,l,c)=>{let u=this.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=u.fill,a.sectorFormat.stroke=u.stroke,s&&(o.startAngle=a.startAngle,o.endAngle=a.endAngle,o.innerRadius=a.innerRadius,o.outerRadius=a.outerRadius),(c||s)&&(o.fill=u.fill,o.stroke=u.stroke),o.strokeWidth=u.strokeWidth,o.fillOpacity=u.fillOpacity,o.strokeOpacity=u.strokeOpacity,o.lineDash=u.lineDash,o.lineDashOffset=u.lineDashOffset,o.cornerRadius=u.cornerRadius,o.fillShadow=this.properties.shadow;let d=Math.max((this.properties.sectorSpacing+(u.stroke!=null?u.strokeWidth:0))/2,0);o.inset=d,o.lineJoin=this.properties.sectorSpacing>=0||d>0?"miter":"round"};this.itemSelection.each((o,a,l)=>r(o,a,l,!1)),this.highlightSelection.each((o,a,l)=>{a.itemId===i?.itemId?(o.visible=!0,r(o,a,l,!0)):o.visible=!1}),this.phantomSelection.each((o,a,l)=>r(o,a,l,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){let{calloutLine:t}=this.properties,i=t.length,n=t.strokeWidth,s=t.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,a)=>{let l=o.datum,{calloutLabel:c,outerRadius:u}=l;if(c?.text&&!c.hidden&&u!==0){o.visible=!0,o.strokeWidth=n,o.stroke=s[a%s.length],o.fill=void 0;let d=l.midCos*u,h=l.midSin*u,p=l.midCos*(u+i),f=l.midSin*(u+i);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){let y=c.box,x=p,v=f;p<y.x?x=y.x:p>y.x+y.width&&(x=y.x+y.width),f<y.y?v=y.y:f>y.y+y.height&&(v=y.y+y.height);let _=x-p,C=v-f,w=Math.sqrt(Math.pow(_,2)+Math.pow(C,2)),D=w-r;D>0&&(p=p+_*D/w,f=f+C*D/w)}o.x1=d,o.y1=h,o.x2=p,o.y2=f}else o.visible=!1})}getLabelOverflow(t,i,n){let s=n.x-this.centerX,r=n.x+n.width-this.centerX,o=n.y-this.centerY,a=n.y+n.height-this.centerY,l=1,c=1;i.x+l<s?c=(i.x+i.width-s)/i.width:i.x+i.width-l>r&&(c=(r-i.x)/i.width);let u=i.y+l<o||i.y+i.height-l>a,d=c===1?t.length:Math.floor(t.length*c)-1,h=this.bboxIntersectsSurroundingSeries(i);return{textLength:d,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(t,i=0,n=0){let{surroundingRadius:s}=this;if(s==null)return!1;let r=[{x:t.x+i,y:t.y+n},{x:t.x+t.width+i,y:t.y+n},{x:t.x+t.width+i,y:t.y+t.height+n},{x:t.x+i,y:t.y+t.height+n}],o=s**2;return r.some(a=>a.x**2+a.y**2>o)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,{offset:s,minSpacing:r}=i,o=t.convert(0),a=v=>!v.calloutLabel||v.outerRadius===0,l=this.calloutNodeData,c=l.filter(v=>!a(v));if(c.forEach(v=>{let _=v.calloutLabel;_!=null&&(_.hidden=!1,_.collisionTextAlign=void 0,_.collisionOffsetY=0)}),c.length<=1)return;let u=c.filter(v=>v.midCos<0).sort((v,_)=>v.midSin-_.midSin),d=c.filter(v=>v.midCos>=0).sort((v,_)=>v.midSin-_.midSin),h=c.filter(v=>v.midSin<0&&v.calloutLabel?.textAlign==="center").sort((v,_)=>v.midCos-_.midCos),p=c.filter(v=>v.midSin>=0&&v.calloutLabel?.textAlign==="center").sort((v,_)=>v.midCos-_.midCos),f=v=>{let _=v.calloutLabel;if(_==null)return X.zero.clone();let C=v.outerRadius+n.length+s,w=v.midCos*C,D=v.midSin*C+_.collisionOffsetY,M=_.collisionTextAlign??_.textAlign,I=_.textBaseline;return gt.computeBBox(_.text,w,D,{font:this.properties.calloutLabel,textAlign:M,textBaseline:I})},g=(v,_,C)=>{let w=f(v).grow(r/2),D=f(_).grow(r/2);if(w.x<D.x+D.width&&w.x+w.width>D.x&&(C==="to-top"?w.y<D.y+D.height:w.y+w.height>D.y)){let I=C==="to-top"?w.y-D.y-D.height:w.y+w.height-D.y;_.calloutLabel.collisionOffsetY=I}},y=v=>{let _=v.slice().sort((w,D)=>Math.abs(w.midSin)-Math.abs(D.midSin))[0],C=v.indexOf(_);for(let w=C-1;w>=0;w--){let D=v[w+1],M=v[w];g(D,M,"to-top")}for(let w=C+1;w<v.length;w++){let D=v[w-1],M=v[w];g(D,M,"to-bottom")}},x=v=>{let _=c.some(T=>T.calloutLabel.collisionOffsetY!==0),C=v.map(T=>f(T)),w=C.map(T=>T.clone().grow(r/2)),D=!1;for(let T=0;T<w.length&&!D;T++){let A=w[T];for(let E=T+1;E<v.length;E++){let P=w[E];if(A.collidesBBox(P)){D=!0;break}}}let M=l.map(T=>{let{startAngle:A,endAngle:E,outerRadius:P}=T;return{startAngle:A,endAngle:E,innerRadius:o,outerRadius:P}}),I=C.some(T=>M.some(A=>lV(T,A)));!D&&!_&&!I||v.filter(T=>T.calloutLabel.textAlign==="center").forEach(T=>{let A=T.calloutLabel;T.midCos<0?A.collisionTextAlign="right":T.midCos>0?A.collisionTextAlign="left":A.collisionTextAlign="center"})};y(u),y(d),x(h),x(p)}updateCalloutLabelNodes(t){let{radiusScale:i}=this,{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,color:a}=n,l=new gt;this.calloutLabelSelection.selectByTag(1).forEach(c=>{let{datum:u}=c,d=u.calloutLabel,h=i.convert(u.radius),p=Math.max(0,h);if(!d?.text||p===0||d.hidden){c.visible=!1;return}let f=p+r+o,g=u.midCos*f,y=u.midSin*f+d.collisionOffsetY,x={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};l.text=d.text,l.x=g,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(x);let v=l.getBBox(),_=d.text,C=!0;if(n.avoidCollisions){let{textLength:w,hasVerticalOverflow:D}=this.getLabelOverflow(d.text,v,t);_=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,C=!D}c.text=_,c.x=g,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign(x),c.fill=a,c.visible=C})}computeLabelsBBox(t,i){return L(this,null,function*(){let{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],u=new gt,d,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(u.text=h.text,u.x=0,u.y=p,u.setFont(h),u.setAlign({textBaseline:"bottom",textAlign:"center"}),d=u.getBBox(),c.push(d))}return this.calloutNodeData.forEach(p=>{let f=p.calloutLabel;if(!f||p.outerRadius===0)return null;let g=p.outerRadius+r+o,y=p.midCos*g,x=p.midSin*g+f.collisionOffsetY;u.text=f.text,u.x=y,u.y=x,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline});let v=u.getBBox();if(f.box=v,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(d){let _=i.y-this.centerY,C=new X(d.x-l,_,d.width+2*l,d.y+d.height+l-_);if(v.collidesBBox(C)){f.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:_,hasVerticalOverflow:C,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,v,i),D=f.text.length>2&&_<2;if(C||D||w){f.hidden=!0;return}}f.hidden=!1,c.push(v)}),c.length===0?null:X.merge(c)})}updateSectorLabelNodes(){let{radiusScale:t}=this,i=t.convert(0),{fontSize:n,fontStyle:s,fontWeight:r,fontFamily:o,positionOffset:a,positionRatio:l,color:c}=this.properties.sectorLabel,u=(d,h)=>{let{sectorLabel:p,outerRadius:f}=h,g=!1;if(p&&f!==0){let y=i*(1-l)+f*l+a;d.fill=c,d.fontStyle=s,d.fontWeight=r,d.fontSize=n,d.fontFamily=o,d.text=p.text,d.x=h.midCos*y,d.y=h.midSin*y,d.textAlign="center",d.textBaseline="middle";let x=d.getBBox(),v=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]],{startAngle:_,endAngle:C}=h,w={startAngle:_,endAngle:C,innerRadius:i,outerRadius:f};v.every(([D,M])=>qy(D,M,w))&&(g=!0)}d.visible=g};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateInnerLabelNodes(){let t=[],i=[];this.innerLabelsSelection.each((d,h)=>{let{fontStyle:p,fontWeight:f,fontSize:g,fontFamily:y,color:x}=h;d.fontStyle=p,d.fontWeight=f,d.fontSize=g,d.fontFamily=y,d.text=h.text,d.x=0,d.y=0,d.fill=x,d.textAlign="center",d.textBaseline="alphabetic",t.push(d.getBBox()),i.push(h.spacing)});let n=d=>d===0?0:i[d],s=d=>d===i.length-1?0:i[d],r=t.reduce((d,h,p)=>d+h.height+n(p)+s(p),0),o=Math.max(...t.map(d=>d.width)),a=this.getInnerRadius(),c=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let d=0,h=-r/2;d<t.length;d++){let f=t[d].height+h+n(d);u.push(f),h=f+s(d)}this.innerLabelsSelection.each((d,h,p)=>{d.y=u[p],d.visible=c})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(t){let{angleKey:i,calloutLabelKey:n,sectorLabelKey:s,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:l}=t;if(r&&l!==void 0)return l.text;if(n&&n!==i&&a?.text!==void 0)return a.text;if(s&&s!==i&&o?.text!==void 0)return o.text}pickNodeClosestDatum(t){return xS(this,t)}getTooltipHtml(t){if(!this.properties.isValid())return to;let{datum:i,angleValue:n,sectorFormat:{fill:s},itemId:r}=t,o=xt(this.properties.title?.text),a=He(n)?t0(n):String(n),l=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:o??l,content:o&&l?`${l}: ${a}`:a,backgroundColor:s},{datum:i,itemId:r,title:o,color:s,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){let{visible:i,processedData:n,dataModel:s}=this;if(!s||!n?.data.length||!this.properties.isValid()||t!=="category")return[];let{angleKey:r,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l}=this.properties;if(!l&&(!o||o===r)&&(!a||a===r))return[];let{calloutLabelIdx:c,sectorLabelIdx:u,legendItemIdx:d}=this.getProcessedDataIndexes(s),h=this.properties.title?.showInLegend&&this.properties.title.text,p=[];for(let f=0;f<n.data.length;f++){let{datum:g,values:y}=n.data[f],x=[];h&&x.push(h);let v=this.getLabels(g,2*Math.PI,2*Math.PI,!1,c!=null?y[c]:void 0,u!=null?y[u]:void 0,d!=null?y[d]:void 0);if(l&&v.legendItem!==void 0?x.push(v.legendItem.text):o&&o!==r&&v.calloutLabel?.text!==void 0?x.push(v.calloutLabel?.text):a&&a!==r&&v.sectorLabel?.text!==void 0&&x.push(v.sectorLabel?.text),x.length===0)continue;let _=this.getSectorFormat(g,f,!1);p.push({legendType:"category",id:this.id,itemId:f,seriesId:this.id,enabled:i&&this.seriesItemEnabled[f],label:{text:x.join(" - ")},symbols:[{marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:l!=null?g[l]:void 0})}return p}onLegendItemClick(t){let{enabled:i,itemId:n,series:s,legendItemName:r}=t;s.id===this.id?this.toggleSeriesItem(n,i):r!=null&&this.toggleOtherSeriesItems(r,i)}toggleSeriesItem(t,i){this.seriesItemEnabled[t]=i,this.nodeData[t]&&(this.nodeData[t].enabled=i),this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,i){if(!this.properties.legendItemKey||!this.dataModel)return;let n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:s},r)=>{s[n]===t&&this.toggleSeriesItem(r,i)})}animateEmptyUpdateReady(t){let{animationManager:i}=this.ctx,n=Al(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Pt(this.id,"nodes",i,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(s,r)=>this.getDatumId(r)),Pt(this.id,"innerCircle",i,[this.innerCircleSelection],n.innerCircle),Xe(this,"callout",i,this.calloutLabelSelection),Xe(this,"sector",i,this.labelSelection),Xe(this,"highlight",i,this.highlightLabelSelection),Xe(this,"inner",i,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,processedData:s,radiusScale:r,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,l=s?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,u=(s?.defs.keys.length??0)>0,d=s?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!u||!d)&&this.ctx.animationManager.skipCurrentBatch();let h=Al(!1,this.properties.rotation,r,o);Pt(this.id,"nodes",a,[t,i,n],h.nodes,(p,f)=>this.getDatumId(f),l),Pt(this.id,"innerCircle",a,[this.innerCircleSelection],h.innerCircle),Xe(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Xe(this,"sector",this.ctx.animationManager,this.labelSelection),Xe(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Xe(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=Al(!1,this.properties.rotation,s,r);Pt(this.id,"nodes",o,[t,i,n],a.nodes,(l,c)=>this.getDatumId(c)),Pt(this.id,"innerCircle",o,[this.innerCircleSelection],a.innerCircle),Ko(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ko(this,"sector",this.ctx.animationManager,this.labelSelection),Ko(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Ko(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){let{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(s)return t[s];if(i)return t[i];if(n)return t[n]}}getDatumId(t){let{index:i}=t,n=this.getDatumIdFromData(t.datum);return n!=null?String(n):`${i}`}onDataChange(){let{data:t,seriesItemEnabled:i}=this;this.seriesItemEnabled=t?.map((n,s)=>i[s]??!0)??[]}};return e.className="DonutSeries",e.type="donut",e})(),JQ={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Rt,color:Il,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Rt,color:ai,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Rt,color:zl,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:Rt,color:ai,spacing:2}}},eK={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Rt,color:Il,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Rt,color:ai,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Rt,color:zl,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5}}},uV=({takeColors:e,colorsCount:t})=>{let{fills:i,strokes:n}=e(t);return{fills:i,strokes:n,calloutLine:{colors:n}}},tK={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new KQ(e),tooltipDefaults:{range:"exact"},themeTemplate:JQ,paletteFactory:uV},dV=class extends Ct{constructor(){super(...arguments),this.showInLegend=!1}};m([b(pe)],dV.prototype,"showInLegend",2);var qu=class extends Qt{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};m([b(H)],qu.prototype,"offset",2);m([b(oa)],qu.prototype,"minAngle",2);m([b(H)],qu.prototype,"minSpacing",2);m([b(H)],qu.prototype,"maxCollisionOffset",2);m([b(pe)],qu.prototype,"avoidCollisions",2);var bS=class extends Qt{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};m([b(dt)],bS.prototype,"positionOffset",2);m([b(Ke)],bS.prototype,"positionRatio",2);var E0=class extends Te{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};m([b(us,{optional:!0})],E0.prototype,"colors",2);m([b(H)],E0.prototype,"length",2);m([b(H)],E0.prototype,"strokeWidth",2);var Je=class extends fs{constructor(){super(...arguments),this.fills=Object.values(Ni),this.strokes=Object.values(rr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new dV,this.shadow=new js,this.calloutLabel=new qu,this.sectorLabel=new bS,this.calloutLine=new E0,this.tooltip=new qi}};m([b(U)],Je.prototype,"angleKey",2);m([b(U,{optional:!0})],Je.prototype,"angleName",2);m([b(U,{optional:!0})],Je.prototype,"angleFilterKey",2);m([b(U,{optional:!0})],Je.prototype,"radiusKey",2);m([b(U,{optional:!0})],Je.prototype,"radiusName",2);m([b(H,{optional:!0})],Je.prototype,"radiusMin",2);m([b(H,{optional:!0})],Je.prototype,"radiusMax",2);m([b(U,{optional:!0})],Je.prototype,"calloutLabelKey",2);m([b(U,{optional:!0})],Je.prototype,"calloutLabelName",2);m([b(U,{optional:!0})],Je.prototype,"sectorLabelKey",2);m([b(U,{optional:!0})],Je.prototype,"sectorLabelName",2);m([b(U,{optional:!0})],Je.prototype,"legendItemKey",2);m([b(us)],Je.prototype,"fills",2);m([b(us)],Je.prototype,"strokes",2);m([b(Ke)],Je.prototype,"fillOpacity",2);m([b(Ke)],Je.prototype,"strokeOpacity",2);m([b(Jr)],Je.prototype,"lineDash",2);m([b(H)],Je.prototype,"lineDashOffset",2);m([b(H)],Je.prototype,"cornerRadius",2);m([b(mn,{optional:!0})],Je.prototype,"itemStyler",2);m([b(oa)],Je.prototype,"rotation",2);m([b(dt)],Je.prototype,"outerRadiusOffset",2);m([b(Ke)],Je.prototype,"outerRadiusRatio",2);m([b(H)],Je.prototype,"strokeWidth",2);m([b(dt)],Je.prototype,"sectorSpacing",2);m([b(Q)],Je.prototype,"title",2);m([b(Q)],Je.prototype,"shadow",2);m([b(Q)],Je.prototype,"calloutLabel",2);m([b(Q)],Je.prototype,"sectorLabel",2);m([b(Q)],Je.prototype,"calloutLine",2);m([b(Q)],Je.prototype,"tooltip",2);var iK=class extends Pp{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},nK=(()=>{let e=class extends A0{constructor(t){super({moduleCtx:t,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:vS,label:so}}),this.properties=new Je,this.phantomNodeData=void 0,this.previousRadiusScale=new Fs,this.radiusScale=new Fs,this.phantomGroup=this.contentGroup.appendChild(new se),this.phantomSelection=bt.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new se({name:"pieCalloutLabels"})),this.calloutLabelSelection=new bt(this.calloutLabelGroup,se),this.backgroundGroup=this.rootGroup.appendChild(new se({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new se({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Sl),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=iK,this.angleScale=new Fs,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){let t=new Ri;return t.miterLimit=1e9,t}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return L(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:i}=this,{visible:n,seriesItemEnabled:s}=this,{angleKey:r,angleFilterKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=[],p=[];u?h.push(Ai(u,"band",{id:"legendItemKey"})):l?h.push(Ai(l,"band",{id:"calloutLabelKey"})):c&&h.push(Ai(c,"band",{id:"sectorLabelKey"}));let f=this.radiusScale.type,g=this.radiusScale.type;a&&p.push(ED(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),qe(a,f,{id:"radiusRaw"}),Dl("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&p.push(qe(l,"band",{id:"calloutLabelValue"})),c&&p.push(qe(c,"band",{id:"sectorLabelValue"})),u&&p.push(qe(u,"band",{id:"legendItemValue"})),o&&p.push(mp(o,g,{id:"angleFilterValue",onlyPositive:!0}),qe(o,g,{id:"angleFilterRaw"}),Dl("angleFilterValue",[0,1],0,0)),d&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&h.length>0&&p.push(Fl(this.processedData)),p.push(zu()),i=i.map((y,x)=>n&&s[x]?y:k(S({},y),{[r]:0})),yield this.requestDataModel(t,i,{props:[...h,mp(r,g,{id:"angleValue",onlyPositive:!0}),qe(r,g,{id:"angleRaw"}),Dl("angleValue",[0,1],0,0),...p]});for(let y of this.processedData?.defs?.values??[]){let{id:x,missing:v,property:_}=y,C=CD(this,v);x!=="angleRaw"&&C>0&&z.warnOnce(`no value was found for the key '${String(_)}' on ${C} data element${C>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return L(this,null,function*(){if(!this.nodeDataRefresh)return;let{nodeData:t=[],phantomNodeData:i}=(yield this.createNodeData())??{};this.nodeData=t,this.phantomNodeData=i,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){let i=t.resolveProcessedDataIndexById(this,"angleValue"),n=t.resolveProcessedDataIndexById(this,"angleRaw"),s=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,r=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,o=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,a=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,l=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,c=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,u=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:i,angleRawIdx:n,angleFilterIdx:s,angleFilterRawIdx:r,radiusIdx:o,radiusRawIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}}createNodeData(){return L(this,null,function*(){let{id:t,processedData:i,dataModel:n,angleScale:s}=this,{rotation:r}=this.properties;if(!i||!n||i.type!=="ungrouped")return;let{angleIdx:o,angleRawIdx:a,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:u,radiusRawIdx:d,calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:f}=this.getProcessedDataIndexes(n),g=c!=null&&i.data.some(({values:C})=>C[c]>C[a]),y=0,x=0,v=[],_=c!=null?[]:void 0;return i.data.forEach((C,w)=>{let{datum:D,values:M}=C,I=g?M[l]:M[o],T=c!=null&&!g?Math.sqrt(M[c]/M[a]):1,A=s.convert(y)+$i(r);y=I,x+=I;let E=s.convert(y)+$i(r),P=Math.abs(E-A),N=A+P/2,j=M[a],oe=(u!=null?M[u]??1:1)*T,re=d!=null?M[d]:void 0,ie=f!=null?M[f]:void 0,ne=this.getLabels(D,N,P,!0,h!=null?M[h]:void 0,p!=null?M[p]:void 0,ie),Ue=this.getSectorFormat(D,w,!1),we=S({itemId:w,series:this,datum:D,index:w,angleValue:j,midAngle:N,midCos:Math.cos(N),midSin:Math.sin(N),startAngle:A,endAngle:E,radius:oe,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(oe),0),sectorFormat:Ue,radiusValue:re,legendItemValue:ie,enabled:this.seriesItemEnabled[w]},ne);v.push(we),_?.push(k(S({},we),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)}))}),this.zerosumOuterRing.visible=x===0,{itemId:t,nodeData:v,labelData:v,phantomNodeData:_}})}getLabels(t,i,n,s,r,o,a){let{calloutLabel:l,sectorLabel:c,legendItemKey:u}=this.properties,d=!s||l.enabled?this.properties.calloutLabelKey:void 0,h=!s||c.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!h&&!u)return{};let p={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},f={};return d&&n>$i(l.minAngle)&&(f.calloutLabel=k(S({},this.getTextAlignment(i)),{text:this.getLabelText(l,k(S({},p),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(f.sectorLabel={text:this.getLabelText(c,k(S({},p),{value:o}))}),u!=null&&a!=null&&(f.legendItem={key:u,text:a}),f}getTextAlignment(t){let i=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=pp(t),s=-.75*Math.PI,r=n-s,o=Math.floor(r/(Math.PI/2)),a=i0(o,i.length);return i[a]}getSectorFormat(t,i,n){let{callbackCache:s}=this.ctx,{angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fills:u,strokes:d,itemStyler:h}=this.properties,p=d[i%d.length],{fill:f,fillOpacity:g,stroke:y,strokeWidth:x,strokeOpacity:v,lineDash:_,lineDashOffset:C,cornerRadius:w}=Ve(n&&this.properties.highlightStyle.item,{fill:u.length>0?u[i%u.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),D;return h&&(D=s.call(h,{datum:t,angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fill:f,strokeOpacity:v,stroke:y,strokeWidth:x,fillOpacity:g,lineDash:_,lineDashOffset:C,cornerRadius:w,highlighted:n,seriesId:this.id})),{fill:D?.fill??f,fillOpacity:D?.fillOpacity??g,stroke:D?.stroke??y,strokeWidth:D?.strokeWidth??x,strokeOpacity:D?.strokeOpacity??v,lineDash:D?.lineDash??_,lineDashOffset:D?.lineDashOffset??C,cornerRadius:D?.cornerRadius??w}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){let i=[0,this.getOuterRadius()];this.radiusScale.range=i,t&&(this.previousRadiusScale.range=i);let n=s=>k(S({},s),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;let n=2+(this.properties.title?.spacing??0),s=Math.max(0,-t);return-t-n-s}update(i){return L(this,arguments,function*({seriesRect:t}){let{title:n}=this.properties,s={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=En(this.nodeDataDependencies,s)!=null;if(r&&(this._nodeDataDependencies=s),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let o=this.getTitleTranslationY(),a=n.node.getBBox();n.node.visible=n.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),n.node.translationY=isFinite(o)?o:0}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){let{oldTitle:t}=this,{title:i}=this.properties;t!==i&&(t&&this.labelGroup?.removeChild(t.node),i&&(i.node.textBaseline="bottom",this.labelGroup?.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){let t=i=>{let n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}updateSelections(){return L(this,null,function*(){yield this.updateGroupSelection()})}updateGroupSelection(){return L(this,null,function*(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,highlightLabelSelection:s,calloutLabelSelection:r,labelSelection:o}=this,a=this.nodeData.map(c=>k(S({},c),{sectorFormat:S({},c.sectorFormat)})),l=(c,u)=>{c.update(u,void 0,d=>this.getDatumId(d)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(t,this.nodeData),l(i,a),l(n,this.phantomNodeData??[]),r.update(this.calloutNodeData,c=>{let u=new li;u.tag=0,u.pointerEvents=1,c.appendChild(u);let d=new gt;d.tag=1,d.pointerEvents=1,c.appendChild(d)}),o.update(this.nodeData),s.update(a)})}updateNodes(t){return L(this,null,function*(){let i=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&i?.series===this,this.highlightLabel.visible=n&&i?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity();let s=this.ctx.animationManager.isSkipped(),r=(o,a,l,c)=>{let u=this.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=u.fill,a.sectorFormat.stroke=u.stroke,s&&(o.startAngle=a.startAngle,o.endAngle=a.endAngle,o.innerRadius=a.innerRadius,o.outerRadius=a.outerRadius),(c||s)&&(o.fill=u.fill,o.stroke=u.stroke),o.strokeWidth=u.strokeWidth,o.fillOpacity=u.fillOpacity,o.strokeOpacity=u.strokeOpacity,o.lineDash=u.lineDash,o.lineDashOffset=u.lineDashOffset,o.cornerRadius=u.cornerRadius,o.fillShadow=this.properties.shadow;let d=Math.max((this.properties.sectorSpacing+(u.stroke!=null?u.strokeWidth:0))/2,0);o.inset=d,o.lineJoin=this.properties.sectorSpacing>=0||d>0?"miter":"round"};this.itemSelection.each((o,a,l)=>r(o,a,l,!1)),this.highlightSelection.each((o,a,l)=>{r(o,a,l,!0),a.itemId===i?.itemId?(o.visible=!0,r(o,a,l,!0)):o.visible=!1}),this.phantomSelection.each((o,a,l)=>r(o,a,l,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){let{calloutLine:t}=this.properties,i=t.length,n=t.strokeWidth,s=t.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,a)=>{let l=o.datum,{calloutLabel:c,outerRadius:u}=l;if(c?.text&&!c.hidden&&u!==0){o.visible=!0,o.strokeWidth=n,o.stroke=s[a%s.length],o.fill=void 0;let d=l.midCos*u,h=l.midSin*u,p=l.midCos*(u+i),f=l.midSin*(u+i);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){let y=c.box,x=p,v=f;p<y.x?x=y.x:p>y.x+y.width&&(x=y.x+y.width),f<y.y?v=y.y:f>y.y+y.height&&(v=y.y+y.height);let _=x-p,C=v-f,w=Math.sqrt(Math.pow(_,2)+Math.pow(C,2)),D=w-r;D>0&&(p=p+_*D/w,f=f+C*D/w)}o.x1=d,o.y1=h,o.x2=p,o.y2=f}else o.visible=!1})}getLabelOverflow(t,i,n){let s=n.x-this.centerX,r=n.x+n.width-this.centerX,o=n.y-this.centerY,a=n.y+n.height-this.centerY,l=1,c=1;i.x+l<s?c=(i.x+i.width-s)/i.width:i.x+i.width-l>r&&(c=(r-i.x)/i.width);let u=i.y+l<o||i.y+i.height-l>a,d=c===1?t.length:Math.floor(t.length*c)-1,h=this.bboxIntersectsSurroundingSeries(i);return{textLength:d,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(t,i=0,n=0){let{surroundingRadius:s}=this;if(s==null)return!1;let r=[{x:t.x+i,y:t.y+n},{x:t.x+t.width+i,y:t.y+n},{x:t.x+t.width+i,y:t.y+t.height+n},{x:t.x+i,y:t.y+t.height+n}],o=s**2;return r.some(a=>a.x**2+a.y**2>o)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,{offset:s,minSpacing:r}=i,o=t.convert(0),a=v=>!v.calloutLabel||v.outerRadius===0,l=this.calloutNodeData,c=l.filter(v=>!a(v));if(c.forEach(v=>{let _=v.calloutLabel;_!=null&&(_.hidden=!1,_.collisionTextAlign=void 0,_.collisionOffsetY=0)}),c.length<=1)return;let u=c.filter(v=>v.midCos<0).sort((v,_)=>v.midSin-_.midSin),d=c.filter(v=>v.midCos>=0).sort((v,_)=>v.midSin-_.midSin),h=c.filter(v=>v.midSin<0&&v.calloutLabel?.textAlign==="center").sort((v,_)=>v.midCos-_.midCos),p=c.filter(v=>v.midSin>=0&&v.calloutLabel?.textAlign==="center").sort((v,_)=>v.midCos-_.midCos),f=v=>{let _=v.calloutLabel;if(_==null)return X.zero.clone();let C=v.outerRadius+n.length+s,w=v.midCos*C,D=v.midSin*C+_.collisionOffsetY,M=_.collisionTextAlign??_.textAlign,I=_.textBaseline;return gt.computeBBox(_.text,w,D,{font:this.properties.calloutLabel,textAlign:M,textBaseline:I})},g=(v,_,C)=>{let w=f(v).grow(r/2),D=f(_).grow(r/2);if(w.x<D.x+D.width&&w.x+w.width>D.x&&(C==="to-top"?w.y<D.y+D.height:w.y+w.height>D.y)){let I=C==="to-top"?w.y-D.y-D.height:w.y+w.height-D.y;_.calloutLabel.collisionOffsetY=I}},y=v=>{let _=v.slice().sort((w,D)=>Math.abs(w.midSin)-Math.abs(D.midSin))[0],C=v.indexOf(_);for(let w=C-1;w>=0;w--){let D=v[w+1],M=v[w];g(D,M,"to-top")}for(let w=C+1;w<v.length;w++){let D=v[w-1],M=v[w];g(D,M,"to-bottom")}},x=v=>{let _=c.some(T=>T.calloutLabel.collisionOffsetY!==0),C=v.map(T=>f(T)),w=C.map(T=>T.clone().grow(r/2)),D=!1;for(let T=0;T<w.length&&!D;T++){let A=w[T];for(let E=T+1;E<v.length;E++){let P=w[E];if(A.collidesBBox(P)){D=!0;break}}}let M=l.map(T=>{let{startAngle:A,endAngle:E,outerRadius:P}=T;return{startAngle:A,endAngle:E,innerRadius:o,outerRadius:P}}),I=C.some(T=>M.some(A=>lV(T,A)));!D&&!_&&!I||v.filter(T=>T.calloutLabel.textAlign==="center").forEach(T=>{let A=T.calloutLabel;T.midCos<0?A.collisionTextAlign="right":T.midCos>0?A.collisionTextAlign="left":A.collisionTextAlign="center"})};y(u),y(d),x(h),x(p)}updateCalloutLabelNodes(t){let{radiusScale:i}=this,{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,color:a}=n,l=new gt;this.calloutLabelSelection.selectByTag(1).forEach(c=>{let{datum:u}=c,d=u.calloutLabel,h=i.convert(u.radius),p=Math.max(0,h);if(!d?.text||p===0||d.hidden){c.visible=!1;return}let f=p+r+o,g=u.midCos*f,y=u.midSin*f+d.collisionOffsetY,x={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};l.text=d.text,l.x=g,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(x);let v=l.getBBox(),_=d.text,C=!0;if(n.avoidCollisions){let{textLength:w,hasVerticalOverflow:D}=this.getLabelOverflow(d.text,v,t);_=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,C=!D}c.text=_,c.x=g,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign(x),c.fill=a,c.visible=C})}computeLabelsBBox(t,i){return L(this,null,function*(){let{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],u=new gt,d,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(u.text=h.text,u.x=0,u.y=p,u.setFont(h),u.setAlign({textBaseline:"bottom",textAlign:"center"}),d=u.getBBox(),c.push(d))}return this.calloutNodeData.forEach(p=>{let f=p.calloutLabel;if(!f||p.outerRadius===0)return null;let g=p.outerRadius+r+o,y=p.midCos*g,x=p.midSin*g+f.collisionOffsetY;u.text=f.text,u.x=y,u.y=x,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline});let v=u.getBBox();if(f.box=v,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(d){let _=i.y-this.centerY,C=new X(d.x-l,_,d.width+2*l,d.y+d.height+l-_);if(v.collidesBBox(C)){f.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:_,hasVerticalOverflow:C,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,v,i),D=f.text.length>2&&_<2;if(C||D||w){f.hidden=!0;return}}f.hidden=!1,c.push(v)}),c.length===0?null:X.merge(c)})}updateSectorLabelNodes(){let{radiusScale:t}=this,i=t.convert(0),{fontSize:n,fontStyle:s,fontWeight:r,fontFamily:o,positionOffset:a,positionRatio:l,color:c}=this.properties.sectorLabel,u=i>0,d=this.seriesItemEnabled.filter(Boolean).length===1,h=(p,f)=>{let{sectorLabel:g,outerRadius:y,startAngle:x,endAngle:v}=f,_=!1;if(g&&y!==0){let C=i*(1-l)+y*l+a;p.fill=c,p.fontStyle=s,p.fontWeight=r,p.fontSize=n,p.fontFamily=o,p.text=g.text,!u&&d?(p.x=0,p.y=0):(p.x=f.midCos*C,p.y=f.midSin*C),p.textAlign="center",p.textBaseline="middle";let D=p.getBBox(),M=[[D.x,D.y],[D.x+D.width,D.y],[D.x+D.width,D.y+D.height],[D.x,D.y+D.height]],I={startAngle:x,endAngle:v,innerRadius:i,outerRadius:y};M.every(([T,A])=>qy(T,A,I))&&(_=!0)}p.visible=_};this.labelSelection.each(h),this.highlightLabelSelection.each(h)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}getDatumLegendName(t){let{angleKey:i,calloutLabelKey:n,sectorLabelKey:s,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:l}=t;if(r&&l!==void 0)return l.text;if(n&&n!==i&&a?.text!==void 0)return a.text;if(s&&s!==i&&o?.text!==void 0)return o.text}pickNodeClosestDatum(t){return xS(this,t)}getTooltipHtml(t){if(!this.properties.isValid())return to;let{datum:i,angleValue:n,sectorFormat:{fill:s},itemId:r}=t,o=xt(this.properties.title?.text),a=He(n)?t0(n):String(n),l=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:o??l,content:o&&l?`${l}: ${a}`:a,backgroundColor:s},{datum:i,itemId:r,title:o,color:s,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){let{visible:i,processedData:n,dataModel:s}=this;if(!s||!n?.data.length||t!=="category")return[];let{angleKey:r,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l}=this.properties;if(!l&&(!o||o===r)&&(!a||a===r))return[];let{calloutLabelIdx:c,sectorLabelIdx:u,legendItemIdx:d}=this.getProcessedDataIndexes(s),h=this.properties.title?.showInLegend&&this.properties.title.text,p=[];for(let f=0;f<n.data.length;f++){let{datum:g,values:y}=n.data[f],x=[];h&&x.push(h);let v=this.getLabels(g,2*Math.PI,2*Math.PI,!1,c!=null?y[c]:void 0,u!=null?y[u]:void 0,d!=null?y[d]:void 0);if(l&&v.legendItem!==void 0?x.push(v.legendItem.text):o&&o!==r&&v.calloutLabel?.text!==void 0?x.push(v.calloutLabel?.text):a&&a!==r&&v.sectorLabel?.text!==void 0&&x.push(v.sectorLabel?.text),x.length===0)continue;let _=this.getSectorFormat(g,f,!1);p.push({legendType:"category",id:this.id,itemId:f,seriesId:this.id,enabled:i&&this.seriesItemEnabled[f],label:{text:x.join(" - ")},symbols:[{marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:l!=null?g[l]:void 0})}return p}onLegendItemClick(t){let{enabled:i,itemId:n,series:s,legendItemName:r}=t;s.id===this.id?this.toggleSeriesItem(n,i):r!=null&&this.toggleOtherSeriesItems(r,i)}toggleSeriesItem(t,i){this.seriesItemEnabled[t]=i,this.nodeData[t]&&(this.nodeData[t].enabled=i),this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,i){if(!this.properties.legendItemKey||!this.dataModel)return;let n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:s},r)=>{s[n]===t&&this.toggleSeriesItem(r,i)})}animateEmptyUpdateReady(t){let{animationManager:i}=this.ctx,n=Al(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Pt(this.id,"nodes",i,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(s,r)=>this.getDatumId(r)),Xe(this,"callout",i,this.calloutLabelSelection),Xe(this,"sector",i,this.labelSelection),Xe(this,"highlight",i,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,processedData:s,radiusScale:r,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,l=s?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,u=(s?.defs.keys.length??0)>0,d=s?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!u||!d)&&this.ctx.animationManager.skipCurrentBatch();let h=Al(!1,this.properties.rotation,r,o);Pt(this.id,"nodes",a,[t,i,n],h.nodes,(p,f)=>this.getDatumId(f),l),Xe(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Xe(this,"sector",this.ctx.animationManager,this.labelSelection),Xe(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:i,phantomSelection:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=Al(!1,this.properties.rotation,s,r);Pt(this.id,"nodes",o,[t,i,n],a.nodes,(l,c)=>this.getDatumId(c)),Ko(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ko(this,"sector",this.ctx.animationManager,this.labelSelection),Ko(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){let{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(s)return t[s];if(i)return t[i];if(n)return t[n]}}getDatumId(t){let{index:i}=t,n=this.getDatumIdFromData(t.datum);return n!=null?String(n):`${i}`}onDataChange(){let{data:t,seriesItemEnabled:i}=this;this.seriesItemEnabled=t?.map((n,s)=>i[s]??!0)??[]}};return e.className="PieSeries",e.type="pie",e})(),sK={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new nK(e),tooltipDefaults:{range:"exact"},themeTemplate:eK,paletteFactory:uV},lr=class extends Te{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){return this.buttons?.map(e=>{let t=e.id??e.value,i=this.buttonOverrides.get(t);return i!=null?S(S({},e),i):e})??[]}buttonsChanged(e){this.onButtonsChange(this.buttonConfigurations(),e)}overrideButtonConfiguration(e,t){let i=this.buttonOverrides.get(e);i==null&&(i=Object.create(null),this.buttonOverrides.set(e,i));for(let n in t){let s=t[n];s==null?delete i[n]:i[n]=s}this.buttonsChanged(!0)}};m([Yi(e=>{e.onChange(e.enabled)}),b(pe)],lr.prototype,"enabled",2);m([Yi(e=>{e.onChange(e.enabled)}),b(ht([...AP]),{optional:!0})],lr.prototype,"align",2);m([Yi(e=>{e.onChange(e.enabled)}),b(ht(pu),{optional:!0})],lr.prototype,"position",2);m([Yi(e=>{e.onChange(e.enabled)}),b(ht(["small","normal"]),{optional:!0})],lr.prototype,"size",2);m([Yi(e=>{for(let t of e.buttons??[])t.icon!=null&&V9.includes(t.icon)&&z.warnOnce(`Icon '${t.icon}' is deprecated, use another icon instead.`),t.ariaLabel==="toolbarAnnotationsColor"&&z.warnOnce(`Aria label '${t.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);e.buttonsChanged(!1)}),b(Nu,{optional:!0})],lr.prototype,"buttons",2);var oR="ag-charts-toolbar",Bh={align:"ag-charts-toolbar__align",section:"ag-charts-toolbar__section",button:"ag-charts-toolbar__button",icon:"ag-charts-toolbar__icon",label:"ag-charts-toolbar__label"},ri={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible"}},hV=class extends Lp{constructor(e){super(),this.ctx=e,this.enabled=!0,this.seriesType=new lr(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new lr(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new lr(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new lr(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new lr(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,right:new Set,bottom:new Set,left:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},right:{},bottom:{},left:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[]},{groups:["annotationOptions"],destroyFns:[]},{groups:["ranges"],destroyFns:[]},{groups:["zoom"],destroyFns:[]}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(let t of pu)this.elements[t]=e.domManager.addChild("canvas-overlay",`toolbar-${t}`),this.elements[t].role="presentation",this.renderToolbar(t);this.toggleVisibilities(),this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),31),e.interactionManager.addListener("leave",this.onLeave.bind(this),31),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)),e.localeManager.addListener("locale-changed",()=>{this.hasNewLocale=!0}),()=>this.destroyElements())}destroyElements(){this.ctx.domManager.removeStyles(oR);for(let e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${e}`)}onHover(e){let{enabled:t,elements:i,floatingDetectionRange:n,ctx:{scene:s}}=this,{offsetY:r,sourceEvent:{target:o}}=e,{FloatingBottom:a,FloatingTop:l}=Jh;if(!t)return;let c=i[a],u=i[l],d=c.offsetTop-n,h=r>d&&r<s.canvas.element.offsetHeight||o===c,p=u.offsetTop+u.offsetHeight+n,f=r>0&&r<p||o===u;this.translateFloatingElements(a,h),this.translateFloatingElements(l,f)}onLeave(e){let{enabled:t,ctx:{scene:i}}=this,{relatedElement:n,targetElement:s}=e,{FloatingBottom:r,FloatingTop:o}=Jh;!t||s!==i.canvas.element||YC.some(l=>this.groupButtons[l].some(c=>c===n))||(this.translateFloatingElements(r,!1),this.translateFloatingElements(o,!1))}onGroupChanged(e){this[e]==null||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t,i){if(!(!this.enabled||this.groupProxied.has(e))){if(i)for(let n of this[e].buttonConfigurations())this.refreshButtonContent(e,n);else this.createGroupButtons(e,t);this.toggleVisibilities()}}onLayoutComplete(){for(let e of pu)this.elements[e].classList.remove(ri.preventFlash)}onButtonUpdated(e){let r=e,{type:t,group:i,id:n}=r,s=mt(r,["type","group","id"]);this[i].overrideButtonConfiguration(n,S({},s))}setButtonActive(e,t){e.classList.toggle(ri.button.active,t)}onButtonToggled(e){let{group:t,id:i,active:n,enabled:s,visible:r}=e;if(this.groupButtons[t].length===0){this.pendingButtonToggledEvents.push(e);return}for(let o of this.groupButtons[t])o.dataset.toolbarId===`${i}`&&(o.ariaDisabled=`${!s}`,Wh(o,ri.button.hiddenToggled,!r),this.setButtonActive(o,n))}onGroupToggled(e){let{caller:t,group:i,active:n,visible:s}=e;this.toggleGroup(t,i,n,s),this.toggleVisibilities()}onFloatingAnchorChanged(e){let{elements:t,groupButtons:i,positions:n,horizontalSpacing:s,verticalSpacing:r,ctx:{domManager:o,toolbarManager:a}}=this,{group:l,anchor:c}=e;if(!n.floating.has(l))return;let u=t.floating;if(u.classList.contains(ri.hidden))return;let d=c.position??"above",{offsetWidth:h,offsetHeight:p}=u,f=c.y-p-r,g=c.x-h/2;d==="right"?(f=c.y-p/2,g=c.x+s):d==="above-left"&&(g=c.x);let y=o.getBoundingClientRect();f=De(0,f,y.height-p),g=De(0,g,y.width-h),u.style.top=`${f}px`,u.style.left=`${g}px`;let x=new X(g,f,h,p);for(let v of i[l]){if(v.classList.contains(ri.button.hiddenToggled))continue;let _=v.offsetParent;a.buttonMoved(l,v.dataset.toolbarId,new X(v.offsetLeft+(_?.offsetLeft??0),v.offsetTop+(_?.offsetTop??0),v.offsetWidth,v.offsetHeight),x)}}buttonRect(e,t=this.ctx.domManager.getBoundingClientRect()){let i=e.getBoundingClientRect();return new X(i.left-t.left,i.top-t.top,i.width,i.height)}onProxyGroupOptions(e){if(!this.enabled)return;let{caller:t,group:i,options:n}=e;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(t,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(e,t,i){t??(t=this[e].enabled),i??(i=this[e].position);for(let n of pu)t&&i===n?this.positions[n].add(e):this.positions[n].delete(e)}createGroupButtons(e,t=[]){for(let f of this.groupButtons[e])f.remove();let i=this.getAriaToolbar(e);if(this.groupButtons[e]=[],i.destroyFns.forEach(f=>f()),i.destroyFns=[],t.length===0)return;let{align:n,position:s}=this[e],r=this.positionAlignments[s][n];if(!r)return;let o=f=>{let g=Array.from(r.children),y="data-group",x="data-section",v=g.find(_=>_.getAttribute(y)===e&&_.getAttribute(x)===(f??""));if(!v){v=Vt("div"),v.role="presentation",v.setAttribute(y,e),v.setAttribute(x,f??"");let _=OO[e],C=g.find(w=>{let D=w.getAttribute(y);return OO[D]>_});C!=null?r.insertBefore(v,C):r.appendChild(v),this.destroyFns.push(()=>v.remove())}return v.classList.add(Bh.section,ri[this[e].size]),v},a=t.at(0)?.section,l=o(a);for(let f of t){a!==f.section&&(l=o(f.section)),a=f.section;let g=this.createButtonElement(e,f);l.appendChild(g),this.groupButtons[e].push(g)}let c=()=>{this.ctx.toolbarManager.cancel(e)},u,d;RO(s)&&(u=()=>this.translateFloatingElements(s,!0),d=()=>this.translateFloatingElements(s,!1));let h=this.computeAriaOrientation(this[e].position),p=i.groups.map(f=>this.groupButtons[f]).flat();i.destroyFns=S0({orientation:h,toolbar:r,buttons:p,onEscape:c,onFocus:u,onBlur:d}),this.updateToolbarAriaLabel(e,r)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,i,n){if(n===!0?this.groupCallers[t].add(e):n===!1&&this.groupCallers[t].delete(e),i!=null)for(let s of this.groupButtons[t])this.setButtonActive(s,i)}processPendingEvents(){let e=(this.pendingButtonToggledEvents??[]).slice();for(let t of e)this.onButtonToggled(t);this.pendingButtonToggledEvents=[]}performLayout(e){return L(this,null,function*(){return this.enabled&&(this.refreshOuterLayout(e.shrinkRect),this.refreshLocale()),e})}performCartesianLayout(e){return L(this,null,function*(){this.enabled&&this.refreshInnerLayout(e.seriesRect)})}refreshOuterLayout(e){let{elements:t,horizontalSpacing:i,verticalSpacing:n}=this;t.top.classList.contains(ri.hidden)||e.shrink(t.top.offsetHeight+n,"top"),t.right.classList.contains(ri.hidden)||e.shrink(t.right.offsetWidth+i,"right"),t.bottom.classList.contains(ri.hidden)||(e.shrink(t.bottom.offsetHeight+n,"bottom"),t.bottom.style.top=`${e.y+e.height+n}px`),t.left.classList.contains(ri.hidden)||e.shrink(t.left.offsetWidth+i,"left")}refreshLocale(){let{hasNewLocale:e}=this;if(e){for(let t of YC){let i=this[t].buttonConfigurations();for(let n of i)this.refreshButtonContent(t,n);this.updateToolbarAriaLabel(t)}this.hasNewLocale=!1}}refreshInnerLayout(e){let{elements:t,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:s}=Jh;t.top.style.top=`${e.y-t.top.offsetHeight-i}px`,t.top.style.left=`${e.x}px`,t.top.style.width=`${e.width}px`,t.bottom.style.left=`${e.x}px`,t.bottom.style.width=`${e.width}px`,t.right.style.top=`${e.y}px`,t.right.style.right="0px",t.right.style.height=`${e.height}px`,t.left.style.top=`${e.y}px`,t.left.style.left="0px",t.left.style.height=`${e.height}px`,t[s].style.top=`${e.y}px`,t[n].style.top=`${e.y+e.height-t[n].offsetHeight}px`}refreshButtonContent(e,t){let i=this.buttonId(t),n=this.groupProxied.get(e)?.buttons?.find(r=>this.buttonId(r)===i)??t,s=this.groupButtons[e].find(r=>r.getAttribute("data-toolbar-id")===i);s!=null&&this.updateButton(s,n)}toggleVisibilities(){if(this.elements==null)return;let e=i=>this[i].enabled&&this.groupCallers[i].size>0,t=i=>n=>{let s=this.buttonId(n);return s==null||s===i.dataset.toolbarId};for(let i of pu){let n=this.enabled&&Array.from(this.positions[i].values()).some(e);Wh(this.elements[i],ri.hidden,!n)}for(let i of YC){if(this[i]==null)continue;let n=e(i);for(let s of this.groupButtons[i]){let r=n&&this[i].buttonConfigurations().some(t(s));Wh(s,ri.button.hiddenValue,!r)}}}translateFloatingElements(e,t){let{elements:i,verticalSpacing:n,positionAlignments:s}=this,r=i[e],o=Object.values(s[e]);Wh(r,ri.floatingHidden,!t);let a=e==="floating-bottom"?1:-1;for(let l of o)l.style.transform=t&&l.style.transform!==""?"translateY(0)":`translateY(${(r.offsetHeight+n)*a}px)`}renderToolbar(e="top"){let t=this.elements[e];t.classList.add(oR,ri[e],ri.preventFlash),RO(e)&&t.classList.add(ri.floatingHidden);for(let i of AP){let n=Vt("div");n.role="presentation",n.classList.add(Bh.align,ri.align[i]),n.dataset.pointerCapture="exclusive",t.appendChild(n),this.positionAlignments[e][i]=n}}createButtonElement(e,t){let i=Vt("button");return i.classList.add(Bh.button),i.dataset.toolbarGroup=e,i.tabIndex=-1,i.dataset.toolbarId=this.buttonId(t),i.onclick=bF(i,this.onButtonPress.bind(this,i,e,t.id,t.value)),this.updateButton(i,t),this.destroyFns.push(()=>i.remove()),i}getAriaToolbar(e){for(let t of this.ariaToolbars)if(t.groups.includes(e))return t;throw new Error(`AG Charts - cannot find aria-toolbar of '${e}'`)}updateToolbarAriaLabel(e,t){if(!t){let{align:n,position:s}=this[e];if(t=this.positionAlignments[s][n],!t)return}let i={seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"};t.ariaLabel=this.ctx.localeManager.t(i[e])}updateButton(e,t){let{ctx:{domManager:i,localeManager:n}}=this;if(t.tooltip){let o=n.t(t.tooltip);e.title=o}let s="";if(t.icon!=null&&(s=`<span class="${i.getIconClassNames(t.icon)} ${Bh.icon}"></span>`),t.label!=null){let o=n.t(t.label);s=`${s}<span class="${Bh.label}">${o}</span>`}e.innerHTML=s,e.classList.toggle(ri.button.fillVisible,t.fill!=null),e.style.setProperty("--fill",t.fill??null);let r=t.ariaLabel?this.ctx.localeManager.t(t.ariaLabel):void 0;kl(e,"aria-label",r)}onButtonPress(e,t,i,n){this.ctx.toolbarManager.pressButton(t,this.buttonId({id:i,value:n}),n,this.buttonRect(e))}buttonId(e){let{id:t,value:i,label:n}=e;return t??(i!=null&&typeof i!="object"?String(i):n??"")}};m([Yi(e=>{e.processPendingEvents(),e.toggleVisibilities()}),b(pe)],hV.prototype,"enabled",2);var pV=1e3*60*60*24,ew=pV*30,rK=pV*365,oK={enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type"}]},aK={enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},lK={enabled:!0,position:"floating",align:"start",buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color"},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color"},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color"},{tooltip:"toolbarAnnotationsTextSize",value:"text-size"},{icon:"unlocked",tooltip:"toolbarAnnotationsLock",value:"lock"},{icon:"locked",tooltip:"toolbarAnnotationsUnlock",value:"unlock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},cK={enabled:!1,position:jp,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:ew},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*ew},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*ew},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date(`${new Date(t).getFullYear()}-01-01`).getTime(),t],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:rK},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t],id:"all"}]},uK={enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]},dK={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new hV(e),themeTemplate:{toolbar:{enabled:!0,seriesType:oK,annotations:aK,annotationOptions:lK,ranges:cK,zoom:uK}}};function hK(){ta.register(mF,fQ,gQ,_F,dK,RQ,BQ,HQ,YQ,XQ,tK,sK,$Q);for(let e of[Iu,Bu,D0,Su,Bp])Yr.register(e.type,{moduleFactory:t=>new e(t),hidden:e===Su})}function pK(){for(let e of ta.modules){if(e.packageType==="enterprise"&&!nq(e)&&z.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(let t of e.chartTypes)Tw.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);un.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(let t of e.seriesTypes)un.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(let t of e.axisTypes){let i=Yr.getThemeTemplate(t),n=Ve(e.themeTemplate,i);Yr.setThemeTemplate(t,n)}e.type==="axis"&&Yr.register(e.identifier,e),e.type==="legend"&&wD.register(e.identifier,e)}if(ta.hasEnterpriseModules()){let e=sq();e.length>0&&z.errorOnce("Enterprise modules expected but not registered: ",e)}}function fK(e){return e.type==="sankey"||e.type==="chord"}var gK=(()=>{let e=class t extends Gu{getChartType(){return"flow-proportion"}updateData(){return L(this,null,function*(){yield oo(t.prototype,this,"updateData").call(this);let{nodes:i}=this.getOptions();this.series.forEach(n=>{fK(n)&&n.setChartNodes(i)})})}performLayout(){return L(this,null,function*(){let i=yield oo(t.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:s,annotationRoot:r,highlightRoot:o}=this,a=i.clone();i.shrink(n.left,"left"),i.shrink(n.top,"top"),i.shrink(n.right,"right"),i.shrink(n.bottom,"bottom"),this.seriesRect=i,this.animationRect=i;let l=this.series.some(c=>c.visible);s.visible=l;for(let c of[s,r,o])c.translationX=Math.floor(i.x),c.translationY=Math.floor(i.y),c.setClipRectInGroupCoordinateSpace(new X(a.x,a.y,a.width,a.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:a,paddedRect:i,visible:l},axes:[]}),i})}};return e.className="FlowProportionChart",e.type="flow-proportion",e})(),mK=(()=>{let e=class t extends Gu{constructor(i,n){super(i,n)}getChartType(){return"hierarchy"}performLayout(){return L(this,null,function*(){let i=yield oo(t.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:s,annotationRoot:r,highlightRoot:o}=this,a=i.clone();i.shrink(n.left,"left"),i.shrink(n.top,"top"),i.shrink(n.right,"right"),i.shrink(n.bottom,"bottom"),this.seriesRect=i,this.animationRect=i;for(let l of[s,r,o])l.translationX=Math.floor(i.x),l.translationY=Math.floor(i.y);return yield Promise.all(this.series.map(l=>L(this,null,function*(){yield l.update({seriesRect:i})}))),s.visible=this.series[0].visible,s.setClipRectInGroupCoordinateSpace(new X(i.x,i.y,i.width,i.height)),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:a,paddedRect:i,visible:!0},axes:[]}),i})}getAriaLabel(){return`hierarchical chart, ${this.getCaptionText()}`}};return e.className="HierarchyChart",e.type="hierarchy",e})(),xu=class extends mD{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}};m([b(ht(["polygon","circle"],"a polar axis shape"))],xu.prototype,"shape",2);m([b(Ke)],xu.prototype,"innerRadiusRatio",2);var yK=(()=>{let e=class t extends Gu{constructor(i,n){super(i,n),this.padding=new da(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}performLayout(){return L(this,null,function*(){let i=yield oo(t.prototype,this,"performLayout").call(this),n=i.clone();return this.computeSeriesRect(i),yield this.computeCircle(i),this.axes.forEach(s=>s.update()),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:n,paddedRect:i,visible:!0},axes:[]}),i})}updateAxes(i,n,s){let r=this.axes.find(u=>u.direction==="x"),o=this.axes.find(u=>u.direction==="y");if(!(r instanceof xu)||!(o instanceof xu))return;let a=r.scale,l=a.ticks?.().map(u=>a.convert(u)),c=o.innerRadiusRatio;r.innerRadiusRatio=c,r.computeRange?.(),r.gridLength=s,o.gridAngles=l,o.gridRange=r.range,o.range=[s,s*c],[r,o].forEach(u=>{u.translation.x=i,u.translation.y=n,u.calculateLayout()})}computeSeriesRect(i){let{seriesArea:{padding:n}}=this;i.shrink(n.left,"left"),i.shrink(n.top,"top"),i.shrink(n.right,"right"),i.shrink(n.bottom,"bottom"),this.seriesRect=i,this.animationRect=i}computeCircle(i){return L(this,null,function*(){let n=this.series.filter(d=>d instanceof A0),s=this.axes.filter(d=>d instanceof xu),r=(d,h,p)=>{this.updateAxes(d,h,p),n.forEach(g=>{g.centerX=d,g.centerY=h,g.radius=p});let f=n.filter(g=>g.type==="donut"||g.type==="pie");if(f.length>1){let g=f.map(y=>{let x=y.getInnerRadius();return{series:y,innerRadius:x}}).sort((y,x)=>y.innerRadius-x.innerRadius);g.at(-1).series.surroundingRadius=void 0;for(let y=0;y<g.length-1;y++)g[y].series.surroundingRadius=g[y+1].innerRadius}},o=i.x+i.width/2,a=i.y+i.height/2,l=Math.max(0,Math.min(i.width,i.height)/2),c=l;r(o,a,c);let u=(...h)=>L(this,[...h],function*({hideWhenNecessary:d=!1}={}){let p=[];for(let y of[...s,...n]){let x=yield y.computeLabelsBBox({hideWhenNecessary:d},i);x&&p.push(x)}if(p.length===0){r(o,a,l);return}let f=X.merge(p),g=this.refineCircle(f,c,i);r(g.centerX,g.centerY,g.radius),g.radius!==c&&(c=g.radius)});return yield u(),yield u(),yield u(),yield u({hideWhenNecessary:!0}),yield u({hideWhenNecessary:!0}),{radius:c,centerX:o,centerY:a}})}refineCircle(i,n,s){let o=-n,a=-n,l=n,c=n,u=Math.max(0,o-i.x),d=Math.max(0,a-i.y),h=Math.max(0,i.x+i.width-l),p=Math.max(0,i.y+i.height-c);u=h=Math.max(u,h),d=p=Math.max(d,p);let f=s.width-u-h,g=s.height-d-p,y=Math.min(f,g)/2,x=.5*s.width/2,v=.5*s.height/2,_=Math.min(x,v);if(y<_){y=_;let D=u+h,M=d+p;if(2*y+M>s.height){let I=s.height-2*y;Math.min(d,p)*2>I?(d=I/2,p=I/2):d>p?d=I-p:p=I-d}if(2*y+D>s.width){let I=s.width-2*y;Math.min(u,h)*2>I?(u=I/2,h=I/2):u>h?u=I-h:h=I-u}}let C=u+2*y+h,w=d+2*y+p;return{centerX:s.x+(s.width-C)/2+u+y,centerY:s.y+(s.height-w)/2+d+y,radius:y}}};return e.className="PolarChart",e.type="polar",e})(),k0=Math.PI/180,tw=e=>e*k0,iw=e=>-Math.log(Math.tan(Math.PI*.25+e*k0*.5)),nw=e=>e/k0,sw=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(k0*.5),Ow=class Rw{constructor(t,i){this.domain=t,this.range=i,this.type="mercator",this.bounds=Rw.bounds(t)}static bounds(t){let[[i,n],[s,r]]=t,o=tw(i),a=iw(n),l=tw(s),c=iw(r);return new X(Math.min(o,l),Math.min(a,c),Math.abs(l-o),Math.abs(c-a))}static fixedScale(){return new Rw([[nw(0),sw(0)],[nw(1),sw(1)]],[[0,0],[1,1]])}convert([t,i]){let[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[(tw(t)-this.bounds.x)*a+n,(iw(i)-this.bounds.y)*l+s]}invert([t,i]){let[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[nw((t-n)/a+this.bounds.x),sw((i-s)/l+this.bounds.y)]}};function aR(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var vK=(()=>{let e=class t extends Gu{constructor(i,n){super(i,n),this.xAxis=new Iu(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new Iu(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}updateData(){return L(this,null,function*(){yield oo(t.prototype,this,"updateData").call(this);let{topology:i}=this.getOptions();this.series.forEach(n=>{aR(n)&&n.setChartTopology(i)})})}performLayout(){return L(this,null,function*(){let i=yield oo(t.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:s,annotationRoot:r,highlightRoot:o}=this,a=i.clone();i.shrink(n.left,"left"),i.shrink(n.top,"top"),i.shrink(n.right,"right"),i.shrink(n.bottom,"bottom"),this.seriesRect=i,this.animationRect=i;let l=this.series.filter(aR),c=l.reduce((h,p)=>{if(!p.visible)return h;let f=p.topologyBounds;return f==null?h:h==null?f:(h.merge(f),h)},void 0),u;if(c!=null){let{lon0:h,lat0:p,lon1:f,lat1:g}=c,y=[[h,p],[f,g]],x=Ow.bounds(y),{width:v,height:_}=i,C=Math.min(v/x.width,_/x.height),w=x.width*C,D=x.height*C,M=(v-w)/2,I=(_-D)/2,T=M,A=I,E=M+w,P=I+D,N=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),j=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),ae=(E-T)/(N.max-N.min),oe=T-ae*N.min,re=(P-A)/(1-j.min-(1-j.max)),ie=A-re*(1-j.max);u=new Ow(y,[[oe,ie],[oe+ae,ie+re]])}l.forEach(h=>{h.scale=u});let d=this.series.some(h=>h.visible);s.visible=d;for(let h of[s,r,o])h.translationX=Math.floor(i.x),h.translationY=Math.floor(i.y),h.setClipRectInGroupCoordinateSpace(new X(i.x,i.y,i.width,i.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:a,paddedRect:i,visible:d},axes:[]}),i})}};return e.className="TopologyChart",e.type="topology",e})(),Zo={isEnterprise:!1};function Zt(e,t){if(pn(e))return t(e)}var xK=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];function bK(e,t){let N=e,{xKey:i,dateKey:n=i??"date",highKey:s="high",openKey:r="open",lowKey:o="low",closeKey:a="close",volumeKey:l="volume",chartType:c="candlestick",navigator:u=!1,volume:d=!0,rangeToolbar:h,rangeButtons:p=h??!0,statusBar:f=!0,annotations:g,toolbar:y=g??!0,zoom:x=!0,theme:v,data:_}=N,C=mt(N,["xKey","dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeToolbar","rangeButtons","statusBar","annotations","toolbar","zoom","theme","data"]);i!=null&&z.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),h!=null&&z.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),g!=null&&z.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");let w=CK(v,c,n,s,o,r,a),D=_K(v,t,r,a,d,l),I={navigator:S({enabled:u},d?{miniChart:{enabled:u,series:[{type:"line",xKey:n,yKey:l,marker:{enabled:!1}}]}}:null)},T=f?{statusBar:{enabled:!0,data:_,highKey:s,openKey:r,lowKey:o,closeKey:a,volumeKey:d?l:void 0}}:null,A={zoom:{enabled:x,enableIndependentAxes:!0}},E={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:y},annotationOptions:{enabled:y},annotations:{enabled:y},ranges:{enabled:p}}},P=d?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return S(S(S(S(S({theme:typeof v=="string"?v:S({baseTheme:"ag-financial"},v??{}),animation:{enabled:!1},legend:{enabled:!1},series:[...D,...w],padding:{top:6,right:8,bottom:5},axes:[{type:"number",position:"right",keys:[r,a,s,o],interval:{maxSpacing:Zt(v,j=>j.overrides?.common?.axes?.number?.interval?.maxSpacing)??45},label:{format:Zt(v,j=>j.overrides?.common?.axes?.number?.label?.format)??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...P,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],annotations:{enabled:y},tooltip:{enabled:!1},data:_,titlePadding:4},I),T),A),E),C)}function _K(e,t,i,n,s,r){if(!s)return[];let o=Zt(e,l=>l.overrides?.bar?.series?.fill),a=o?{fill:o}:{itemStyler({datum:l}){let{up:c,down:u}=t().palette;return{fill:l[i]<l[n]?c?.fill:u?.fill}}};return[S({type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:Zt(e,l=>l.overrides?.bar?.series?.fillOpacity)??.5},a)]}var Dy="range-area";function CK(e,t,i,n,s,r,o){t===Dy&&(z.warnOnce(`type '${t}' is deprecated, use 'hlc' chart type instead`),t="hlc");let a={xKey:i,openKey:r,closeKey:o,highKey:n,lowKey:s},l={xKey:i,yKey:o},c={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return[S(S({type:"ohlc"},c),a)];case"line":return[k(S(S({type:"line"},c),l),{stroke:Zt(e,p=>p.overrides?.line?.series?.stroke)??sp,marker:Zt(e,p=>p.overrides?.line?.series?.marker)??{enabled:!1}})];case"step-line":return[k(S(S({type:"line"},c),l),{stroke:Zt(e,p=>p.overrides?.line?.series?.stroke)??sp,interpolation:Zt(e,p=>p.overrides?.line?.series?.interpolation)??{type:"step"},marker:Zt(e,p=>p.overrides?.line?.series?.marker)??{enabled:!1}})];case"hlc":let u=lR(Dy,e);return[k(S({type:Dy},c),{xKey:i,yHighKey:n,yLowKey:o,fill:u.fill??zD,stroke:u.stroke??BD,fillOpacity:Zt(e,p=>p.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Zt(e,p=>p.overrides?.["range-area"]?.series?.strokeWidth)??2}),k(S({type:Dy},c),{xKey:i,yHighKey:o,yLowKey:s,fill:u.fill??GD,stroke:u.stroke??jD,fillOpacity:Zt(e,p=>p.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Zt(e,p=>p.overrides?.["range-area"]?.series?.strokeWidth)??2}),k(S(S({type:"line"},c),l),{stroke:Zt(e,p=>p.overrides?.line?.series?.stroke)??UD,strokeWidth:Zt(e,p=>p.overrides?.line?.series?.strokeWidth)??2,marker:Zt(e,p=>p.overrides?.line?.series?.marker)??{enabled:!1}})];case"high-low":let d=lR("range-bar",e);return[k(S({type:"range-bar"},c),{xKey:i,yHighKey:n,yLowKey:s,fill:d.fill??HD,stroke:d.stroke??sp,tooltip:{range:"nearest"}})];case"candlestick":return[S(S({type:"candlestick"},c),a)];case"hollow-candlestick":let h=Zt(e,p=>p.overrides?.candlestick?.series?.item);return[k(S(S({type:"candlestick"},c),a),{item:{up:{fill:h?.up?.fill??"transparent"}}})];default:return z.warnOnce(`unknown chart type: ${t}; expected one of: ${xK.join(", ")}`),[S(S({type:"candlestick"},c),a)]}}function lR(e,t){let i=Zt(t,s=>s.overrides?.[e]?.series?.fill),n=Zt(t,s=>s.overrides?.[e]?.series?.stroke);return{fill:i,stroke:n}}var wK={"price-volume":bK};function cR(e,t){let i=[],n=Xt.get(Pl(e));for(let{type:s,chartTypes:r,optionsKey:o,optionsInnerKey:a,identifier:l}of ju)if(!(n!=="unknown"&&!r.includes(n))){if(s==="root"||s==="legend"){let c=e[o];if(c==null)continue;a?c[a]&&(i.push(`${o}.${a}`),delete c[a]):(i.push(o),delete e[o])}else if(s==="axis"){if(!("axes"in e)||!e.axes?.some(c=>c.type===l))continue;i.push(`axis[type=${l}]`),e.axes=e.axes.filter(c=>c.type!==l)}else if(s==="axis-option"){if(!("axes"in e)||!e.axes?.some(c=>c[o]))continue;i.push(`axis.${o}`),e.axes.forEach(c=>{c[o]&&delete c[o]})}else if(s==="series"){if(!e.series?.some(c=>c.type===l))continue;i.push(`series[type=${l}]`),e.series=e.series.filter(c=>c.type!==l)}else if(s==="series-option"){if(!e.series?.some(c=>c[o]))continue;i.push(`series.${o}`),e.series.forEach(c=>{c[o]&&delete c[o]})}}if(i.length&&!t){let s="ag-charts-enterprise",r="https://charts.ag-grid.com/javascript/installation/";e.mode==="integrated"&&(s="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",r="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),z.warnOnce([`unable to use these enterprise features as '${s}' has not been loaded:`,"",...i,"",`See: ${r}`].join(`
`))}}function DK(e,t=1/0){switch(typeof e){case"undefined":return"undefined";case"number":if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";default:return e=JSON.stringify(e),e.length>t?`${e.slice(0,t)}... (+${e.length-t} characters)`:e}}var L0=Symbol("description"),SK=Symbol("required");function MK(e,t,i){let{errors:n}=fV(e,t,i);for(let{message:s}of n)z.warn(s);return n.length===0}function uR(e,t,i){let n=fn(i)?i:i[L0],s=n?`; expecting ${n}`:"";return`${e?`Option \`${e}\``:"Value"} cannot be set to \`${DK(t)}\`${s}, ignoring.`}function fV(e,t,i=""){if(!pn(e))return{valid:null,errors:[{path:i,value:e,message:uR(i,e,"an object")}]};let n=new Set(Object.keys(e)),s=[],r={};function o(a){return St(t)?`${i}[${a}]`:i?`${i}.${a}`:a}for(let[a,l]of Object.entries(t)){n.delete(a);let c=e[a];if(!(!l[SK]&&typeof c>"u"))if(Qr(l))l(c)?r[a]=c:s.push({key:a,path:i,value:c,message:uR(o(a),c,l)});else{let u=fV(c,l,o(a));r[a]=u.valid,s.push(...u.errors)}}for(let a of n)s.push({key:a,path:i,unknown:!0,message:`Unknown option \`${o(a)}\`, ignoring.`});return{valid:r,errors:s}}function yr(e,t){return Object.assign(i=>e(i),{[L0]:t})}var TK=(...e)=>yr(t=>e.some(i=>i(t)),e.map(t=>t[L0]).filter(Boolean).join(" or ")),Xye=yr(St,"an array"),qye=yr(qw,"a boolean"),Qye=yr(Qr,"a function"),Kye=yr(He,"a number"),dR=yr(pn,"an object"),zr=yr(fn,"a string"),gV=(e,t=!0)=>yr(i=>He(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),mV=(e,t)=>yr(i=>He(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`),Jye=gV(0),e0e=gV(1),t0e=mV(0,1),i0e=mV(0,360),hR=(e,t)=>yr(i=>St(i)&&i.every(e),t??`${e[L0]} array`);function Pw(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var Sy="white",Fw={get cartesian(){return{seriesTypes:Xt.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Xt.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Xt.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Xt.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Xt.flowProportionTypes,commonOptions:[]}}},IK=Object.values(Fw).reduce((e,{commonOptions:t})=>e.concat(t),[]),ts=class yV{static getAxisDefaults(t){return Ve(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Rt,color:ai},label:{fontSize:12,fontFamily:Rt,padding:5,color:ai,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:Oy},tick:{enabled:!1,width:1,stroke:Oy},gridLine:{enabled:!0,style:[{stroke:Au,lineDash:[]}]},crossLines:{enabled:!1,fill:np,stroke:np,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Rt,padding:5,color:ai}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:$y},padding:{top:Yo,right:Yo,bottom:Yo,left:Yo},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Rt,color:ai,wrapping:"hyphenate",layoutStyle:vl,textAlign:xl},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Rt,color:Il,wrapping:"hyphenate",layoutStyle:vl,textAlign:xl},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Rt,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:vl,textAlign:xl},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:ai,fontSize:12,fontFamily:Rt}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:ai},inactiveStyle:{fill:Il},highlightStyle:{fill:ai},label:{color:ai}}},tooltip:{enabled:!0,darkTheme:ip,delay:0},overlays:{darkTheme:ip},listeners:{}}}constructor(t={}){let{overrides:i,palette:n}=Ti(t),s=this.createChartConfigPerChartType(this.getDefaults());i&&this.mergeOverrides(s,i);let l=this.getDefaultColors(),{fills:r,strokes:o}=l,a=mt(l,["fills","strokes"]);this.palette=Ve(n,S({fills:Object.values(r),strokes:Object.values(o)},a)),this.paletteType=Pw(n),this.config=Object.freeze(this.templateTheme(s))}mergeOverrides(t,i){for(let{seriesTypes:n,commonOptions:s}of Object.values(Fw)){let r=S({},i.common);for(let o of IK)s.includes(o)||delete r[o];if(r)for(let o of n){let a=o;t[a]=Ve(r,t[a])}}Xt.seriesTypes.forEach(n=>{let s=n;i[s]&&(t[s]=Ve(i[s],t[s]))})}createChartConfigPerChartType(t){for(let[i,{seriesTypes:n}]of Object.entries(Fw)){let s=Tw.get(i);for(let r of n)t[r]||(t[r]=Ti(s))}return t}getDefaults(){let t=(i,n)=>{let s={},r=S(S(S({axes:{}},wD.getThemeTemplates()),this.getChartDefaults()),Tw.get(i));for(let o of n){s[o]=Ve(un.getThemeTemplate(o),s[o]??Ti(r));let{axes:a}=s[o];for(let l of Yr.keys())a[l]=Ve(a[l],Yr.getThemeTemplate(l),yV.cartesianAxisDefault[l])}return s};return Ve(t("cartesian",Xt.cartesianTypes),t("polar",Xt.polarTypes),t("hierarchy",Xt.hierarchyTypes),t("topology",Xt.topologyTypes),t("flow-proportion",Xt.flowProportionTypes))}templateTheme(t){let i=Ti(t),n=this.getTemplateParameters();return cr(i,s=>{if(St(s))for(let r=0;r<s.length;r++){let o=s[r];n.has(o)&&(s[r]=n.get(o))}else for(let[r,o]of Object.entries(s))n.has(o)&&(s[r]=n.get(o))}),Ti(i)}getDefaultColors(){return{fills:Ni,strokes:rr,up:{fill:Ni.GREEN,stroke:rr.GREEN},down:{fill:Ni.RED,stroke:rr.RED},neutral:{fill:Ni.GRAY,stroke:rr.GRAY},altUp:{fill:Ni.BLUE,stroke:rr.BLUE},altDown:{fill:Ni.ORANGE,stroke:rr.ORANGE},altNeutral:{fill:Ni.GRAY,stroke:rr.GRAY}}}getTemplateParameters(){let t=new Map;t.set(ip,!1),t.set(Rt,"Verdana, sans-serif"),t.set(ai,"rgb(70, 70, 70)"),t.set(IF,"white"),t.set(Il,"rgb(140, 140, 140)"),t.set(Au,"rgb(224,234,241)"),t.set(Oy,"rgb(195, 195, 195)"),t.set(np,"rgb(70, 70, 70)"),t.set(zl,Sy),t.set($y,Sy),t.set(Gl,"rgba(0, 0, 0, 0.5)"),t.set(Rn,[Ni.ORANGE,Ni.YELLOW,Ni.GREEN]),t.set(Yo,20),t.set(vl,"block"),t.set(xl,"center"),t.set(WD,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),t.set(YD,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),t.set($D,Sy),t.set(Pn,Ni.BLUE),t.set(ZD,Ni.BLUE),t.set(Fn,Ni.BLUE),t.set(XD,Sy),t.set(qD,"#fafafa"),t.set(QD,"#dddddd"),t.set(KD,"#000000"),t.set(jp,"top"),t.set($r,!1);let i=this.getDefaultColors();return t.set(BD,this.palette.up?.stroke??i.up.stroke),t.set(zD,this.palette.up?.fill??i.up.fill),t.set(jD,this.palette.down?.stroke??i.down.stroke),t.set(GD,this.palette.down?.fill??i.down.fill),t.set(sp,this.palette.neutral?.stroke??i.neutral.stroke),t.set(HD,this.palette.neutral?.fill??i.neutral.fill),t.set(AF,this.palette.altUp?.stroke??i.up.stroke),t.set(kF,this.palette.altUp?.fill??i.up.fill),t.set(EF,this.palette.altDown?.stroke??i.down.stroke),t.set(LF,this.palette.altDown?.fill??i.down.fill),t.set(NF,this.palette.altNeutral?.fill??i.altNeutral.fill),t.set(UD,this.palette.altNeutral?.stroke??i.altNeutral.stroke),t}};ts.cartesianAxisDefault={number:ts.getAxisDefaults({line:{enabled:!1}}),log:ts.getAxisDefaults({base:10,line:{enabled:!1}}),category:ts.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:$r},crosshair:{enabled:!1}}),time:ts.getAxisDefaults({gridLine:{enabled:$r}}),"ordinal-time":ts.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:$r}}),"angle-category":ts.getAxisDefaults({gridLine:{enabled:$r}}),"angle-number":ts.getAxisDefaults({gridLine:{enabled:$r}}),"radius-category":ts.getAxisDefaults({line:{enabled:!1}}),"radius-number":ts.getAxisDefaults({line:{enabled:!1}}),"grouped-category":ts.getAxisDefaults({tick:{enabled:!0}})};var ro=ts,My="#192232",Yn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},ol={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Qu=class extends ro{getDefaultColors(){return{fills:Yn,strokes:ol,up:{fill:Yn.GREEN,stroke:ol.GREEN},down:{fill:Yn.RED,stroke:ol.RED},neutral:{fill:Yn.GRAY,stroke:ol.GRAY},altUp:{fill:Yn.BLUE,stroke:ol.BLUE},altDown:{fill:Yn.ORANGE,stroke:ol.ORANGE},altNeutral:{fill:Yn.GRAY,stroke:ol.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(ip,!0),e.set($D,My),e.set(ai,"white"),e.set(Il,"#7D91A0"),e.set(Au,"#545A6E"),e.set(np,"white"),e.set(Rn,[Yn.ORANGE,Yn.YELLOW,Yn.GREEN]),e.set(WD,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(YD,["#192834","#3b5164","#496275","#577287","#668399"]),e.set($y,My),e.set(zl,My),e.set(Pn,Yn.BLUE),e.set(ZD,"white"),e.set(Fn,Yn.BLUE),e.set(XD,My),e.set(qD,"#28313e"),e.set(QD,"#4b525d"),e.set(KD,"#ffffff"),e}constructor(e){super(e)}},Zn={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},al={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},AK=class extends Qu{getDefaultColors(){return{fills:S({},Zn),strokes:S({},al),up:{fill:Zn.GREEN,stroke:al.GREEN},down:{fill:Zn.RED,stroke:al.RED},neutral:{fill:Zn.BLUE,stroke:al.BLUE},altUp:{fill:Zn.GREEN,stroke:al.GREEN},altDown:{fill:Zn.RED,stroke:al.RED},altNeutral:{fill:Zn.GRAY,stroke:al.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Zn.GREEN,Zn.BLUE,Zn.RED]),e.set(Pn,Zn.BLUE),e.set(Fn,Zn.BLUE),e.set(Au,"#343A4E"),e.set(Yo,0),e.set(vl,"overlay"),e.set(xl,"left"),e.set(jp,"bottom"),e.set($r,!0),e}},Xn={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},ll={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},EK=class extends ro{getDefaultColors(){return{fills:S({},Xn),strokes:S({},ll),up:{fill:Xn.GREEN,stroke:ll.GREEN},down:{fill:Xn.RED,stroke:ll.RED},neutral:{fill:Xn.BLUE,stroke:ll.BLUE},altUp:{fill:Xn.GREEN,stroke:ll.GREEN},altDown:{fill:Xn.RED,stroke:ll.RED},altNeutral:{fill:Xn.GRAY,stroke:ll.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Xn.GREEN,Xn.BLUE,Xn.RED]),e.set(Pn,Xn.BLUE),e.set(Fn,Xn.BLUE),e.set(Au,"#F2F3F3"),e.set(Yo,0),e.set(vl,"overlay"),e.set(xl,"left"),e.set(jp,"bottom"),e.set($r,!0),e}},qn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},cl={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},kK=class extends Qu{getDefaultColors(){return{fills:qn,strokes:cl,up:{fill:qn.GREEN,stroke:cl.GREEN},down:{fill:qn.RED,stroke:cl.RED},neutral:{fill:qn.GRAY,stroke:cl.GRAY},altUp:{fill:qn.BLUE,stroke:cl.BLUE},altDown:{fill:qn.RED,stroke:cl.RED},altNeutral:{fill:qn.GRAY,stroke:cl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[qn.ORANGE,qn.YELLOW,qn.GREEN]),e.set(Pn,qn.BLUE),e.set(Fn,qn.BLUE),e}},Qn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},ul={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},LK=class extends ro{getDefaultColors(){return{fills:Qn,strokes:ul,up:{fill:Qn.GREEN,stroke:ul.GREEN},down:{fill:Qn.RED,stroke:ul.RED},neutral:{fill:Qn.GRAY,stroke:ul.GRAY},altUp:{fill:Qn.BLUE,stroke:ul.BLUE},altDown:{fill:Qn.RED,stroke:ul.RED},altNeutral:{fill:Qn.GRAY,stroke:ul.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Qn.ORANGE,Qn.YELLOW,Qn.GREEN]),e.set(Pn,Qn.BLUE),e.set(Fn,Qn.BLUE),e}},Ns={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},dl={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},NK=class extends Qu{getDefaultColors(){return{fills:Ns,strokes:dl,up:{fill:Ns.GREEN,stroke:dl.GREEN},down:{fill:Ns.RED,stroke:dl.RED},neutral:{fill:Ns.GRAY,stroke:dl.GRAY},altUp:{fill:Ns.BLUE,stroke:dl.BLUE},altDown:{fill:Ns.RED,stroke:dl.RED},altNeutral:{fill:Ns.GRAY,stroke:dl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Ns.BLUE,Ns.RED]),e.set(Pn,Ns.BLUE),e.set(Fn,Ns.BLUE),e}},Os={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},hl={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},OK=class extends ro{getDefaultColors(){return{fills:Os,strokes:hl,up:{fill:Os.GREEN,stroke:hl.GREEN},down:{fill:Os.RED,stroke:hl.RED},neutral:{fill:Os.GRAY,stroke:hl.GRAY},altUp:{fill:Os.BLUE,stroke:hl.BLUE},altDown:{fill:Os.RED,stroke:hl.RED},altNeutral:{fill:Os.GRAY,stroke:hl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Os.BLUE,Os.RED]),e.set(Pn,Os.BLUE),e.set(Fn,Os.BLUE),e}},Tn={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},$o={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},RK=class extends Qu{getDefaultColors(){return{fills:k(S({},Tn),{RED:Tn.ORANGE}),strokes:k(S({},$o),{RED:$o.ORANGE}),up:{fill:Tn.GREEN,stroke:$o.GREEN},down:{fill:Tn.ORANGE,stroke:$o.ORANGE},neutral:{fill:Tn.GRAY,stroke:$o.GRAY},altUp:{fill:Tn.BLUE,stroke:$o.BLUE},altDown:{fill:Tn.ORANGE,stroke:$o.ORANGE},altNeutral:{fill:Tn.GRAY,stroke:$o.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Tn.ORANGE,Tn.YELLOW,Tn.GREEN]),e.set(Pn,Tn.BLUE),e.set(Fn,Tn.BLUE),e}},Kn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Gr={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},PK=class extends ro{getDefaultColors(){return{fills:k(S({},Kn),{RED:Kn.ORANGE}),strokes:k(S({},Gr),{RED:Gr.ORANGE}),up:{fill:Kn.GREEN,stroke:Gr.GREEN},down:{fill:Kn.ORANGE,stroke:Gr.ORANGE},neutral:{fill:Gr.GRAY,stroke:Gr.GRAY},altUp:{fill:Kn.BLUE,stroke:Gr.BLUE},altDown:{fill:Kn.ORANGE,stroke:Gr.ORANGE},altNeutral:{fill:Kn.GRAY,stroke:Gr.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Kn.ORANGE,Kn.YELLOW,Kn.GREEN]),e.set(Pn,Kn.BLUE),e.set(Fn,Kn.BLUE),e}},Jn={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},pl={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},FK=class extends Qu{getDefaultColors(){return{fills:Jn,strokes:pl,up:{fill:Jn.GREEN,stroke:pl.GREEN},down:{fill:Jn.RED,stroke:pl.RED},neutral:{fill:Jn.GRAY,stroke:pl.GRAY},altUp:{fill:Jn.BLUE,stroke:pl.BLUE},altDown:{fill:Jn.ORANGE,stroke:pl.ORANGE},altNeutral:{fill:Jn.GRAY,stroke:pl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[Jn.ORANGE,Jn.YELLOW,Jn.GREEN]),e.set(Pn,Jn.BLUE),e.set(Fn,Jn.BLUE),e}},es={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},fl={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},VK=class extends ro{getDefaultColors(){return{fills:es,strokes:fl,up:{fill:es.GREEN,stroke:fl.GREEN},down:{fill:es.RED,stroke:fl.RED},neutral:{fill:es.GRAY,stroke:fl.GRAY},altUp:{fill:es.BLUE,stroke:fl.BLUE},altDown:{fill:es.ORANGE,stroke:fl.ORANGE},altNeutral:{fill:es.GRAY,stroke:fl.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Rn,[es.ORANGE,es.YELLOW,es.GREEN]),e.set(Pn,es.BLUE),e.set(Fn,es.BLUE),e}},bu=()=>new ro,BK=()=>new Qu,vV={"ag-default-dark":BK,"ag-sheets-dark":()=>new RK,"ag-polychroma-dark":()=>new NK,"ag-vivid-dark":()=>new FK,"ag-material-dark":()=>new kK,"ag-financial-dark":()=>new AK,null:bu,undefined:bu,"ag-default":bu,"ag-sheets":()=>new PK,"ag-polychroma":()=>new OK,"ag-vivid":()=>new VK,"ag-material":()=>new LK,"ag-financial":()=>new EK};function _S(e){if(e instanceof ro)return e;if(e==null||typeof e=="string"){let t=vV[e];return t?t():(z.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),bu())}if(MK(e,zK,"theme")){let t=jK(e),i=t.baseTheme?_S(t.baseTheme):bu();return new i.constructor(t)}return bu()}function jK(e){let t=e,i,n=[];for(;typeof t=="object";)i??(i=t.palette),t.overrides&&n.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:Ve(...n),palette:i}}var zK={baseTheme:TK(zr,dR),overrides:dR,palette:{fills:hR(zr),strokes:hR(zr),up:{fill:zr,stroke:zr},down:{fill:zr,stroke:zr},neutral:{fill:zr,stroke:zr}}},GK=new Set(["map-shape-background","map-line-background"]),xV=class{constructor(e,t){this.debug=ut.create(!0,"opts");var i;let n={shallow:["data"]};e=Ti(e,n);let s=this.optionsType(e);Zo.isEnterprise||cR(e);let r=Ti(e,n);if(this.type=t?.type,this.type!=null){let g=wK[this.type]?.(r,()=>this.activeTheme)??r;this.debug(">>> AgCharts.createOrUpdate() - applying preset",r,g),r=g}this.activeTheme=_S(r.theme),this.type&&(r=this.activeTheme.templateTheme(r)),this.sanityCheckAndCleanup(r),this.defaultAxes=this.getDefaultAxes(r),this.specialOverrides=this.specialOverridesDefaults(S({},t));let d=this.getSeriesThemeConfig(s),{axes:o={},annotations:h={}}=d,p=h,{axesButtons:a=null}=p,l=mt(p,["axesButtons"]),f=d,{series:c}=f,u=mt(f,["axes","annotations","series"]);this.userOptions=e,this.processedOptions=Ti(Ve(r,a!=null?{annotations:{axesButtons:a}}:{},u,this.defaultAxes),n),this.processAxesOptions(this.processedOptions,o),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=l,(wl(this.processedOptions)||fq(this.processedOptions))&&this.processedOptions.legend?.enabled==null&&((i=this.processedOptions).legend??(i.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),Zo.isEnterprise||cR(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(e){return En(e,this.processedOptions)}getSeriesThemeConfig(e){let t=Ti(this.activeTheme?.config[e]??{});return this.removeLeftoverSymbols(t),t}getDefaultAxes(e){let t=this.optionsType(e),i=un.cloneDefaultAxes(t);return un.isDefaultAxisSwapNeeded(e)&&this.swapAxesPosition(i),i}optionsType(e){return e.series?.[0]?.type??"line"}sanityCheckAndCleanup(e){this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),e.series?.some(t=>t.type==="bullet")&&e.sync!=null&&e.sync.enabled!==!1&&(z.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}swapAxesPosition(e){if(wl(e)){let[t,i]=e.axes??[];e.axes=[k(S({},t),{position:i.position}),k(S({},i),{position:t.position})]}}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map(i=>{let d=Ve(t[i.type]?.[i.position],t[i.type]),{crossLines:n}=d,s=mt(d,["crossLines"]);i.crossLines&&(i.crossLines=dw(i.crossLines,n));let r=s.gridLine?.style;i.gridLine?.style&&r?.length&&(i.gridLine.style=i.gridLine.style.map((p,f)=>p.stroke!=null||p.lineDash!=null?Ve(p,r.at(f%r.length)):p));let h=Ve(i,s),{top:o,right:a,bottom:l,left:c}=h;return mt(h,["top","right","bottom","left"])}))}processSeriesOptions(e){let t=this.getDefaultSeriesType(e),i=this.getTooltipPositionDefaults(e),n=pn(e.theme)?Pw(e.theme?.palette):"inbuilt",s={colourIndex:0,userPalette:n},r=e.series?.map(o=>{o.type??(o.type=t);let p=this.getSeriesThemeConfig(o.type).series??{},{innerLabels:a}=p,l=mt(p,["innerLabels"]),c=GK.has(o.type)?{colourIndex:0,userPalette:n}:s,u=this.getSeriesPalette(o.type,c),d=this.getTooltipRangeDefaults(e,o.type),h=Ve(this.getSeriesGroupingOptions(o),o,i,d,l,u,{visible:!0});return h.innerLabels&&(h.innerLabels=dw(h.innerLabels,a)),this.activeTheme.templateTheme(h)});e.series=this.setSeriesGroupingOptions(r??[])}processMiniChartSeriesOptions(e){let t=e.navigator?.miniChart?.series;if(t==null)return;let i={colourIndex:0,userPalette:pn(e.theme)?Pw(e.theme.palette):"inbuilt"};t=t.map(n=>{n.type??(n.type="line");let a=this.getSeriesThemeConfig(n.type).series??{},{innerLabels:s}=a,r=mt(a,["innerLabels"]),o=Ve(this.getSeriesGroupingOptions(n),n,r,this.getSeriesPalette(n.type,i));return this.activeTheme.templateTheme(o)}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(t)}getSeriesPalette(e,t){let i=un.getPaletteFactory(e),{colourIndex:n,userPalette:s}=t,{fills:r=[],strokes:o=[]}=this.activeTheme.palette;return i?.({userPalette:s,colorsCount:Math.max(r.length,o.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors(a){return t.colourIndex+=a,{fills:mw(r,a,n),strokes:mw(o,a,n)}}})}getSeriesGroupingOptions(e){let t=un.isGroupable(e.type),i=un.isStackable(e.type),n=un.isStackedByDefault(e.type);e.grouped&&!t&&z.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!i&&z.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:s,stacked:r}=e;return r??(r=(n||e.stackGroup!=null)&&!(t&&s)),s??(s=!0),{stacked:i&&r,grouped:t&&s&&!(i&&r)}}setSeriesGroupingOptions(e){let t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);let i={},n=t.reduce((s,r)=>{var o;return r.groupType==="default"||(s[o=r.seriesType]??(s[o]=0),s[r.seriesType]+=r.groupType==="stack"?1:r.series.length),s},{});return t.flatMap(s=>{var r;switch(i[r=s.seriesType]??(i[r]=0),s.groupType){case"stack":let o=i[s.seriesType]++;return s.series.map((a,l)=>Object.assign(a,{seriesGrouping:{groupId:s.groupId,groupIndex:o,groupCount:n[s.seriesType],stackIndex:l,stackCount:s.series.length}}));case"group":return s.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:s.groupId,groupIndex:i[s.seriesType]++,groupCount:n[s.seriesType],stackIndex:0,stackCount:0}}))}return s.series}).map(a=>{var l=a,{stacked:s,grouped:r}=l,o=mt(l,["stacked","grouped"]);return o})}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){let t=new Map;return e.reduce((i,n)=>{let s=n.type;if(!n.stacked&&!n.grouped)i.push({groupType:"default",seriesType:s,series:[n],groupId:"__default__"});else{let r=this.getSeriesGroupId(n);if(!t.has(r)){let a={groupType:n.stacked?"stack":"group",seriesType:s,series:[],groupId:r};t.set(r,a),i.push(a)}t.get(r).series.push(n)}return i},[])}getDefaultSeriesType(e){if(wl(e))return"line";if(b0(e))return"pie";if(MD(e))return"treemap";if(TD(e))return"map-shape";if(ID(e))return"sankey";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){let t=e.tooltip?.position;if(!os(t))return;let{type:i,xOffset:n,yOffset:s}=t,r={};return fn(i)&&HR(mR,i)&&(r.type=i),He(n)&&(r.xOffset=n),He(s)&&(r.yOffset=s),{tooltip:{position:r}}}getTooltipRangeDefaults(e,t){return{tooltip:{range:e.tooltip?.range??un.getTooltipDefauls(t)?.range}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([i,n])=>{e.series?.some(s=>s[i]!=null)&&z.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)})}axesTypeIntegrity(e){if("axes"in e){let t=e.axes??[];for(let{type:i}of t)if(!mq(i)){delete e.axes;let n=Yr.publicKeys().join(", ");z.warnOnce(`unknown axis type: ${i}; expected one of: ${n}`)}}}seriesTypeIntegrity(e){e.series=e.series?.filter(({type:t})=>{if(t==null||gq(t)||q7(t))return!0;z.warnOnce(`unknown series type: ${t}; expected one of: ${jP.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){let t=e.series;if(t&&t.length>1&&t.some(i=>un.isSolo(i.type))){let i=this.optionsType(e);if(un.isSolo(i))z.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{let{solo:n,nonSolo:s}=uD(t,o=>un.isSolo(o.type)?"solo":"nonSolo"),r=d0(n.map(o=>o.type)).join(", ");z.warn(`Unable to mix these series types with the lead series type: ${r}`),e.series=s}}}enableConfiguredOptions(e){cr(this.userOptions,(t,i)=>{i&&"enabled"in i&&!i._enabledFromTheme&&t.enabled==null&&(i.enabled=!0)},{skip:["data","theme"]},e),cr(e,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(e){cr(e,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(i=>{i!=="enabled"&&delete t[i]})},{skip:["data","theme"]})}removeLeftoverSymbols(e){cr(e,t=>{if(!(!t||!pn(t)))for(let[i,n]of Object.entries(t))UR(n)&&delete t[i]},{skip:["data"]})}specialOverridesDefaults(e){if(e.window!=null?I2(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),e.document!=null?T2(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),e.window==null)throw new Error("AG Charts - unable to resolve global window");if(e.document==null)throw new Error("AG Charts - unable to resolve global document");return e}},jh=ut.create(!0,"opts");function pR(e){if(wl(e))return"cartesian";if(b0(e))return"polar";if(MD(e))return"hierarchy";if(TD(e))return"topology";if(ID(e))return"flow-proportion";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var Qy=(()=>{let e=class{static licenseCheck(t){this.licenseChecked||(this.licenseManager=Zo.licenseManager?.(t),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){return Zo.licenseManager?.({}).getLicenseDetails(t)}static getInstance(t){return fR.getInstance(t)}static create(t){this.licenseCheck(t);let i=fR.createOrUpdate(t,void 0,this.licenseManager);return Zo.styles!=null&&i.chart.ctx.domManager.addStyles("ag-charts-enterprise",Zo.styles),this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&Zo.injectWatermark?.(i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),i}static createFinancialChart(t){return this.create(S({_type:"price-volume"},t))}};return e.licenseChecked=!1,e.gridContext=!1,e})(),bl=class Wo{static getInstance(t){let i=Gu.getInstance(t);return i?BO.chartInstances.get(i):void 0}static initialiseModules(){Wo.initialised||(hK(),pK(),Wo.initialised=!0)}static createOrUpdate(t,i,n){Wo.initialiseModules(),jh(">>> AgCharts.createOrUpdate() user options",t);let s=i?.chart.chartOptions.type,f=t,{_type:r=s}=f,a=mt(f,["_type"]);Qy.optionsMutationFn&&(a=Qy.optionsMutationFn(a,r),jh(">>> AgCharts.createOrUpdate() MUTATED user options",t));let g=a,{overrideDevicePixelRatio:l,document:c,window:u}=g,d=mt(g,["overrideDevicePixelRatio","document","window"]),h=new xV(d,{overrideDevicePixelRatio:l,document:c,window:u,type:r}),p=i?.chart;return(p==null||pR(d)!==pR(p?.chartOptions.processedOptions))&&(p=Wo.createChartInstance(h,p)),i==null?i=new BO(p,Wo.callbackApi,n):i.chart=p,jh.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[p.id]=p),p.queuedUserOptions.push(d),p.requestFactoryUpdate(y=>{y.applyOptions(h);let x=y.queuedUserOptions.indexOf(d)+1;y.queuedUserOptions.splice(0,x)}),i}static updateUserDelta(t,i){i=Ti(i,{shallow:["data"]}),cr(i,o=>{if(typeof o=="object")for(let[a,l]of Object.entries(o))typeof l>"u"&&Object.assign(o,{[a]:Symbol("UNSET")})},{skip:["data"]});let{chart:n}=t,s=n.getOptions(),r=Ve(i,s);jh(">>> AgCharts.updateUserDelta() user delta",i),jh("AgCharts.updateUserDelta() - base options",s),Wo.createOrUpdate(r,t)}static createChartInstance(t,i){let n=i?.destroy({keepTransferableResources:!0}),s=Wo.getChartByOptions(t.processedOptions);return new s(t,n)}static getChartByOptions(t){if(wl(t))return eQ;if(MD(t))return mK;if(b0(t))return yK;if(TD(t))return vK;if(ID(t))return gK;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};bl.caretaker=new oP(rP);bl.initialised=!1;bl.callbackApi={caretaker:bl.caretaker,createOrUpdate(e,t){return bl.createOrUpdate(e,t)},updateUserDelta(e,t){return bl.updateUserDelta(e,t)}};var fR=bl,HK={};pr(HK,{Arc:()=>vr,BBox:()=>X,BandScale:()=>sa,Caption:()=>Ct,ChangeDetectableProperties:()=>JD,Circle:()=>Sl,ContinuousScale:()=>st,Diamond:()=>lF,DropShadow:()=>js,ExtendedPath2D:()=>fp,Group:()=>se,HdpiCanvas:()=>xD,Image:()=>jl,Label:()=>Qt,Line:()=>li,LinearGradientFill:()=>N0,LinearScale:()=>Fs,Marker:()=>Xi,Node:()=>ku,OrdinalTimeScale:()=>Rs,Path:()=>Zi,PointerEvents:()=>PR,RadialColumnShape:()=>xr,Rect:()=>vn,RedrawType:()=>Jo,Scene:()=>uP,SceneChangeDetection:()=>Y,ScenePathChangeDetection:()=>ye,Sector:()=>Ri,SectorBox:()=>oV,Selection:()=>bt,Shape:()=>as,Square:()=>Uy,SvgPath:()=>CS,Text:()=>gt,Tooltip:()=>ds,Triangle:()=>vu,drawCorner:()=>Xh,easing:()=>tD,evaluateBezier:()=>xQ,getFont:()=>WK,getMarker:()=>hr,getRadialColumnWidth:()=>UK,motion:()=>$K,sectorBox:()=>aV,solveBezier:()=>Wy,splitBezier:()=>Yy,toRadians:()=>$i,toTooltipHtml:()=>Du});var vr=class extends Zi{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return _l(_t(this.startAngle),_t(this.endAngle))}updatePath(){let e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new X(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){let i=this.transformPoint(e,t),n=this.getBBox();return this.type!==0&&n.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)}};vr.className="Arc";vr.defaultStyles=Object.assign({},as.defaultStyles,{lineWidth:1,fillStyle:null});m([ye()],vr.prototype,"centerX",2);m([ye()],vr.prototype,"centerY",2);m([ye()],vr.prototype,"radius",2);m([ye()],vr.prototype,"startAngle",2);m([ye()],vr.prototype,"endAngle",2);m([ye()],vr.prototype,"counterClockwise",2);m([ye()],vr.prototype,"type",2);var N0=class extends as{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(e){this._mask!=null&&this.removeChild(this._mask),e!=null&&this.appendChild(e),this._mask=e}isPointInPath(e,t){return this.mask?.isPointInPath(e,t)??!1}computeBBox(){return this.mask?.getBBox()}render(e){let{mask:t,stops:i}=this,{ctx:n,devicePixelRatio:s}=e,r=1/s,o=t?.computeTransformedBBox();if(t==null||i==null||o==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),n.save(),n.clip(t.path.getPath2D()),n.setTransform(s,0,0,s,0,0);let a=Math.floor(o.x),l=Math.ceil(o.x+o.width),c=Math.floor(o.y),u=Math.ceil(o.y+o.height),d=this.direction==="to-right"||this.direction==="to-left",h=this.direction==="to-top"||this.direction==="to-left",p=new Hl,[f,g]=d?[a,l]:[c,u];p.domain=i.map((v,_)=>f+(g-f)*_/(i.length-1)),p.range=h?i.slice().reverse():i,p.update();let y=u-c,x=l-a;switch(this.direction){case"to-right":case"to-left":for(let v=a;v<=l;v+=r)n.fillStyle=p.convert(v),n.fillRect(v,c,r,y);break;case"to-bottom":case"to-top":for(let v=c;v<=u;v+=r)n.fillStyle=p.convert(v),n.fillRect(a,v,x,r);break}n.restore()}};m([Y({redraw:3})],N0.prototype,"direction",2);m([Y({redraw:3})],N0.prototype,"stops",2);m([Y({redraw:3})],N0.prototype,"_mask",2);function rw(e,t,i){let n=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+i;return{x:Math.cos(r)*n,y:Math.sin(r)*n}}var xr=(()=>{let e=class extends Zi{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){let{innerRadius:t,outerRadius:i,columnWidth:n}=this,s=this.getRotation(),r=-n/2,o=n/2,a=-i,l=-t,c=1/0,u=1/0,d=-1/0,h=-1/0;for(let p=0;p<4;p+=1){let{x:f,y:g}=rw(p%2===0?r:o,p<2?a:l,s);c=Math.min(f,c),u=Math.min(g,u),d=Math.max(f,d),h=Math.max(g,h)}return new X(c,u,d-c,h-u)}getRotation(){let{startAngle:t,endAngle:i}=this,n=f0(t,i);return _t(t+n/2+Math.PI/2)}updatePath(){let{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:t,innerRadius:i,outerRadius:n,path:s}=this,r=-t/2,o=t/2,a=-n,l=-i,c=this.getRotation(),u=[[r,l],[r,a],[o,a],[o,l]].map(([d,h])=>rw(d,h,c));s.clear(!0),s.moveTo(u[0].x,u[0].y),s.lineTo(u[1].x,u[1].y),s.lineTo(u[2].x,u[2].y),s.lineTo(u[3].x,u[3].y),s.closePath()}updateBeveledPath(){let{columnWidth:t,path:i,outerRadius:n,innerRadius:s,axisInnerRadius:r,axisOuterRadius:o,isRadiusAxisReversed:a}=this,l=_l(s,r),c=Math.asin(t/2/s),u=this.getRotation(),d=(T,A)=>rw(T,A,u),h=(T,A)=>Math.sqrt(T**2+A**2),p=(T,A)=>A>T?0:Math.sqrt(T**2-A**2),f=(T,A,E)=>E?T<A:T>A,g=l&&!isNaN(c)&&c<Math.PI/6,y=-t/2,x=t/2,v=-n,_=-s*(g?Math.cos(c):1),C=f(o,h(s,t/2),!a);if(C){let T=p(o,s);y=-T,x=T}i.clear(!0);let w=d(y,_);i.moveTo(w.x,w.y);let D=_l(s,n),M=f(o,h(n,t/2),!a);if(D&&g)i.arc(0,0,s,_t(-c-Math.PI/2)+u,_t(c-Math.PI/2)+u,!1);else if(M){let T=-p(o,t/2),A=p(o,n);if(!C){let E=d(y,T);i.lineTo(E.x,E.y)}if(i.arc(0,0,o,Math.atan2(T,y)+u,Math.atan2(v,-A)+u,!1),!_l(A,0)){let E=d(A,v);i.lineTo(E.x,E.y)}i.arc(0,0,o,Math.atan2(v,A)+u,Math.atan2(T,x)+u,!1)}else{let T=d(y,v),A=d(x,v);i.lineTo(T.x,T.y),i.lineTo(A.x,A.y)}let I=d(x,_);if(i.lineTo(I.x,I.y),g)i.arc(0,0,s,_t(c-Math.PI/2)+u,_t(-c-Math.PI/2)+u,!0);else{let T=d(y,_);i.lineTo(T.x,T.y)}i.closePath()}};return e.className="RadialColumnShape",e})();m([ye()],xr.prototype,"isBeveled",2);m([ye()],xr.prototype,"columnWidth",2);m([ye()],xr.prototype,"startAngle",2);m([ye()],xr.prototype,"endAngle",2);m([ye()],xr.prototype,"outerRadius",2);m([ye()],xr.prototype,"innerRadius",2);m([ye()],xr.prototype,"axisInnerRadius",2);m([ye()],xr.prototype,"axisOuterRadius",2);m([ye()],xr.prototype,"isRadiusAxisReversed",2);function UK(e,t,i,n,s){let r=f0(e,t),o=r*(1-n)/2;if(e+=o,t-=o,r<.001)return 2*i*s;if(r>=2*Math.PI){let p=e+r/2;e=p-Math.PI,t=p+Math.PI}let a=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),u=i*Math.sin(t),d=Math.floor(Math.sqrt((a-c)**2+(l-u)**2)),h=2*i*s;return Math.max(1,Math.min(h,d))}var CS=class extends Zi{constructor(e){super(),this.x=0,this.y=0,this.commands=[];for(let[t,i,n]of e.matchAll(/([A-Z])([0-9. ]+)/g)){let s=n.split(" ").map(Number);this.commands.push([i,s])}}updatePath(){let{path:e,x:t,y:i}=this;e.clear();let n=t,s=i;for(let[r,o]of this.commands)switch(r){case"M":e.moveTo(t+o[0],i+o[1]),n=t+o[0];break;case"C":e.cubicCurveTo(t+o[0],i+o[1],t+o[2],i+o[3],t+o[4],i+o[5]),n=t+o[4],s=i+o[5];break;case"H":e.lineTo(t+o[0],s),n=i+o[0];break;case"L":e.lineTo(t+o[0],i+o[1]),n=t+o[0],s=i+o[1];break;case"V":e.lineTo(n,i+o[0]),s=i+o[0];break;default:throw new Error(`Could not translate command '${r}' with '${o.join(" ")}'`)}e.closePath()}};m([ye()],CS.prototype,"x",2);m([ye()],CS.prototype,"y",2);var $K=S(S({},kR),u2),WK=Ht.toFontString,YK={};pr(YK,{CARTESIAN_AXIS_TYPE:()=>SF,ChartTheme:()=>ro,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>Fn,DEFAULT_ANNOTATION_COLOR:()=>Pn,DEFAULT_ANNOTATION_HANDLE_FILL:()=>XD,DEFAULT_AXIS_GRID_COLOUR:()=>Au,DEFAULT_AXIS_LINE_COLOUR:()=>Oy,DEFAULT_BACKGROUND_COLOUR:()=>$y,DEFAULT_CAPTION_ALIGNMENT:()=>xl,DEFAULT_CAPTION_LAYOUT_STYLE:()=>vl,DEFAULT_COLOURS:()=>vQ,DEFAULT_CROSS_LINES_COLOUR:()=>np,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Rn,DEFAULT_FONT_FAMILY:()=>Rt,DEFAULT_GRIDLINE_ENABLED:()=>$r,DEFAULT_HIERARCHY_FILLS:()=>WD,DEFAULT_HIERARCHY_STROKES:()=>YD,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>zl,DEFAULT_INVERTED_LABEL_COLOUR:()=>IF,DEFAULT_LABEL_COLOUR:()=>ai,DEFAULT_MUTED_LABEL_COLOUR:()=>Il,DEFAULT_PADDING:()=>Yo,DEFAULT_POLAR_SERIES_STROKE:()=>$D,DEFAULT_SHADOW_COLOUR:()=>Gl,DEFAULT_TEXTBOX_COLOR:()=>KD,DEFAULT_TEXTBOX_FILL:()=>qD,DEFAULT_TEXTBOX_STROKE:()=>QD,DEFAULT_TEXT_ANNOTATION_COLOR:()=>ZD,DEFAULT_TOOLBAR_POSITION:()=>jp,FONT_SIZE:()=>CF,FONT_WEIGHT:()=>wF,IS_DARK_THEME:()=>ip,PALETTE_ALT_DOWN_FILL:()=>LF,PALETTE_ALT_DOWN_STROKE:()=>EF,PALETTE_ALT_NEUTRAL_FILL:()=>NF,PALETTE_ALT_NEUTRAL_STROKE:()=>UD,PALETTE_ALT_UP_FILL:()=>kF,PALETTE_ALT_UP_STROKE:()=>AF,PALETTE_DOWN_FILL:()=>GD,PALETTE_DOWN_STROKE:()=>jD,PALETTE_NEUTRAL_FILL:()=>HD,PALETTE_NEUTRAL_STROKE:()=>sp,PALETTE_UP_FILL:()=>zD,PALETTE_UP_STROKE:()=>BD,POLAR_AXIS_SHAPE:()=>TF,POLAR_AXIS_TYPE:()=>MF,POSITION:()=>DF,getChartTheme:()=>_S,markerPaletteFactory:()=>T0,singleSeriesPaletteFactory:()=>Yu,themes:()=>ZK});var ZK=Qw(vV,e=>e?.()),XK={};pr(XK,{BandScale:()=>sa,ColorScale:()=>Hl,ContinuousScale:()=>st,Invalidating:()=>ui,LinearScale:()=>Fs,OrdinalTimeScale:()=>Rs,TimeScale:()=>p0});var qK={};pr(qK,{Color:()=>ar,Debug:()=>ut,Logger:()=>z,Padding:()=>da,TimeInterval:()=>El,Vec2:()=>bV,angleBetween:()=>f0,angleDiff:()=>A2,areArrayNumbersEqual:()=>L2,bifurcate:()=>v2,checkDatum:()=>xw,clamp:()=>De,clampArray:()=>Py,countFractionDigits:()=>wp,createId:()=>ls,day:()=>Hw,deepClone:()=>Ti,displacePointFromVector:()=>wX,extent:()=>gr,findMinMax:()=>An,findRangeExtent:()=>Cu,formatNormalizedPercentage:()=>Zw,formatPercentage:()=>Xw,friday:()=>DR,hour:()=>Gw,interpolateColor:()=>BR,interpolateNumber:()=>VR,isBetweenAngles:()=>Qo,isContinuous:()=>m0,isDate:()=>Sp,isDenseInterval:()=>hp,isEqual:()=>_l,isNegative:()=>Cp,isNumber:()=>He,isNumberEqual:()=>_l,isNumberObject:()=>F2,isString:()=>fn,isStringObject:()=>P2,jsonApply:()=>mu,jsonDiff:()=>En,jsonWalk:()=>cr,millisecond:()=>Bw,minute:()=>zw,mod:()=>i0,monday:()=>bR,month:()=>$w,normalisedExtent:()=>y2,normalisedExtentWithMetadata:()=>Ip,normalizeAngle180:()=>pp,normalizeAngle360:()=>_t,normalizeAngle360Inclusive:()=>_X,range:()=>dp,resetIds:()=>LR,round:()=>e0,sanitizeHtml:()=>xt,saturday:()=>SR,second:()=>jw,setAttribute:()=>kl,setVisibility:()=>Wh,shallowClone:()=>Vy,sunday:()=>Uw,thursday:()=>wR,tickFormat:()=>b2,tickStep:()=>wu,ticks:()=>h0,toDegrees:()=>CX,toFixed:()=>t0,toRadians:()=>$i,transformIntegratedCategoryValue:()=>yu,tuesday:()=>_R,utcDay:()=>IR,utcHour:()=>TR,utcMinute:()=>MR,utcMonth:()=>AR,utcYear:()=>ER,uuid:()=>fZ,wednesday:()=>CR,year:()=>Ww,zipObject:()=>lJ});var bV={add:QK,angle:iJ,apply:aJ,equal:sJ,distance:eJ,distanceSquared:tJ,from:rJ,fromOffset:oJ,length:KK,lengthSquared:JK,required:_V,rotate:nJ,sub:wS};function QK(e,t){return{x:e.x+t.x,y:e.y+t.y}}function wS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function KK(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function JK(e){return e.x*e.x+e.y*e.y}function eJ(e,t){let i=wS(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)}function tJ(e,t){let i=wS(e,t);return i.x*i.x+i.y*i.y}function iJ(e,t){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function nJ(e,t,i=_V()){let n=bV.length(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}}function sJ(e,t){return e.x===t.x&&e.y===t.y}function rJ(e,t){return{x:e,y:t}}function oJ(e){return{x:e.offsetX,y:e.offsetY}}function aJ(e,t){return e.x=t.x,e.y=t.y,e}function _V(e){return{x:e?.x??0,y:e?.y??0}}function lJ(e,t){let i={};if(Array.isArray(t))for(let n=0;n<e.length;n++)i[`${e[n]}`]=t[n];else for(let n=0;n<e.length;n++)i[`${e[n]}`]=t;return i}var cJ={};pr(cJ,{AND:()=>cs,ARRAY:()=>Nu,ARRAY_OF:()=>Kr,AbstractBarSeries:()=>QF,AbstractBarSeriesProperties:()=>hS,ActionOnSet:()=>Wi,Animation:()=>XR,AnimationManager:()=>vP,AreaSeriesTag:()=>ZF,Axis:()=>mD,AxisInterval:()=>Ol,AxisLabel:()=>Kt,AxisTick:()=>Fu,AxisTicks:()=>vJ,BOOLEAN:()=>pe,BOOLEAN_ARRAY:()=>YZ,Background:()=>Hu,BackgroundModule:()=>mF,BaseModuleInstance:()=>Lp,BaseProperties:()=>Te,COLOR_STRING:()=>it,COLOR_STRING_ARRAY:()=>us,CachedTextMeasurer:()=>E2,CachedTextMeasurerPool:()=>eo,CartesianAxis:()=>Vu,CartesianSeries:()=>pa,CartesianSeriesNodeEvent:()=>RD,CartesianSeriesProperties:()=>no,CategoryAxis:()=>Bu,ChartAxisDirection:()=>lD,ChartEventManager:()=>bP,ChartOptions:()=>xV,ChartUpdateType:()=>ep,ContextMenuRegistry:()=>_P,Cursor:()=>wP,CursorManager:()=>DP,DATE:()=>sD,DATE_ARRAY:()=>ZZ,DATE_OR_DATETIME_MS:()=>rD,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Vl,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Bl,DEFAULT_TOOLTIP_CLASS:()=>or,DEFAULT_TOOLTIP_DARK_CLASS:()=>O2,DEGREE:()=>oa,DIRECTION:()=>r2,DOMManager:()=>hP,DataController:()=>VP,DataModel:()=>FP,DataModelSeries:()=>ND,DataService:()=>v0,Default:()=>ua,Deprecated:()=>uJ,DeprecatedAndRenamedTo:()=>dJ,EMPTY_TOOLTIP_CONTENT:()=>to,FONT_STYLE:()=>aa,FONT_WEIGHT:()=>la,FUNCTION:()=>mn,GREATER_THAN:()=>Ru,GestureDetector:()=>SP,GroupedCategoryAxis:()=>Su,HierarchyNode:()=>qh,HierarchySeries:()=>fJ,HierarchySeriesProperties:()=>ya,HighlightManager:()=>MP,HighlightProperties:()=>OD,HighlightStyle:()=>Vp,INTERACTION_RANGE:()=>u0,INTERPOLATION_STEP_POSITION:()=>VF,INTERPOLATION_TYPE:()=>FF,InteractionManager:()=>yP,InteractionState:()=>Np,InterpolationProperties:()=>Zu,KeyNavManager:()=>TP,LABEL_PLACEMENT:()=>aD,LARGEST_KEY_INTERVAL:()=>XP,LESS_THAN:()=>Ou,LINE_CAP:()=>XZ,LINE_DASH:()=>Jr,LINE_JOIN:()=>qZ,Layers:()=>R2,LayoutService:()=>kP,LonLatBBox:()=>gJ,MARKER_SHAPE:()=>RF,MATCHING_CROSSLINE_TYPE:()=>gD,MAX_SPACING:()=>l2,MIN_SPACING:()=>a2,MercatorScale:()=>Ow,ModuleRegistry:()=>tP,Motion:()=>tD,NAN:()=>a0,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ui,NUMBER:()=>dt,NUMBER_ARRAY:()=>l0,NUMBER_OR_NAN:()=>Lu,Navigator:()=>ma,NavigatorModule:()=>_F,OBJECT:()=>Q,OBJECT_ARRAY:()=>n2,OR:()=>Nl,OVERFLOW_STRATEGY:()=>KZ,ObserveChanges:()=>Yi,PHASE_METADATA:()=>up,PHASE_ORDER:()=>cu,PLACEMENT:()=>o2,PLAIN_OBJECT:()=>e2,POINTER_INTERACTION_TYPES:()=>_D,POSITION:()=>oD,POSITION_TOP_COORDINATES:()=>Gy,POSITIVE_NUMBER:()=>H,PolarAxis:()=>xu,PolarSeries:()=>A0,PropertiesArray:()=>s0,ProxyOnWrite:()=>RX,ProxyProperty:()=>qt,ProxyPropertyOnWrite:()=>Ei,QUICK_TRANSITION:()=>By,RATIO:()=>Ke,REGIONS:()=>z2,RegionManager:()=>IP,RepeatType:()=>ZR,SKIP_JS_BUILTINS:()=>Jw,SMALLEST_KEY_INTERVAL:()=>ZP,SORT_DOMAIN_GROUPS:()=>qP,STRING:()=>U,STRING_ARRAY:()=>i2,Series:()=>Fp,SeriesGroupingChangedEvent:()=>kD,SeriesItemHighlightStyle:()=>io,SeriesMarker:()=>xn,SeriesNodeEvent:()=>Pp,SeriesNodePickMode:()=>JP,SeriesProperties:()=>fs,SeriesTooltip:()=>qi,SimpleTextMeasurer:()=>pD,StateMachine:()=>Ep,TEXT_ALIGN:()=>s2,TEXT_WRAP:()=>c0,TICK_INTERVAL:()=>G2,TextUtils:()=>Ht,TextWrapper:()=>fD,ToolbarManager:()=>EP,Tooltip:()=>ds,TooltipManager:()=>x0,TooltipPosition:()=>Pu,UNION:()=>ht,UpdateService:()=>LP,VERTICAL_ALIGN:()=>QZ,Validate:()=>b,ZoomManager:()=>zP,__FORCE_MODULE_DETECTION:()=>xJ,accumulateGroup:()=>QP,accumulateStack:()=>KP,accumulatedValue:()=>WP,accumulativeValueProperty:()=>mp,addHitTestersToQuadtree:()=>uS,adjustLabelPlacement:()=>nV,allInStringUnion:()=>gX,animationValidation:()=>zu,area:()=>Ew,arraysEqual:()=>Cl,backfillPathPointData:()=>nS,basicContinuousCheckDatumValidation:()=>AD,bifurcate:()=>v2,buildFormatter:()=>Mp,buildResetPathFn:()=>oS,calculateDefaultTimeTickFormat:()=>KR,calculateLabelChartPadding:()=>B2,calculateLabelTranslation:()=>bw,calculatePlacement:()=>N2,checkCrisp:()=>tV,childrenIter:()=>qF,circularSliceArray:()=>mw,clamp:()=>De,clampArray:()=>Py,collapsedStartingBarPosition:()=>xp,computeBarFocusBounds:()=>pS,computeMarkerFocusBounds:()=>Gp,convertValuesToScaleByDefs:()=>Tq,countFractionDigits:()=>wp,createDatumId:()=>Zr,createDeprecationWarning:()=>DS,createElement:()=>Vt,createElementNS:()=>vw,dateToNumber:()=>dn,deconstructSelectionsOrNodes:()=>r0,deepClone:()=>Ti,deepMerge:()=>kZ,defaultTimeTickFormat:()=>nD,determinePathStatus:()=>$F,diff:()=>Fl,downloadUrl:()=>M2,enterpriseModule:()=>Zo,extent:()=>gr,extractDecoratedProperties:()=>TZ,findMaxValue:()=>hJ,findMinMax:()=>An,findQuadtreeMatch:()=>dS,findRangeExtent:()=>Cu,fixNumericExtent:()=>gn,formatNormalizedPercentage:()=>Zw,formatPercentage:()=>Xw,fromToMotion:()=>Pt,getDocument:()=>Ps,getMissCount:()=>CD,getPath:()=>Kw,getPathComponents:()=>PP,getRectConfig:()=>eV,getWindow:()=>Vs,groupAccumulativeValueProperty:()=>ia,groupAverage:()=>$P,groupBy:()=>uD,groupCount:()=>Aw,groupStackValueProperty:()=>iF,groupSum:()=>HP,initMenuKeyNav:()=>aQ,initToolbarKeyNav:()=>S0,isArray:()=>St,isBoolean:()=>qw,isDate:()=>Dp,isDecoratedObject:()=>n0,isDefined:()=>lp,isEnumKey:()=>EZ,isEnumValue:()=>HR,isEqual:()=>_l,isFiniteNumber:()=>He,isFunction:()=>Qr,isHtmlElement:()=>GR,isNegative:()=>Cp,isNumber:()=>In,isObject:()=>pn,isObjectLike:()=>AZ,isPlainObject:()=>os,isProperties:()=>ur,isRegExp:()=>zR,isString:()=>fn,isSymbol:()=>UR,isValidDate:()=>Sp,jsonApply:()=>mu,jsonDiff:()=>En,jsonWalk:()=>cr,keyProperty:()=>Ai,labelDirectionHandling:()=>j2,listDecoratedProperties:()=>gu,makeAccessibleClickListener:()=>bF,mapIterable:()=>hX,mapValues:()=>Qw,markerFadeInAnimation:()=>yp,markerPaletteFactory:()=>T0,markerScaleInAnimation:()=>eS,markerSwipeScaleInAnimation:()=>tS,mergeArrayDefaults:()=>dw,mergeDefaults:()=>Ve,midpointStartingBarPosition:()=>PQ,minMax:()=>Lw,mod:()=>i0,moduleRegistry:()=>ta,nearestSquared:()=>Jy,nearestSquaredInContainer:()=>gZ,normaliseGroupTo:()=>C0,normalisePropertyTo:()=>Dl,normalisedExtent:()=>y2,normalisedExtentWithMetadata:()=>Ip,pairCategoryData:()=>lS,pairContinuousData:()=>aS,partialAssign:()=>yl,pathFadeInAnimation:()=>op,pathFadeOutAnimation:()=>IQ,pathRangePoints:()=>HF,pathRangePointsReverse:()=>AQ,pathRanges:()=>GF,pathSwipeInAnimation:()=>rS,pickByMatchingAngle:()=>xS,pickNode:()=>Tu,plotPath:()=>sS,predicateWithMessage:()=>ot,prepareAreaPathAnimation:()=>XF,prepareAxisAnimationContext:()=>_w,prepareAxisAnimationFunctions:()=>H2,prepareBarAnimationFunctions:()=>bp,prepareLinePathAnimation:()=>YF,prepareLinePathAnimationFns:()=>WF,prepareLinePathPropertyAnimation:()=>cS,prepareMarkerAnimation:()=>iS,preparePieSeriesAnimationFunctions:()=>Al,range:()=>UP,rangedValueProperty:()=>ED,renderPartialPath:()=>zF,resetAxisGroupFn:()=>U2,resetAxisLabelSelectionFn:()=>W2,resetAxisLineSelectionFn:()=>Y2,resetAxisSelectionFn:()=>$2,resetBarSelectionsFn:()=>_p,resetIds:()=>LR,resetLabelFn:()=>so,resetMarkerFn:()=>zp,resetMarkerPositionFn:()=>vp,resetMotion:()=>Gt,resetPieSelectionsFn:()=>vS,round:()=>e0,scale:()=>oi,seriesLabelFadeInAnimation:()=>Xe,seriesLabelFadeOutAnimation:()=>Ko,setDocument:()=>T2,setElementBBox:()=>ea,setPath:()=>eD,setWindow:()=>I2,shallowClone:()=>Vy,singleSeriesPaletteFactory:()=>Yu,splitPairData:()=>jF,staticFromToMotion:()=>fr,stringify:()=>Qh,sum:()=>xq,sumValues:()=>_0,times:()=>m2,toArray:()=>gw,toFixed:()=>t0,toTooltipHtml:()=>Du,trailingAccumulatedValue:()=>YP,trailingAccumulatedValueProperty:()=>Mq,unique:()=>d0,updateClipPath:()=>Zy,updateLabelNode:()=>iV,updateRect:()=>JF,validateCrossLineValues:()=>V2,valueProperty:()=>qe,without:()=>hw});function DS(){return(e,t)=>{let i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");z.warnOnce(i)}}function uJ(e,t){let i=DS(),n=t?.default;return qr((s,r,o)=>(o!==n&&i(r.toString(),e),o))}function dJ(e,t){let i=DS();return qr((n,s,r)=>(r!==n[e]&&(i(s.toString(),`Use [${e}] instead.`),eD(n,e,t?t(r):r)),Fy),(n,s)=>(i(s.toString(),`Use [${e}] instead.`),Kw(n,e)))}function hJ(e,t,i){if(e>t)return;let n;for(;t>=e;){let s=Math.floor((t+e)/2),r=i(s);r==null?t=s-1:(n=r,e=s+1)}return n}var pJ=(()=>{let e=class Ry{constructor(i,n,s,r,o,a,l,c,u,d,h){this.series=i,this.index=n,this.datum=s,this.size=r,this.colorValue=o,this.fill=a,this.stroke=l,this.sumSize=c,this.depth=u,this.parent=d,this.children=h,this.midPoint={x:0,y:0}}contains(i){let n=i;for(;n!=null&&n.index>=this.index;){if(n===this)return!0;n=n.parent}return!1}walk(i,n=Ry.Walk.PreOrder){n===Ry.Walk.PreOrder&&i(this),this.children.forEach(s=>{s.walk(i,n)}),n===Ry.Walk.PostOrder&&i(this)}*[Symbol.iterator](){yield this;for(let i of this.children)yield*$p(i)}};return e.Walk={PreOrder:0,PostOrder:1},e})(),qh=pJ,fJ=class extends Fp{constructor(e){super({moduleCtx:e,pickModes:[3,0],contentGroupVirtual:!1}),this.rootNode=new qh(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new Ep("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){return L(this,null,function*(){let{childrenKey:e,sizeKey:t,colorKey:i,fills:n,strokes:s,colorRange:r}=this.properties,o=0,a=()=>(o+=1,o),l=0,c=1/0,u=-1/0,d=new Array((this.data?.length??0)+1).fill(void 0),h=(x,v)=>{let _=a(),C=v.depth!=null?v.depth+1:0,w=e!=null?x[e]:void 0,D=w==null||w.length===0,M=t!=null?x[t]:void 0;Number.isFinite(M)?M=Math.max(M,0):M=D?1:0;let I=M;l=Math.max(l,C);let T=i!=null?x[i]:void 0;return typeof T=="number"&&(d[_]=T,c=Math.min(c,T),u=Math.max(u,T)),p(new qh(this,_,x,M,T,void 0,void 0,I,C,v,[]),w)},p=(x,v)=>(v?.forEach(_=>{let C=h(_,x);x.children.push(C),x.sumSize+=C.sumSize}),x),f=p(new qh(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),g=[c,u],y;r!=null&&Number.isFinite(c)&&Number.isFinite(u)&&(y=new Hl,y.domain=g,y.range=r,y.update()),f.children.forEach((x,v)=>{x.walk(_=>{let C,w=d[_.index];w!=null&&(C=y?.convert(w)),C??(C=n?.[v%n.length]),_.fill=C,_.stroke=y==null?s?.[v%s.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=f,this.maxDepth=l,this.colorDomain=g,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]})}update(t){return L(this,arguments,function*({seriesRect:e}){yield this.updateSelections(),yield this.updateNodes();let i=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)})}resetAllAnimation(e){let t=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),t!=null&&Gt(e.datumSelections,t)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){let t=this.animationResetFns?.datum;t!=null&&Gt([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){let{colorKey:t,colorName:i,colorRange:n,visible:s}=this.properties;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:s,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){if(this.rootNode.children.length===0)return;this.focusPath.length===0&&z.error("this.focusPath should not be empty");let{datumIndexDelta:t,otherIndexDelta:i}=e,{focusPath:n}=this,s=n.length-2;if(i!==0||n.length===1){let r=Math.max(0,s+i);if(n[r+1]!==void 0)return n.length=r+2,this.computeFocusOutputs(n[r+1]);{let o=n[n.length-1];for(;o.nodeDatum.children.length>0&&(o.nodeDatum.depth??-1)<r;){let a={nodeDatum:o.nodeDatum.children[0],childIndex:0};n.push(a),o=a}return this.computeFocusOutputs(o)}}else if(t!==0){let r=n[s+1].childIndex+t,o=n[s].nodeDatum,a=o?.children?.length;if(a!==void 0){let l=De(0,r,a-1),c={nodeDatum:o.children[l],childIndex:l};return n[s+1]=c,n.length=s+2,this.computeFocusOutputs(c)}}else return this.computeFocusOutputs(n[n.length-1])}getDatumAriaText(e,t){if(!(e instanceof qh)){z.error(`datum is not HierarchyNode: ${e}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}computeFocusOutputs({nodeDatum:e,childIndex:t}){let i=this.computeFocusBounds(e);if(i)return{datum:e,datumIndex:t,otherIndex:e.depth,bounds:i,showFocusBox:!0}}},ya=class extends fs{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Ni),this.strokes=Object.values(rr)}};m([b(U)],ya.prototype,"childrenKey",2);m([b(U,{optional:!0})],ya.prototype,"sizeKey",2);m([b(U,{optional:!0})],ya.prototype,"colorKey",2);m([b(U,{optional:!0})],ya.prototype,"colorName",2);m([b(us)],ya.prototype,"fills",2);m([b(us)],ya.prototype,"strokes",2);m([b(us,{optional:!0})],ya.prototype,"colorRange",2);var gJ=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}};function mJ(){let e=new Map;return t=>{let i=e.get(t);return i?(e.set(t,i+1),`${t}${i}`):(e.set(t,1),t)}}var yJ=(()=>{let e=class Vw{constructor(){this.id=ls(this),this.axisGroup=new se({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=bt.select(this.axisGroup,gt,!1),this.interval=new Ol,this.label=new Kt,this.scale=new Fs,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(i){i.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;let i=[],n=this.generateTicks(),{translationX:s,translationY:r}=this;return this.labelSelection.update(n.ticks.map(o=>this.createLabelDatum(o)),o=>o.appendChild(new gt),o=>o.tickId),this.labelSelection.each((o,a)=>{o.setProperties(a),a.visible&&i.push(o.getBBox())}),this.axisGroup.setProperties({translationX:s,translationY:r}),X.merge(i)}getLabelParams(i){let{padding:n}=this,{translate:s}=i;switch(this.position){case"top":case"bottom":return{x:s,y:n,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:n,y:s,textAlign:"start",textBaseline:"middle"}}}inRange(i,n=.001){let[s,r]=An(this.scale.range);return i>=s-n&&i<=r+n}createLabelDatum(i){let{x:n,y:s,textBaseline:r,textAlign:o}=this.getLabelParams(i);return{visible:!!i.tickLabel,tickId:i.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:i.tickLabel,textAlign:o,textBaseline:r,x:n,y:s}}generateTicks(){let{minSpacing:i,maxSpacing:n}=this.interval,s=e0(Cu(this.scale.range),2),{maxTickCount:r,minTickCount:o,tickCount:a}=yX(s,i,n,Vw.DefaultTickCount,Vw.DefaultMinSpacing);a&&(this.scale.tickCount=a,this.scale.minTickCount=o,this.scale.maxTickCount=r);let l=this.getTicksData();if(this.position==="bottom"||this.position==="top"){let c=eo.getMeasurer({font:this.label}),u=-1/0;l.ticks=l.ticks.filter(d=>{if(u<d.translate)return u=d.translate+c.textWidth(d.tickLabel,!0),!0})}return l}getTicksData(){let i=[],n=this.scale.ticks(),s=n.reduce((a,l)=>Math.max(a,wp(l)),0),r=mJ(),o=this.label.format?this.scale.tickFormat({ticks:n,specifier:this.label.format}):a=>In(a)?a.toFixed(s):String(a);for(let a=0;a<n.length;a++){let l=n[a],c=this.scale.convert(l);if(!this.inRange(c))continue;let u=this.label.formatter?.({value:l,index:a,fractionDigits:s})??o(l),d=r(u);i.push({tick:l,tickId:d,tickLabel:u,translate:c})}return{rawTicks:n,fractionDigits:s,ticks:i}}};return e.DefaultTickCount=5,e.DefaultMinSpacing=50,e})(),vJ=yJ,xJ=0;var SS=class{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let t=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(t)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(t){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(t){let i=n=>{let s=n??{};for(let[r,o]of Object.entries(s))typeof o=="function"&&(s[r]=(...a)=>{this.runInsideAngular(()=>o(...a))})};return i(t?.legend?.listeners),i(t?.listeners),t.series?.forEach(n=>{i(n.listeners)}),t.container?t:k(S({},t),{container:this._nativeElement})}runOutsideAngular(t){return this.ngZone?this.ngZone.runOutsideAngular(t):t()}runInsideAngular(t){return this.ngZone?this.ngZone.run(t):t()}},CV=(()=>{class e extends SS{ngZone;options={};onChartReady=new K;constructor(i,n){super(),this.ngZone=n,this._nativeElement=i.nativeElement}createChart(i){return Qy.create(i)}static \u0275fac=function(n){return new(n||e)(W(vt),W(We))};static \u0275cmp=ve({type:e,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},standalone:!0,features:[rn,Rg],decls:0,vars:0,template:function(n,s){},encapsulation:2})}return e})();var wV=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Ze({type:e,bootstrap:[nO]});static \u0275inj=Ye({providers:[SE()],imports:[OE,tO,CV,sk,QN]})}return e})();NE().bootstrapModule(wV,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
